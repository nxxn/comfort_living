!function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=66)}([function(e,t,n){"use strict";function a(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/'/gm,"&apos;")}function i(e){return e.replace(/&apos;/gm,"'").replace(/&quot;/gm,'"').replace(/&gt;/gm,">").replace(/&lt;/gm,"<").replace(/&amp;/gm,"&")}function o(e){return a(e).replace(/^@/gm,"\\ufeff@")}function r(e){setTimeout(function(){e.focus(),e.select()},4)}function s(e){for(var t=e.parentElement;t&&t.scrollHeight<=t.clientHeight;)t=t.parentElement;return t}function l(e,t){var n=document.createElement("div"),a=document.createElement("div");n.appendChild(a),n.classList.add("toastContainer"),a.classList.add("toast"),a.textContent=e,(t=t||document.body).appendChild(n),setTimeout(function(){n.classList.add("show"),setTimeout(function(){n.addEventListener("transitionend",function(){n.remove()}),n.classList.remove("show")},3e3)},50)}function c(e){getSelection().removeAllRanges();var t=document.createRange();t.selectNodeContents(e),getSelection().addRange(t)}function u(e){var t=document.createElement("div");t.classList.add("copyContainer"),t.textContent=e.content,e.container?e.container.appendChild(t):document.body.appendChild(t),c(t);try{document.execCommand("copy")&&e.toastContainer&&l("Copied to clipboard!",e.toastContainer)}catch(e){}getSelection().removeAllRanges(),t.remove()}function d(e,t){if(!(t=t||s(e)))return!0;var n=e.getBoundingClientRect(),a=t.getBoundingClientRect();return a.top<=n.top&&a.bottom>=n.bottom&&a.left<=n.left&&a.right>=n.right}function m(e,t){return new Promise(function(n){var a=document.createElement("canvas");a.width=t.width,a.height=t.height;var i=a.getContext("2d");i.webkitImageSmoothingEnabled=!0,i.mozImageSmoothingEnabled=!0,i.msImageSmoothingEnabled=!0,i.imageSmoothingEnabled=!0,i.imageSmoothingQuality="medium";var o=document.createElement("img");o.crossOrigin="anonymous";var r,s,l,c=1,u=0,d=0;o.addEventListener("load",function(e){o.width<=a.width?(r=o.width,u=(a.width-o.width)/2):(c=a.width/o.width,r=a.width),t.height||(a.height=a.width*o.height/o.width),(l=c*o.height)<=a.height?(s=o.height,d=(a.height-l)/2):(s=a.height/c,l=a.height),i.drawImage(o,0,0,o.width,s,u,d,r,l),a.toBlob(function(e){n(URL.createObjectURL(e))})}),o.addEventListener("error",function(t){n(e)}),o.src=e})}function g(e,t,n){t[Symbol.for("thumbnail")]?Object.assign(e,t[Symbol.for("thumbnail")]):Promise.all([m(t[n],{width:e.width,height:e.height}),m(t[n],{width:2*e.width,height:2*e.height})]).then(function(n){t[Symbol.for("thumbnail")]={src:n[0],srcset:n[1]},Object.assign(e,t[Symbol.for("thumbnail")])})}function p(e,t){var n=Number(e).toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:t});return Number(n)}function f(e,t){if(t=t||s(e)){var n=e.getBoundingClientRect(),a=t.getBoundingClientRect();setTimeout(function(){n.top<a.top?t.scrollTop-=a.top-n.top:n.bottom>a.bottom&&(t.scrollTop+=n.bottom-a.bottom)},4)}}function h(e,t){if(!e)return Zeplin.urls.appURL+"/img/emotars/emotarAnonymous.png";var n=!1;if("ignoreRandomEmotar"in(t=t||{})&&(n=t.ignoreRandomEmotar),!n&&e.emotar){var a=e.emotar.replace(/_\w/g,function(e){return e.charAt(1).toUpperCase()});return a=L(a),{src:Zeplin.urls.appURL+"/img/emotars/emotar"+a+".png"}}if(e.avatar)return{src:e.avatar};var i;if(n)return{src:Zeplin.urls.appURL+"/img/emotars/icRandom.svg"};if(e.email){var o=V[e._id];o||(o=Array.from(Z()(e._id)).reduce(function(e,t){return e+t.charCodeAt()},0),V[e._id]=o),i=L(i=H[o%H.length].replace(/_\w/g,function(e){return e.charAt(1).toUpperCase()})),i=Zeplin.urls.appURL+"/img/emotars/emotar"+i+".png";var r="https://secure.gravatar.com/avatar/"+Z()(e.email);return{src:r+"?"+(t.size?"s="+t.size+"&":"")+"d="+i,srcset:r+"?"+(t.size?"s="+2*t.size+"&":"")+"d="+i+" 2x"}}}function y(e,t,n){var a=e.parentElement;a.classList.add("loading"),e.removeAttribute("src"),e.removeAttribute("srcset"),e.addEventListener("load",function t(){e.removeEventListener("load",t),a.classList.remove("loading")});var i=h(t,{ignoreRandomEmotar:!!n,size:e.width});i&&Object.assign(e,i)}function b(e){e.addEventListener("animationend",function(t){e.classList.remove("wiggle")}),e.classList.add("wiggle")}function v(e){return e.replace(K,function(e){return G.test(e)?'<span class="emoji skinType">'+e+"</span>":'<span class="emoji">'+e+"</span>"}).replace(/<\/span><span class="emoji skinType">/g,"")}function S(e,t){var n=e.findIndex(t);if(-1!==n)return e.splice(n,1)[0]}function j(e,t){return e.fontSize>t.fontSize?-1:e.fontSize===t.fontSize?e.fontWeight>t.fontWeight?-1:e.fontWeight===t.fontWeight?e.color&&t.color?e.fontFace<=t.fontFace?-1:1:e.color?-1:t.color?1:e.fontFace<=t.fontFace?-1:1:1:1}function E(e,t,n){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(!n(e[a],t[a]))return!1;return!0}function w(e,t){return!(!e||!/^[0-9a-f]{24}$/i.test(e))||("Raven"in window&&Raven.captureException(new Error("Invalid "+(t||"object")+" id"),{extra:{id:e}}),!1)}function C(e){return e.charAt(0).toLowerCase()+e.substring(1)}function L(e){return e.charAt(0).toUpperCase()+e.substring(1)}function D(e){return!e.users.length||ee.includes(e.users[0].role)}function x(e,t,n){var a=t.toLowerCase();if(e===a)return{score:1,hasFuzzyMatch:!1};var i=0,o=e,r=n&&n.toLowerCase();if(r&&o.includes(r)){i+=.3;var s=o.replace(new RegExp("\\s*\\b"+r+"\\s*\\b","g")," ").trim();s.length&&(o=s)}var l=a.indexOf(o);l>-1&&(i+=.3,a.startsWith(o)?i+=.3:" "===a.charAt(l-1)&&(i+=.2),i+=(a.length-l)/a.length/200);for(var c=-1,u=0,d=0,m=c=a.indexOf(o.charAt(d));m<a.length&&-1!==c;m++){u+=(a.length-c)/a.length/200," "===a.charAt(c>0?c-1:c)&&(u+=(a.length-c)/a.length/200);var g=o[++d];c=g?a.indexOf(g,c+1):-1}var p=!1;return d===o.length&&(i+=.05,i+=u,p=!0),{score:i,hasFuzzyMatch:p}}function k(e,t,n,i){var o=0,r=t.toLowerCase();if(r.includes(n))o=r.indexOf(n),e.innerHTML=a(t.slice(0,o))+"<span class='highlight'>"+a(t.slice(o,o+n.length))+"</span>"+a(t.slice(o+n.length,t.length));else if(i){var s=Array.from(t),l=Array.from(r),c=Array.from(n),u="",d=0;o=l.indexOf(c[0]);for(var m=0;m<l.length;m++)if(o===m){var g=c[++d];o=g?l.indexOf(g,o+1):-1,u+="<span class='highlight'>"+a(s[m])+"</span>"}else u+=a(s[m]);e.innerHTML=u}else e.textContent=t}function q(e){return(e=Math.round(e))?255===e?"1.0f ":e+".0f / 255.0f ":"0.0f "}function T(e){return(e=Math.round(e))?255===e?"1.0, ":e+".0 / 255.0, ":"0.0, "}function I(e){var t=(e="?"===e[0]?e.substring(1):e).split("&").map(function(e){return e.split("=").map(function(e){return e.replace(/\+/g,"%20")}).map(decodeURIComponent)}),n=Array.from(new Set(t.map(function(e){return e[0]}))).reduce(function(e,t){return e[t]=[],e},{});return t.forEach(function(e){var t=n[e[0]];t&&e[1]&&t.push(e[1])}),n}function _(e){if(!Object.keys(e))return"";var t=[];return Object.keys(e).forEach(function(n){e[n]&&("string"==typeof e[n]?t.push([n,e[n]]):e[n].forEach(function(e){t.push([n,e])}))}),t.map(function(e){return e.map(encodeURIComponent).join("=")}).join("&")}function F(e,t){return Object.keys(t).reduce(function(e,n){return e.replace(new RegExp(":"+n),t[n])},e)}function B(e){return 0===Object.keys(e).length}function A(e,t){t=t||{};var n=new URL(t.origin||"https://app.zeplin.io");return n.pathname=t.url?F(te[e],t.url):te[e],t.query&&!B(t.query)&&(n.search=_(t.query)),t.hash&&!B(t.hash)&&(n.hash=_(t.hash)),n.toString()}function N(e){return(e.getDay()+6)%7}function O(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=t.getTime(),a=new Date(n-864e5),i=new Date(n-864e5*N(e)),o=new Date(n-864e5*(N(e)+7)),r=new Date(n-864e5*(e.getDate()-1)),s=new Date(n-864e5*(e.getDate()+1));return s.setDate(1),[["today",t],["yesterday",a],["this week",i],["last week",o],["this month",r],["last month",s]]}function P(e){var t=O().find(function(t){return e>=t[1]});if(t)return t[0];return((new Date).getFullYear()===e.getFullYear()?Intl.DateTimeFormat("en",{month:"long"}):Intl.DateTimeFormat("en",{year:"numeric",month:"long"})).format(e)}function U(e,t){return e.split(/[\W_]/).some(function(e){return e.startsWith(t)})}function R(e,t){return t?e.length-e.split("").reverse().join("").search(/\W/)-1:e.search(/\W/)}function M(){for(var e=Math.random(),t=0,n=0;t<ne.length;t++)if(e<=(n+=ae[t]))return ne[t];return ne[ne.length-1]}n.d(t,"g",function(){return a}),n.d(t,"G",function(){return i}),n.d(t,"n",function(){return r}),n.d(t,"j",function(){return s}),n.d(t,"C",function(){return l}),n.d(t,"A",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"p",function(){return d}),n.d(t,"x",function(){return g}),n.d(t,"y",function(){return p}),n.d(t,"z",function(){return f}),n.d(t,"m",function(){return h}),n.d(t,"B",function(){return y}),n.d(t,"D",function(){return Y}),n.d(t,"K",function(){return b}),n.d(t,"b",function(){return S}),n.d(t,"h",function(){return j}),n.d(t,"e",function(){return K}),n.d(t,"E",function(){return v}),n.d(t,"a",function(){return E}),n.d(t,"J",function(){return w}),n.d(t,"s",function(){return C}),n.d(t,"H",function(){return L}),n.d(t,"w",function(){return $}),n.d(t,"q",function(){return D}),n.d(t,"c",function(){return x}),n.d(t,"o",function(){return k}),n.d(t,"v",function(){return I}),n.d(t,"r",function(){return _}),n.d(t,"I",function(){return A}),n.d(t,"f",function(){return o}),n.d(t,"l",function(){return P}),n.d(t,"F",function(){return U}),n.d(t,"i",function(){return R}),n.d(t,"t",function(){return q}),n.d(t,"u",function(){return T}),n.d(t,"k",function(){return M});var z=n(3),Z=n.n(z),H=["alien","bear","grapes","meat_on_bone","bread","lollipop","chicken","cookie","dark_sunglasses","dart","dog","eyes","frog","ghost","gift","jack_o_lantern","hamburger","koala","four_leaf_clover","lemon","lion_face","tophat","monkey_face","new_moon_with_face","hamster","mushroom","chestnut","octopus","panda_face","penguin","pig_nose","rabbit","mouse","robot_face","space_invader","full_moon_with_face","tennis","tomato","tv"],V={},W={king:4,queen:3,rook:2,knight:1,pawn:0,owner:2,admin:1,user:0},Y={role:function(e,t){return"invited"===e.user.status?"invited"===t.user.status&&e.user.email<t.user.email?-1:1:"invited"===t.user.status?-1:e.role===t.role?e.user.username<t.user.username?-1:1:W[t.role]-W[e.role]},created:function(e,t){return new Date(t.created)-new Date(e.created)},lastUpdated:function(e,t){return new Date(t.updated)-new Date(e.updated)},_property:function(e,t,n){e&&(t=t[e],n=n[e]);for(var a=t.toLowerCase().match(/\D+|\d+/g),i=n.toLowerCase().match(/\D+|\d+/g),o=Math.min(a.length,i.length),r=0;r<o;r++)if(a[r]!==i[r]){var s=parseInt(a[r],10),l=parseInt(i[r],10);return isNaN(s)||isNaN(l)?a[r]<i[r]?-1:a[r]>i[r]?1:0:s-l}return a.length-i.length},naturally:function(e,t){return Y._property(null,e,t)},name:function(e,t){return Y._property("name",e,t)}},K=/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74)\uDB40\uDC7F|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]\uFE0F|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83D\uDC69\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83D\uDC69\u200D[\u2695\u2696\u2708])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC68(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F/g,G=/\ud83c[\udffb-\udfff]/g,J=["user","admin","owner","pawn","knight","rook","queen","king"],X={canTransferOwnership:["king","queen","rook","owner"],canLeaveProject:["king","queen","rook","knight","pawn","user","admin"],canCreateProject:["king","queen","rook"],canUpdateProject:["king","queen","rook","owner","admin","user"],canChangeProjectAccesibility:["king","queen","rook","owner","admin"],canChangeProjectStatus:["king","queen","rook","owner","admin"],canDeleteProject:["king","queen","rook","owner"],canManageScreens:["king","queen","rook","owner","admin","user"],canMoveScreens:["king","queen","rook","owner","admin"],canManageColors:["king","queen","rook","owner","admin","user"],canManageTextStyles:["king","queen","rook","owner","admin","user"],canRemoveNotes:["king","queen","owner","admin"]},$={isSuperior:function(e,t,n){var a=J.indexOf(e.role),i=J.indexOf(t.role);return n&&a===i||a>i}};for(var Q in X)$[Q]=function(e){return function(t){return X[e].indexOf(t.role)>=0}}(Q);var ee=["king","queen","rook","knight","pawn"],te={downloads:"/downloads",forgotPassword:"/forgot-password",hodor:"/hodor",huggingSlack:"/hugging-slack",login:"/login",preview:"/project/:pid/preview",profile:"/profile","profile-account":"/profile/account","profile-password":"/profile/password","profile-billing":"/profile/billing",project:"/project/:pid","project-dashboard":"/project/:pid/dashboard","project-styleguide":"/project/:pid/styleguide","project-screen":"/project/:pid/screen/:sid",projects:"/projects",register:"/register",resetPassword:"/reset-password",thanks:"/thanks",verify:"/verify",welcome:"/welcome","organization-create":"/organization/create","organization-dashboard":"/organization/:oid/dashboard","organization-profile":"/organization/:oid/profile","organization-profile-billing":"/organization/:oid/profile/billing","organization-projects":"/organization/:oid/projects"},ne=["broccoli","car","cook","elephant","mariachi","paw","pear","rocket"],ae=ne.map(function(){return.95/(ne.length-1)});ae[ne.indexOf("mariachi")]=.05},function(e,t,n){"use strict";function a(e,t){return t=t||{},e>=400&&e<500?new o.a(e,t.title,t.message):e>=500&&e<600?new r.a(e):new Error("We're experiencing a problem here, our developers are on the case. Please try it later.")}function i(e,t){var n={title:e.title,message:e.message};if(e instanceof r.a)t?"serverErrorHandler"in t?t.serverErrorHandler(e):("serverErrorDialogCallback"in t?n.done={cb:t.serverErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),s.a(n)):s.a(n);else if(e instanceof o.a)if(401===e.status){if(t&&"clientErrorHandler"in t&&"object"==typeof t.clientErrorHandler&&"function"==typeof(i=t.clientErrorHandler[401]))return void i();Cookies.expire("userToken"),localStorage.removeItem("user"),Raven.setUserContext(),s.a({title:e.title,message:e.message},{defer:!0}),Zeplin.requireLogin()}else if(400===e.status&&Raven.captureException(e),t)if("clientErrorHandler"in t){var a=t.clientErrorHandler;if("function"==typeof a)a(e);else if("object"==typeof a){var i=a[e.status];"function"==typeof i?i(e):"default"in a&&a.default(e)}}else"clientErrorDialogCallback"in t?n.done={cb:t.clientErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),s.a(n);else s.a(n);else Raven.captureException(e),t&&"fallbackHandler"in t?t.fallbackHandler():s.a()}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var o=n(4),r=n(6),s=n(2)},function(e,t,n){"use strict";function a(e){var t=document.createElement("dialog"),n=document.createElement("h1"),a=document.createElement("div"),o=document.createElement("form"),r=document.createElement("button"),s=document.createElement("div"),l=document.createElement("div");if(e&&e.img){var c=document.createElement("div");c.classList.add("iconContainer"),s.appendChild(c),i(e.img,t)}if(n.classList.add("title"),s.appendChild(n),a.classList.add("message"),s.appendChild(a),e&&e.input){s.classList.add("inputDialogContainer");var u=document.createElement("div"),d=document.createElement("span"),m=document.createElement("input");u.classList.add("inputContainer"),d.classList.add("subtitle"),d.textContent=e.input.title,m.type=e.input.type,u.appendChild(d),u.appendChild(m),o.appendChild(u)}if(e&&e.cancel){var g=document.createElement("button");g.classList.add("cancel"),g.type="submit",g.textContent=e.cancel.name||"CANCEL",g.appendChild(document.createElement("paper-ripple")),e.cancel.cb&&g.addEventListener("click",e.cancel.cb),l.appendChild(g)}return r.classList.add("done"),r.type="submit",r.autofocus=!0,r.textContent=e&&e.done&&e.done.name||"OK",r.appendChild(document.createElement("paper-ripple")),e&&e.done&&e.done.cb&&r.addEventListener("click",e.done.cb),l.appendChild(r),l.classList.add("buttonContainer"),o.appendChild(l),o.setAttribute("method","dialog"),s.appendChild(o),t.appendChild(s),document.querySelector("body").appendChild(t),t}function i(e,t){var n=t.querySelector("img");n?(n.src=e.src,n.srcset=e.srcset||""):((n=document.createElement("img")).src=e.src,n.srcset=e.srcset||"",t.querySelector(".iconContainer").appendChild(n))}function o(e,t){if(!document.querySelector("dialog.generic")||e){var n=e&&e.title||"",i=e&&e.message||"We're experiencing a problem here, our developers are on the case. Please try it later.",o=!1;if(t&&"defer"in t&&(o=t.defer),o)sessionStorage.setItem("deferredDialog",JSON.stringify({title:n,message:i}));else{var r=a(e);s.a.registerDialog(r),r.querySelector(".title").textContent=n,r.querySelector(".message").textContent=i,r.addEventListener("click",function(e){e.stopPropagation()}),r.addEventListener("close",function(){r.remove()}),e||r.classList.add("generic"),r.showModal()}}}n.d(t,"a",function(){return o});var r=n(5),s=n.n(r);n.d(t,"b",function(){return s.a});var l=JSON.parse(sessionStorage.getItem("deferredDialog"));l&&(sessionStorage.removeItem("deferredDialog"),o(l))},function(e,t){e.exports=md5},function(e,t,n){"use strict";function a(e,t,n){this.stack=(new Error).stack,this.status=e||400,this.title=t||"Ooops!",this.message=n||"We're experiencing a problem here, our developers are on the case. Please try it later."}t.a=a,(a.prototype=Object.create(Error.prototype)).name="ClientError",a.prototype.toString=function(){return"("+this.status+") "+this.title+"\n"+this.message}},function(e,t){e.exports=dialogPolyfill},function(e,t,n){"use strict";function a(e){switch(this.stack=(new Error).stack,this.status=e||500,this.status){case 503:this.message="Under maintenance, please try again in a little while.";break;default:this.message="We're experiencing a problem here, our developers are on the case. Please try it later."}}t.a=a,(a.prototype=Object.create(Error.prototype)).name="ServerError",a.prototype.toString=function(){return"("+this.status+") "+this.message}},function(e,t,n){"use strict";function a(){return s?Promise.resolve(s):fetch(Zeplin.urls.baseURL+"/api/plans").then(function(e){return e.json().then(function(t){if(e.ok)return s=Object.freeze(t.plans);throw u.a(e.status,t)})})}function i(){y||"dismissed"===sessionStorage.getItem("socketErrorBannerStatus")||(y=setTimeout(function(){d.b({contentType:"text",group:"socket",content:"Real-time updates are disabled due to socket connectivity problem.",closeCallback:function(){sessionStorage.setItem("socketErrorBannerStatus","dismissed")}})},p))}function o(e){function t(){d.a("payment"),i&&(document.querySelector("header.tabs").dataset.selection="billing",document.querySelector("#billingTab").checked=!0)}var n,a={contentType:"html",group:"payment"},i=document.querySelector("#billingTab");e.oid?"queen"===e.currentRole||"king"===e.currentRole?(n="Payment failed: To continue accessing "+(e.isGeneric?"the projects of the organization":"this project")+", please <a href='"+Object(m.I)("organization-profile-billing",{url:{oid:e.oid}})+"'>update</a> your organization payment information.",a.bodyCallbacks={a:t}):n="Payment failed: To continue accessing "+(e.isGeneric?"the projects of the organization":"this project")+", please contact organization admins and ask them to update payment information.":"owner"===e.currentRole?(n="Payment failed: To continue accessing "+(e.isGeneric?"your projects":"this project")+", please <a href='"+Object(m.I)("profile-billing")+"'>update</a> your payment information.",a.bodyCallbacks={a:t}):n="Payment failed: To continue accessing this project, please contact the owner ("+e.ownerEmail+") and ask them to update their payment information.",a.content=n,d.b(a)}function r(e){return fetch(Zeplin.urls.baseURL+"/users/emotar",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({emotar:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw u.a(e.status,t)})})}n.d(t,"b",function(){return g}),n.d(t,"c",function(){return f}),n.d(t,"f",function(){return h}),n.d(t,"a",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return r});var s,l=n(19),c=n.n(l),u=n(1),d=n(10),m=n(0),g=Object.freeze({android:"Android",ios:"iOS",osx:"macOS",web:"Web"}),p=3e4;window.addEventListener("storage",function(e){if(e.storageArea===localStorage&&"user"===e.key){var t=JSON.parse(e.oldValue),n=JSON.parse(e.newValue);if(!n)return;if(Zeplin.user=n,t._id!==n._id)return location.reload()}});var f,h,y;Cookies.get("userToken")&&("Intercom"in window&&Intercom("boot",{app_id:"41ycdg94",user_id:Zeplin.user._id,email:Zeplin.user.email,last_seen_user_agent:navigator.userAgent,"last seen at web":Math.floor(Date.now()/1e3),username:Zeplin.user.username,verified:"verified"===Zeplin.user.status,plan:Zeplin.user.paymentPlan}),(f=new c.a("12ddd9afec9f9b421244",{cluster:"zeplin",encrypted:!0,enabledTransports:["ws","wss"],authEndpoint:Zeplin.urls.baseURL+"/v2/pusher/auth",auth:{headers:{"Zeplin-Token":Cookies.get("userToken")}}})).connection.bind("failed",i),f.connection.bind("unavailable",i),f.connection.bind("connected",function(){Zeplin.headers.set("Zeplin-Socket-Id",f.connection.socket_id),clearTimeout(y),d.a("socket")}),(h=f.subscribe("private-user@"+Zeplin.user._id)).bind("UpdateUsername",function(e){Zeplin.updateUser({username:e.body.username})}),h.bind("UpdateEmail",function(e){Zeplin.updateUser({email:e.body.email})}),h.bind("VerifyUser",function(){Zeplin.updateUser({status:"verified"})}),h.bind("UpdateEmailNotifications",function(e){Zeplin.updateUser({emailNotifications:e.body.emailNotifications})}),h.bind("UpdateUserBilling",function(e){Zeplin.updateUser({billing:{email:e.body.email,extraInfo:e.body.extraInfo}})}),h.bind("DeleteUser",function(){Cookies.expire("userToken"),localStorage.removeItem("user"),location.replace(Object(m.I)("login"))}))},function(module,__webpack_exports__,__webpack_require__){"use strict";var electronModule;"undefined"==typeof process||process.browser||(electronModule=eval("require")("electron")),__webpack_exports__.a=electronModule},function(e,t,n){"use strict";function a(){o=l.a.createInstance({driver:[l.a.INDEXEDDB,l.a.LOCALSTORAGE],name:"userPrefs",version:1}),r=l.a.createInstance({driver:[l.a.INDEXEDDB,l.a.LOCALSTORAGE],name:"projectPrefs",version:1})}function i(e){return function(){var t=arguments;return e.apply(null,t).catch(function(){a(),e.apply(null,t)})}}n.d(t,"b",function(){return d}),n.d(t,"a",function(){return m});var o,r,s=n(13),l=n.n(s),c={notificationStatus:!1,notificationBannerStatus:!0,projectSortType:"created",tabTutorialSeen:!1,versionsTutorialSeen:!1,hideNoVectorAssetInfo:!1,lastOrganization:"user",dashboardMemberSortKey:{field:"role",reverse:!0},resolvedDotsTutorialSeen:!1},u={assetNamingConvention:"default",dotListingsStatusFilter:"open",generatorContainerWidth:300,lastNoteColorUsed:"yellow",layoutGridEnabled:!1,noResourceInfoDismissed:!1,noteVisibility:!0,projectInfoWidth:280,rightSidebarWrapperWidth:280,sectionsCollapseState:{},showOptimizedSVG:!0,showDefaultValues:!1,showDimensions:!0,styleColorFormat:"default",versionsLastSeen:{},versionsSidebarWrapperWidth:280,zoomLevel:1,attributedStringShowDefaultAttributes:!1,androidLineSpacingType:"extra",androidStyleExportType:"xml",androidResFolderReminderSeen:!1,iosDeploymentTarget:"10.0",iosStyleExportType:"swift",osxDeploymentTarget:"10.12",osxStyleExportType:"swift",webMixin:!1,webStyleExportType:"css",webUnitlessLineHeight:!0};a();var d={get:function(e){return o.getItem(e).then(function(t){return null===t?c[e]:t})},set:function(e,t){return o.setItem(e,t)}},m={get:function(e,t,n){return r.getItem(e).then(function(e){return e&&t in e?n?e[t][n]:e[t]:u[t]})},set:function(e,t,n,a){return r.getItem(e).then(function(i){return i||(i={}),a?(i[t]||(i[t]={}),i[t][n]=a,r.setItem(e,i)):(i[t]=n,r.setItem(e,i))})}};m.get=i(m.get),m.set=i(m.set),d.get=i(d.get),d.set=i(d.set),r.iterate(function(e,t){var n=!1;"webStyleColorFormat"in e&&(e.styleColorFormat=e.webStyleColorFormat,delete e.webStyleColorFormat,n=!0),"webDefaultValues"in e&&(e.showDefaultValues=e.webDefaultValues,delete e.webDefaultValues,n=!0),"webShowDimensions"in e&&(e.showDimensions=e.webShowDimensions,delete e.webShowDimensions,n=!0),n&&r.setItem(t,e)})},function(e,t,n){"use strict";t.b=function(e){e=e||{};var t=document.importNode(a.content,!0).querySelector(".banner"),n=t.querySelector(".bannerContent");if(e.group){if(document.querySelector("."+e.group+"Banner"))return;t.classList.add(e.group+"Banner")}switch(e.contentType){case"html":n.innerHTML=e.content;break;case"text":default:n.textContent=e.content}if(t.classList.add(e.type||"warn"),t.addEventListener("click",function(e){e.stopPropagation()}),e.bannerCloseText&&(t.querySelector(".bannerCloseButton span").textContent=e.bannerCloseText),e.style&&e.style.zIndex&&(t.style.zIndex=e.style.zIndex),t.querySelector(".bannerCloseButton").addEventListener("click",function(n){n.stopPropagation(),n.preventDefault(),e.closeCallback&&e.closeCallback(),t.remove()}),e.bodyCallbacks)for(var i in e.bodyCallbacks)t.querySelector(i).addEventListener("click",e.bodyCallbacks[i]);e.container?e.container.appendChild(t):document.body.appendChild(t)},t.a=function(e){var t=document.querySelector("."+e+"Banner");t&&t.remove()};var a=document.getElementById("bannerTemplate")},,function(e,t,n){"use strict";function a(e,t,n){var a,i=[];a=n?S+"--"+e.selector.substr(1)+":":e.selector,a+=" {\n",delete e.selector;for(var o in e)if("mixinEntry"!==o){var r=e[o],s=(n?S:"")+S+o+": "+(Array.isArray(r)?r.join(", "):r)+";\n";if(i.push(s),-1!==b.indexOf(o)){var l=s;for(var c in t)l=l.replace(new RegExp(c.replace("(","\\(").replace(")","\\)")+"(\\b|,|;)","g"),"var(--"+t[c]+")$1");l!==s&&i.push(l)}}return a+i.join("")+(e.mixinEntry?S+"@apply --"+e.mixinEntry+";\n":"")+(n?"  };\n":"}")}function i(e,t,n){var a,i=[];a=n?"="+e.selector.substr(1)+"()":e.selector,a+="\n",delete e.selector;for(var o in e)if("mixinEntry"!==o){var r=e[o],s=S+o+": "+(Array.isArray(r)?r.join(", "):r)+"\n";if(-1!==b.indexOf(o))for(var l in t)s=s.replace(new RegExp(l.replace("(","\\(").replace(")","\\)")+"(\\b|\\s|,)","g"),"$"+t[l]+"$1");i.push(s)}return a+i.join("")+(e.mixinEntry?S+"+"+e.mixinEntry+"()\n":"")}function o(e,t,n){var a,i=[];a=n?"@mixin "+e.selector.substr(1):e.selector,a+=" {\n",delete e.selector;for(var o in e)if("mixinEntry"!==o){var r=e[o],s=S+o+": "+(Array.isArray(r)?r.join(", "):r)+";\n";if(-1!==b.indexOf(o))for(var l in t)s=s.replace(new RegExp(l.replace("(","\\(").replace(")","\\)")+"(\\b|,|;)","g"),"$"+t[l]+"$1");i.push(s)}return a+i.join("")+(e.mixinEntry?S+"@include "+e.mixinEntry+";\n":"")+(n?"}\n":"}")}function r(e,t,n){var a,i=[];a=n?e.selector.toLowerCase()+"()":e.selector,a+=" {\n",delete e.selector;for(var o in e)if("mixinEntry"!==o){var r=e[o],s=S+o+": "+(Array.isArray(r)?r.join(", "):r)+";\n";if(-1!==b.indexOf(o))for(var l in t)s=s.replace(new RegExp(l.replace("(","\\(").replace(")","\\)")+"(\\b|,|;)","g"),"@"+t[l]+"$1");i.push(s)}return a+i.join("")+(e.mixinEntry?S+"."+e.mixinEntry+"()\n":"")+(n?"}\n":"}")}function s(e,t,n){var a,i=[];a=n?e.selector.substr(1)+"()":e.selector,a+="\n",delete e.selector;for(var o in e)if("mixinEntry"!==o){var r=e[o],s=S+o+" "+(Array.isArray(r)?r.join(", "):r)+"\n";if(-1!==b.indexOf(o))for(var l in t)s=s.replace(new RegExp(l.replace("(","\\(").replace(")","\\)")+"(\\b|\\s|,)","g"),t[l]+"$1");i.push(s)}return a+i.join("")+(e.mixinEntry?S+e.mixinEntry+"()\n":"")}function l(e,t,n){var a=e.selector;return delete e.selector,Object.keys(e).forEach(function(n){"mixinEntry"!==n&&v.includes(n)&&e[n]in t&&(e[n]="colors."+t[e[n]])}),"const "+Object(y.a)(a,"camelCase")+" = "+JSON.stringify(e,null,2).replace(/"(.+)":/g,"$1:").replace(/: "colors\.(.*)"/g,": colors.$1")+";"}function c(e){if(!e)return"";if(e=e.trim(),f(e))return e.toLowerCase();if(/^[#.]/.test(e)){var t=u(e.substr(1));if(t)return e[0]+t}return(e=u(e))&&"."+e}function u(e){return e=e.trim().replace(/[^\s\w-]/g,"").replace(/^(-?\d+)+/,"").replace(/\s+/g,"-"),CSS.escape&&(e=CSS.escape(e)),e}function d(e,t){return e?w.format(e/t)+"px":"0"}function m(e){return e?Math.round(100*e)+"%":"0"}function g(e,t,n,c){switch(e){case"sass":return i(t,n,c);case"scss":return o(t,n,c);case"less":return r(t,n,c);case"stylus":return s(t,n,c);case"react":return l(t,n,c);default:case"css":return a(t,n,c)}}function p(e,t){var n=t.find(function(e){return!f(e.name)});if(!n)return"";var a=c(n.name).substr(1),i="\n\n/* How to use mixins\n";switch(e){case"sass":return i+" *   .myClass\n *     +"+a+"()\n */";case"scss":return i+" *   .myClass {\n *     @include "+a+";\n *   }\n */";case"less":return i+" *   .myClass {\n *     ."+a+"()\n *   }\n */";case"stylus":return i+" *   .myClass\n *     "+a+"()\n */";default:case"css":return i+" *   .myClass {\n *     @apply --"+a+";\n *   }\n */"}}function f(e){return j.indexOf(e.toLowerCase())>-1}function h(e){return-1===E.indexOf(e)}n.d(t,"a",function(){return C}),n.d(t,"c",function(){return h}),n.d(t,"b",function(){return f}),n.d(t,"d",function(){return p}),n.d(t,"h",function(){return g}),n.d(t,"g",function(){return m}),n.d(t,"f",function(){return d}),n.d(t,"e",function(){return c});var y=n(15),b=["background-image","background-color","color","text-shadow","box-shadow","border","border-color","border-image-source","-webkit-text-stroke"],v=["backgroundColor","borderColor","color","shadowColor","textDecorationColor","textShadowColor"],S="  ",j=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","slot","small","source","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],E=["-webkit-background-clip","background-clip","-webkit-text-fill-color"],w=new Intl.NumberFormat("en-US",{useGrouping:!1,maximumFractionDigits:1}),C=Object.freeze(["normal","darken","multiply","color-burn","lighten","screen","color-dodge","overlay","soft-light","hard-light","difference","exclusion","hue","saturation","color","luminosity","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","dissolve","linear-burn","linear-dodge","darker-color","lighter-color","vivid-light","linear-light","pin-light","hard-mix","subtract","divide"])},function(e,t){e.exports=localforage},function(e,t,n){"use strict";var a=n(15),i=n(28),o={android:"snakeCase",ios:"camelCase",osx:"camelCase",web:"kebabCase"},r=new Intl.NumberFormat("en-US",{useGrouping:!1,maximumFractionDigits:2});class s{constructor(e){this.id=e._id||e.id,this.r=e.r,this.g=e.g,this.b=e.b,this.a="a"in e?e.a:1,this.name=e.name}static get NAMED_COLORS(){return i.a}static fromHex(e){var t=parseInt(e.replace("#",""),16);return new s({r:t>>16&255,g:t>>8&255,b:255&t})}static _singleComponentBlend(e,t,n,a){return t||a?(e*t+n*a*(1-t))/(t+a*(1-t)):0}equals(e){return Math.round(this.r)===Math.round(e.r)&&Math.round(this.g)===Math.round(e.g)&&Math.round(this.b)===Math.round(e.b)&&r.format(this.a)===r.format(e.a)}blend(e){return new s({r:s._singleComponentBlend(this.r,this.a,e.r,e.a),g:s._singleComponentBlend(this.g,this.a,e.g,e.a),b:s._singleComponentBlend(this.b,this.a,e.b,e.a),a:this.a+e.a*(1-this.a)})}static blendAll(e){for(var t=new s(s.NAMED_COLORS.transparent),n=0;n<e.length&&(!e[n].a||1!==(t=t.blend(e[n])).a);n++);return t}static _toHex(e){return e=Math.trunc(e+e/255),((e=Math.max(0,Math.min(e,255)))<16?"0":"")+e.toString(16)}hexBase(){return s._toHex(this.r)+s._toHex(this.g)+s._toHex(this.b)}toHexString(e){var t=this.hexBase();if(this.a<1){var n=s._toHex(255*this.a);t=e?n+t:t+n}return"#"+t}toRGBABase(){var e=Math.round(this.r)+" "+Math.round(this.g)+" "+Math.round(this.b);return this.a<1?"rgba "+e+" "+r.format(this.a):"rgb "+e}toRGBAString(){var e=Math.round(this.r)+", "+Math.round(this.g)+", "+Math.round(this.b);return(this.a<1?"rgba("+e+", "+r.format(this.a):"rgb("+e)+")"}_toHSL(){var e,t,n=this.r/255,a=this.g/255,i=this.b/255,o=Math.max(n,a,i),r=Math.min(n,a,i),s=(o+r)/2;if(o===r)e=t=0;else{var l=o-r;switch(t=s>.5?l/(2-o-r):l/(o+r),o){case n:e=(a-i)/l+(a<i?6:0);break;case a:e=(i-n)/l+2;break;case i:e=(n-a)/l+4}e/=6}return{h:e,s:t,l:s}}toHSLAString(){var e=this._toHSL(),t=Math.round(360*e.h)+", "+Math.round(100*e.s)+"%, "+Math.round(100*e.l)+"%";return(this.a<1?"hsla("+t+", "+r.format(this.a):"hsl("+t)+")"}toPlatformString(e,t){switch(e){case"android":return this.toHexString(!0);case"ios":case"osx":return this.toRGBABase();case"web":return this.toCSS(t)}}toCSS(e){if("r"in this&&"g"in this&&"b"in this&&"a"in this)switch(e){case"hex":return this.toHexString();case"rgb":return this.toRGBAString();case"hsl":return this.toHSLAString();case"default":default:return this.a<1?this.toRGBAString():this.toHexString()}}toGradient(e){var t=this.toCSS(e);return"linear-gradient("+t+", "+t+")"}generateName(e){for(var t=0,n=-1,r=-1,l=0;l<i.b.length;l++){var c=new s(i.b[l]);if(this.r===c.r&&this.g===c.g&&this.b===c.b)return Object(a.a)(c.name,o[e]);var u=this._toHSL();for(var d in u)u[d]*=255;var m=c._toHSL();for(var g in m)m[g]*=255;t=Math.pow(this.r-c.r,2)+Math.pow(this.g-c.g,2)+Math.pow(this.b-c.b,2)+2*(Math.pow(u.h-m.h,2)+Math.pow(u.s-m.s,2)+Math.pow(u.l-m.l,2)),(r<0||t<r)&&(r=t,n=l)}return Object(a.a)(i.b[n].name,o[e])}}t.a=s},function(e,t,n){"use strict";function a(e,t){if("camelCase"===t||"upperCamelCase"===t){var n=e.map(o.H).join("");return"camelCase"===t?o.s(n):n}return"snakeCase"===t?e.join("_"):e.join("-")}function i(e){var t=e.match(r);return t?t.map(function(e){return e.toLowerCase()}):["invalid","name"]}var o=n(0),r=/\d+|[a-z]+|[A-Z]+(?![a-z])|[A-Z][a-z]+/g;t.a=function(e,t){return a(i(e),t)}},,,function(e,t){e.exports=preact},function(e,t){e.exports=Pusher},function(e,t,n){"use strict";var a,i,o=n(8),r=n(9),s=n(0),l=["assetNamingConvention","showOptimizedSVG","webStyleExportType","androidStyleExportType","iosStyleExportType","osxStyleExportType","styleColorFormat","showDimensions","webUnitlessLineHeight","webMixin","showDefaultValues","androidLineSpacingType","iosDeploymentTarget","osxDeploymentTarget","attributedStringShowDefaultAttributes"];!function(){if(o.a){var e=!!o.a&&!!o.a.features&&!!o.a.features.webviews;a=Object.defineProperties({},{addRecentProject:{value:function(e){o.a.ipcRenderer.send("add-recent-project",{id:e.id,name:e.name})}},bindProjectMenuPreferenceChanges:{value:function(e){Array.from(document.querySelectorAll("input.windows-app-pref-menu-item")).forEach(function(t){t.addEventListener("change",function(){var n=t.dataset.windowsAppPrefName||t.name,a="radio"===t.type?t.value:t.checked,i={};i[n]=a,o.a.ipcRenderer.send("project-preferences-changed",i),e()})})}},bindProjectPreferences:{value:function(e){o.a.ipcRenderer.removeAllListeners("project:"+i+":preferenceMenuItemClicked"),i=e.id,o.a.ipcRenderer.on("project:"+i+":preferenceMenuItemClicked",function(e,t,n){var a;"string"==typeof n?(a=document.querySelector("input[type='radio'][name='"+t+"'][value='"+n+"']")).checked=!0:(a=document.querySelector("input[type='checkbox'][name='"+t+"']")).checked=n,a.dispatchEvent(new Event("change"))}),Promise.all(l.map(function(t){return r.a.get(e.id,t)})).then(function(t){o.a.ipcRenderer.send("project-preferences",{id:e.id,type:e.type},l.reduce(function(e,n,a){return e[n]=t[a],e},{}))})}},updateEditCapabilities:{value:function(e){o.a.ipcRenderer.send("edit-capabilities",e)}},setViewMenuContext:{value:function(e,t){o.a.ipcRenderer.send("view-menu-context",e,t)}}}),o.a.ipcRenderer.on("open-recent-project",function(e,t){a.onOpenRecentProject?a.onOpenRecentProject(t):location.assign(s.I("project",{url:{pid:t}}))}),e||o.a.ipcRenderer.on("projects",function(){a.onProjects?a.onProjects():location.assign(s.I("projects"))})}}(),t.a=a},,function(e,t,n){"use strict";function a(e){var t=Object.assign({},e);"_id"in t||(t._id=t.id),t.color=e.color&&new d.a(e.color),t.fontFace&&s(t),Object.defineProperties(this,{id:{value:t._id,enumerable:!0},name:{get:function(){return t.name},set:function(e){t.name=e},enumerable:!0},fontFace:{get:function(){return t.fontFace},set:function(e){t.fontFace=e},enumerable:!0},fontSize:{get:function(){return t.fontSize},set:function(e){t.fontSize=e},enumerable:!0},fontWeight:{get:function(){return o(t.weightText)},set:function(e){t.fontWeight=e},enumerable:!0},fontStyle:{get:function(){return t.fontStyle},set:function(e){t.fontStyle=e},enumerable:!0},fontFamily:{get:function(){return t.fontFamily},set:function(e){t.fontFamily=e},enumerable:!0},fontStretch:{get:function(){return t.fontStretch},set:function(e){t.fontStretch=e},enumerable:!0},lineHeight:{get:function(){return t.lineHeight},set:function(e){t.lineHeight=e},enumerable:!0},textAlign:{get:function(){return t.textAlign},set:function(e){if(-1===m.indexOf(e))throw new TypeError("Unknown alignment: '"+e+"'. Possible values: "+JSON.stringify(m));t.textAlign=e},enumerable:!0},letterSpacing:{get:function(){return t.letterSpacing},set:function(e){t.letterSpacing=e},enumerable:!0},color:{get:function(){return t.color},set:function(e){t.color=e&&new d.a(e)},enumerable:!0},weightText:{get:function(){return t.weightText},set:function(e){t.weightText=e},enumerable:!0},scaledFontSize:{get:function(){return t.scaledFontSize},set:function(e){t.scaledFontSize=e},enumerable:!0}})}function i(e,t){var n=e.lastIndexOf(t);return e.substring(0,n)+e.substr(n+t.length)}function o(e){return/black|heavy|900/gi.test(e)?900:/((ex|ul)tra)\s?bold|800/gi.test(e)?800:/([ds]emi)\s?bold|600/gi.test(e)?600:/bold|700/gi.test(e)?700:/medium|500/gi.test(e)?500:/((ex|ul)tra)\s?light|200/gi.test(e)?200:/light|300/gi.test(e)?300:/thin|hairline|100/gi.test(e)?100:400}function r(e){return/(ultra(\s|-)?)+condensed/i.test(e)?"ultra-condensed":/(extra(\s|-)?)+condensed/i.test(e)?"extra-condensed":/(semi(\s|-)?)+condensed/i.test(e)?"semi-condensed":/condensed/i.test(e)?"condensed":/(ultra(\s|-)?)+expanded/i.test(e)?"ultra-expanded":/(extra(\s|-)?)+expanded/i.test(e)?"extra-expanded":/(semi(\s|-)?)+expanded/i.test(e)?"semi-expanded":/expanded/i.test(e)?"expanded":"normal"}function s(e){var t=e.fontFace,n=t.match(g);n?(t=i(t,n=n[n.length-1]),n=n.toLowerCase()):n="regular";var a=t.match(p);a?(t=i(t,a=a[a.length-1]),a=a.toLowerCase()):a="normal";var o=t.match(f);o?(t=i(t,o=o[o.length-1]),o=o.toLowerCase()):o="normal",t=t.replace(/--/,"-").replace(/-$/,"").trim(),e.fontFamily=t.match(/^Arial-?MT$/)?"Arial":t,e.fontStyle=a,e.weightText=n,e.fontStretch=r(o)}t.a=a;var l=n(0),c=n(12),u=n(25),d=n(14),m=["start","left","right","end","center","justify"];a.prototype.equals=function(e){return this.fontFamily===e.fontFamily&&this.fontStyle===e.fontStyle&&this.fontStretch===e.fontStretch&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.lineHeight===e.lineHeight&&this.textAlign===e.textAlign&&this.letterSpacing===e.letterSpacing&&(!this.color||!e.color||this.color.equals(e.color))},a.prototype.toCSS=function(e,t,n,a,i){var o,r={selector:c.e(this.name)||".font"};return r["font-family"]=this.fontFamily,r["font-size"]=c.f(this.fontSize,e),700===this.fontWeight?r["font-weight"]="bold":400!==this.fontWeight?r["font-weight"]=this.fontWeight:400===this.fontWeight&&(a||i&&i["font-weight"]&&"normal"!==i["font-weight"])&&(r["font-weight"]="normal"),o=i&&i["font-style"]&&"normal"!==i["font-style"],this.fontStyle&&("normal"===this.fontStyle&&(a||o)||"normal"!==this.fontStyle)&&(r["font-style"]=this.fontStyle),o=i&&i["font-stretch"]&&"normal"!==i["font-stretch"],this.fontStretch&&("normal"===this.fontStretch&&(a||o)||"normal"!==this.fontStretch)&&(r["font-stretch"]=this.fontStretch),o=i&&i["line-height"]&&"normal"!==i["line-height"],this.lineHeight?r["line-height"]=t?l.y(this.lineHeight/this.fontSize,2):c.f(this.lineHeight,e):(a||o)&&(r["line-height"]="normal"),o=i&&i["letter-spacing"]&&"normal"!==i["letter-spacing"],this.letterSpacing?r["letter-spacing"]=c.f(this.letterSpacing,e):(a||o)&&(r["letter-spacing"]="normal"),this.textAlign&&(r["text-align"]=this.textAlign),this.color&&(r.color=new d.a(this.color).toCSS(n)),r},a.prototype.toReactStyle=function(e,t,n,a,i){var o=c.e(this.name);c.b(o)||(o=o.substring(1));var r,s={selector:o};return s.fontFamily=this.fontFamily,s.fontSize=l.y(this.fontSize/t,1),r=i&&i["font-weight"]&&"normal"!==i["font-weight"],700===this.fontWeight?s.fontWeight="bold":400!==this.fontWeight?s.fontWeight=String(this.fontWeight):(a||r)&&(s.fontWeight="normal"),r=i&&i["font-style"]&&"normal"!==i["font-style"],this.fontStyle&&("normal"!==this.fontStyle||a||r)&&(s.fontStyle=this.fontStyle),this.lineHeight&&(s.lineHeight=l.y(this.lineHeight/t,1)),r=i&&i["letter-spacing"]&&"normal"!==i["letter-spacing"],this.letterSpacing?s.letterSpacing=l.y(this.letterSpacing/t,2):(a||r)&&(s.letterSpacing=0),this.textAlign&&(s.textAlign=this.textAlign),this.color&&(s.color=new d.a(this.color).toCSS(n)),s},a.prototype.generateFontValueForAddAttributeWithSwift=function(e){return{ios:u.d,osx:u.i}[e.platform](this,e)},a.prototype.generateFontValueForAddAttributeWithObjC=function(e){return{ios:u.c,osx:u.h}[e.platform](this,e)},a.prototype.generateMixinCode=function(e){var t=e.type,n=e.densityDivisor,a=e.unitlessLineHeight,i=e.colorMap,o=e.colorFormat;return c.h(t,this.toCSS(n,a,o),i,!0)},a.prototype.generateTextStyleCode=function(e,t,n){return(0,{web:{default:u.l},ios:{swift:u.g,objc:u.e,react:u.f},osx:{swift:u.k,objc:u.j},android:{default:u.b}}[e][n||"default"])(this,t)};var g=/(thin|hairline|([ds]emi|(ex|ul)tra)?(light|bold)|normal|regular|book|medium|heavy|black|[1-9]00$)/gi,p=/(italic|oblique)/gi,f=/((?:(ultra|extra|semi)[\s-]?)?(?:condensed|expanded))/gi},function(e,t,n){"use strict";function a(e){switch(e){case 1:return"1 active project";case 999:case-1:return"Unlimited projects";default:return e+" Active Projects"}}function i(){L.classList.remove("hidden"),mixpanel.track("Opened pricing popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-pricing-popup"),ga("send","pageview","/pricing-popup")}function o(e){S.a().then(function(t){var n=t.find(function(t){return t._id===e});if(A=e,P=n.price){var a=e.split("_");N=a[0],O=a[1]||"monthly",U=N,R=O}else{U=N=e,R=O="annual";var o=document.getElementById("updatePlanButton");o&&("banker_bilo"===e?o.querySelector("button").textContent="💰💰💰":"bff"===e&&(o.querySelector("button").textContent="💝"))}var r=document.getElementById("planName");r&&(r.textContent=n.name),D.dataset.currentPlanId=e,"period"in H?(s(H.period),document.getElementById(H.period+"Payment").checked=!0,delete H.period,i()):(s(O),document.getElementById(O+"Payment").checked=!0),"coupon"in H&&(q.value=H.coupon,q.parentElement.classList.toggle("typed",!!q.value),u(H.coupon),delete H.coupon,i())}).catch(E.b)}function r(e,t,n,i){var o=t.price/("monthly"===n?1:12),r=e.querySelector(".planPrice"),s=e.querySelector(".planProjectCount"),l=c(R,i);e.classList.toggle("annual","annual"===n),l&&(o-=i.percent_off?o*i.percent_off/100:i.amount_off,o=Math.max(o,0)),r.dataset.value=o,o/=100,r.textContent=Math.trunc(o),r.dataset.fr=(o%1+""||"").substring(1,4),s.textContent=a(t.limit)}function s(e,t){var n=document.querySelector(".plan.growing"),a=document.querySelector(".plan.current"),i=document.querySelector(".plan.organization");R=e||"monthly",k.classList.toggle("invisible","annual"===e),S.a().then(function(o){if(Array.from(document.querySelectorAll(".plan")).forEach(function(n){var a=o.find(function(t){return V[e][n.dataset.planId]===t._id});r(n,a,e,t)}),a&&a.classList.remove("current"),a&&(a.querySelector("button").disabled=!1),"free"===N||"starter"===N||"growing"===N&&"monthly"===O&&"annual"===e?n.classList.add("recommended"):n.classList.remove("recommended"),i.querySelector(".createLink").href=Object(w.I)("organization-create",{query:{period:e}}),P&&e===O&&"company"!==N&&W.indexOf(A)>-1){(a=document.querySelector(".plan."+N)).classList.add("current"),a.querySelector("button").disabled=!0;var s=o.find(function(e){return A===e._id});r(a,s,e)}}).catch(E.b)}function l(e){return e?fetch(Zeplin.urls.baseURL+"/stripe/coupons/"+encodeURIComponent(e),{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(!e.ok)throw E.a(e.status,t);return t})}):Promise.resolve(null)}function c(e,t){if(!t||"annual"===e)return x.innerHTML="&nbsp;",!1;if(t.redeem_by&&Date.now()/1e3>t.redeem_by)return x.textContent="This coupon is expired.",!1;if(t.max_redemptions&&t.times_redeemed>=t.max_redemptions)return x.textContent="This coupon is maxed out.",!1;var n=t.percent_off?t.percent_off+"% off":t.amount_off/100+"$ off";switch(t.duration){case"once":n+=" for the first "+("monthly"===e?"month":"year");break;case"repeating":n+=" for "+t.duration_in_months+" months";break;case"forever":n+=" forever"}return x.textContent=n,!0}function u(e,t){l(e).then(function(e){z=e,I.disabled=!0,t=t||"auto";var n=e.metadata&&e.metadata.source;mixpanel.track("Applied coupon",{type:t,source:n}),ga("legacyTracker.send","event","PAYMENT_EVENTS","applied-coupon","type:"+t+(n?";source:"+n:""))}).catch(function(e){z=null,I.disabled=!1,E.b(e)}).then(function(){s(R,z)})}function d(e,t,n,a){C.classList.remove("hidden");var i={plan:V[n][t],stripeToken:e};"monthly"===n&&a&&(i.coupon=a.id),fetch(Zeplin.urls.baseURL+"/stripe/users/subscriptions",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(i)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw E.a(e.status,t)})}).then(function(){fbq("track","Purchase",{value:M/100,currency:"USD",content_type:"product",content_ids:[V[n][t]]}),ga("legacyTracker.send","event","PAYMENT_EVENTS","subscribed","to:"+V[n][t]),mixpanel.track("Subscribed",{to:V[n][t]}),Zeplin.updateUser({paymentPlan:V[n][t]}),location.replace(Object(w.I)("thanks",{query:{at:"ns"}}))}).catch(function(e){C.classList.add("hidden"),E.b(e)})}function m(e,t,n){j.a({title:"Update subscription?",message:"You can update it again, anytime!",done:{name:"UPDATE",cb:function(){C.classList.remove("hidden");var a={plan:V[t][e]};"monthly"===t&&n&&(a.coupon=n.id),fetch(Zeplin.urls.baseURL+"/stripe/users/subscriptions",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(a)}).then(function(n){if(!n.ok)return n.json().then(function(e){throw E.a(n.status,e)});mixpanel.track("Changed plan",{from:Zeplin.user.paymentPlan,to:V[t][e]}),ga("legacyTracker.send","event","PAYMENT_EVENTS","changed-plan","from:"+Zeplin.user.paymentPlan+";to:"+V[t][e]),Zeplin.updateUser({paymentPlan:V[t][e]}),location.replace(Object(w.I)("thanks",{query:{at:"us"}}))}).catch(function(e){C.classList.add("hidden"),E.b(e)})}},cancel:{name:"CANCEL"}}),mixpanel.track("Opened change plan dialog",{currentPlan:Zeplin.user.paymentPlan}),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-change-plan-dialog","currentPlan:"+Zeplin.user.paymentPlan)}function g(e,t,n,a){j.a({title:"Downgrade subscription?",message:"You can upgrade again at anytime.",done:{name:"UPDATE",cb:function(){C.classList.remove("hidden");var i={plan:V[n][t]};"monthly"===n&&a&&(i.coupon=a.id),fetch(Zeplin.urls.baseURL+"/stripe/organizations/"+e+"/subscriptions/downgrade",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(i)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw E.a(e.status,t)});Zeplin.updateUser({paymentPlan:V[n][t]}),location.replace(Object(w.I)("projects"))}).catch(function(e){C.classList.add("hidden"),E.b(e)})}},cancel:{name:"CANCEL"}})}function p(){j.a({title:"Cancel subscription?",message:"Make sure to archive your projects before.",done:{name:"CANCEL PLAN",cb:function(){C.classList.remove("hidden"),fetch(Zeplin.urls.baseURL+"/stripe/users/subscriptions",{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw E.a(e.status,t)});Zeplin.updateUser({paymentPlan:"free"}),j.a({title:"Subscription cancelled successfully",message:"It's sad to see you go. Let us know if there's anything bothering you: support@zeplin.io",done:{cb:function(){location.replace(Object(w.I)("projects"))}}})}).catch(function(e){C.classList.add("hidden"),E.b(e)})}},cancel:{name:"KEEP"}})}function f(e){j.a({title:"Cancel subscription?",message:"Your organization projects will be archived.",done:{name:"CANCEL PLAN",cb:function(){C.classList.remove("hidden"),fetch(Zeplin.urls.baseURL+"/stripe/organizations/"+e+"/subscriptions",{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw E.a(e.status,t)})}).then(function(){j.a({title:"Subscription cancelled successfully",message:"It's sad to see you go. Let us know if there's anything we can improve: support@zeplin.io",done:{cb:function(){location.replace(Object(w.I)("projects"))}}})}).catch(function(e){C.classList.add("hidden"),E.b(e)})}},cancel:{name:"KEEP"}})}function h(e){e.preventDefault(),Z?f(Z._id):p()}function y(e,t){Y.open({name:"Zeplin, Inc.",description:e,email:Zeplin.user.email,panelLabel:t,amount:M}),mixpanel.track("Opened Stripe popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-stripe-popup"),ga("send","pageview","/stripe-popup")}function b(e,t,n){var a;switch(n.duration){case"once":a="30 days";break;case"repeating":a=n.duration_in_months+" months"}Array.from(_.querySelectorAll(".friendlyReminderDuration")).forEach(function(e){e.textContent=a}),_.dataset.planName=e.querySelector(".planName").textContent,S.a().then(function(n){var a=n.find(function(n){return V[t][e.dataset.planId]===n._id});_.querySelector(".friendlyReminderPrice").textContent=a.price/100,_.showModal(),mixpanel.track("Opened trial credit card explanation popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-trial-credit-card-explanation-popup")})}function v(e){var t=S.c.subscribe("private-organization@"+e);t.bind("CreateOrganizationSubscription",function(e){Z.paymentPlan=e.body.plan,o(e.body.plan),s(O),document.getElementById(O+"Payment").checked=!0}),t.bind("UpdateOrganizationSubscription",function(e){Z.paymentPlan=e.body.plan,o(e.body.plan),s(O),document.getElementById(O+"Payment").checked=!0})}var S=n(7),j=n(2),E=n(1),w=n(0),C=document.getElementById("loading"),L=document.getElementById("planChooserOverlay"),D=document.getElementById("planChooserContent"),x=document.getElementById("discountNotice"),k=document.getElementById("couponForm"),q=document.getElementById("couponCode"),T=document.getElementById("plans"),I=document.getElementById("applyCouponButton"),_=document.getElementById("friendlyReminderDialog"),F=document.getElementById("cancelFriendlyReminderButton"),B=document.getElementById("continueToPaymentButton");j.b.registerDialog(_);var A,N,O,P,U,R,M,z,Z,H={},V={monthly:{bff:"bff",banker_bilo:"banker_bilo",free:"free",starter:"starter_monthly_v2",growing:"growing_monthly_v2",organization:"organization_monthly"},annual:{bff:"bff",banker_bilo:"banker_bilo",free:"free",starter:"starter_annual_v2",growing:"growing_annual_v2",organization:"organization_annual"}},W=["starter_monthly_v2","starter_annual_v2","growing_monthly_v2","growing_annual_v2","organization_monthly","organization_annual"],Y=StripeCheckout.configure({key:"pk_live_XfHC5uYDKaZYEOC1m9FlXwtq",image:Zeplin.urls.appURL+"/img/favicon/128x128.png",token:function(e){C.classList.remove("hidden"),d(e.id,U,R,z)}});Array.from(D.querySelectorAll("[name='paymentPeriod']")).forEach(function(e){e.addEventListener("change",function(e){s(e.target.value,z)})}),q.parentElement.classList.toggle("typed",!!q.value),q.addEventListener("keyup",function(){q.parentElement.classList.toggle("typed",!!q.value),q.value||(z=null,s(R))}),q.addEventListener("blur",function(){q.parentElement.classList.toggle("typed",!!q.value),q.value||(z=null,s(R))}),q.addEventListener("input",function(e){I.disabled=z&&z.id===q.value}),k.addEventListener("submit",function(e){e.preventDefault(),u(q.value,"manual")}),F.addEventListener("click",function(){_.close()}),B.addEventListener("click",function(){y(_.dataset.planName,"Pay 0/mo")}),T.addEventListener("click",function(e){if(e.target.classList.contains("choosePlan")){var t=e.target.closest(".plan");if(U=t.dataset.planId,P){if("organization"===U)return void L.classList.add("hidden");Z?g(Z._id,U,R,z):m(U,R,z)}else if((M=parseInt(t.querySelector(".planPrice").dataset.value,10))||"forever"===z.duration){var n;"monthly"===R?n="Pay {{amount}}/mo":(n="Pay {{amount}}/year",M*=12),y(t.querySelector(".planName").textContent,n)}else b(t,R,z)}else e.target.classList.contains("cancelPlan")&&h(e)}),Array.from(D.querySelectorAll(".warning .cancelPlanLink")).forEach(function(e){e.addEventListener("click",h)}),D.addEventListener("click",function(e){e.stopPropagation()}),L.addEventListener("click",function(){L.classList.add("hidden")}),L.addEventListener("keydown",function(e){e.stopPropagation()}),document.addEventListener("keydown",function(e){e.keyCode===Zeplin.KEY_CODE.ESC&&L.classList.add("hidden")}),location.search&&location.search.substr(1).split("&").forEach(function(e){var t=e.split("=");H[decodeURIComponent(t[0])]=decodeURIComponent(t[1])});var K=location.pathname.match(/\/organization\/([\da-f]{24})\/profile/i);K?function(e){return fetch(Zeplin.urls.baseURL+"/organizations/"+e,{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw E.a(e.status,t)})})}(K[1]).then(function(e){Z=e,"organization_free"!==e.paymentPlan&&o(e.paymentPlan),v(e._id)}).catch(E.b):(o(Zeplin.user.paymentPlan),function(e){e.bind("CreateUserSubscription",function(e){o(e.body.plan),s(O),document.getElementById(O+"Payment").checked=!0,Zeplin.updateUser({paymentPlan:e.body.plan})}),e.bind("UpdateUserSubscription",function(e){o(e.body.plan),s(O),document.getElementById(O+"Payment").checked=!0,Zeplin.updateUser({paymentPlan:e.body.plan})}),e.bind("CancelUserSubscription",function(){o("free"),s(O),document.getElementById(O+"Payment").checked=!0,Zeplin.updateUser({paymentPlan:"free"})})}(S.f))},,function(e,t,n){"use strict";function a(e,t){var n=/^(?:SFUIDisplay|SFUIText|SFCompactDisplay|SFCompactText)-(Ultralight|Thin|Light|Regular|Medium|Semibold|Bold|Heavy|Black)?$/,a=t.match(n);if(a)return e+"Weight"+a[1]}function i(e,t){var n=t.type,a=t.densityDivisor,i=t.unitlessLineHeight,o=t.colorFormat,r=t.colorMap,s=t.defaultValues;return j.h(n,e.toCSS(a,i,o,s),r)}function o(e,t){var n=["10.0","9.0","8.2"],i=t.deploymentTarget,o=t.densityDivisor,r=a("UIFont",e.fontFace),s=n.includes(i)&&r,l=C.format(e.fontSize/o);return s?"UIFont.systemFont(ofSize: "+l+")":'UIFont(name: "'+e.fontFace+'", size: '+l+")!"}function r(e,t){var n=["10.0","9.0","8.2"],i=t.deploymentTarget,o=t.densityDivisor,r=a("UIFont",e.fontFace),s=n.includes(i)&&r,l=C.format(e.fontSize/o);return s?"[UIFont systemFontOfSize:"+l+"f weight:"+r+"]":'[UIFont fontWithName:@"'+e.fontFace+'" size: '+l+"f]"}function s(e,t){var n=["10.12","10.11"],i=t.deploymentTarget,o=t.densityDivisor,r=a("NSFont",e.fontFace),s=n.includes(i)&&r,l=C.format(e.fontSize/o);return s?"NSFont.systemFont(ofSize: "+l+")":'NSFont(name: "'+e.fontFace+'", size: '+l+")!"}function l(e,t){var n=["10.12","10.11"],i=t.deploymentTarget,o=t.densityDivisor,r=a("NSFont",e.fontFace),s=n.includes(i)&&r,l=C.format(e.fontSize/o);return s?"[NSFont systemFontOfSize:"+l+"f weight:"+r+"]":'[NSFont fontWithName:@"'+e.fontFace+'" size: '+l+"f]"}function c(e,t){var n,i=["10.0","9.0","8.2"],o=t.deploymentTarget,r=t.prefix,s=t.densityDivisor,l=t.type,c=a("UIFont",e.fontFace),u=i.includes(o)&&c,d=C.format(e.fontSize/s);return n=u?"swift2"===l?".systemFontOfSize("+d+", weight: "+c:".systemFont(ofSize: "+d+", weight: "+c:'(name: "'+e.fontFace+'", size: '+d,"  class func "+(r||"")+Object(E.a)(e.name,r?"upperCamelCase":"camelCase")+"Font() -> UIFont"+(u?"":"?")+" {\n    return UIFont"+n+")\n  }"}function u(e,t){var n,i=t.deploymentTarget,o=t.prefix,r=t.densityDivisor,s=a("UIFont",e.fontFace),l=C.format(e.fontSize/r);return n=["10.0","9.0","8.2"].includes(i)&&s?"systemFontOfSize:"+l+"f weight:"+s:'fontWithName:@"'+e.fontFace+'" size:'+l+"f","+ (UIFont *)"+(o?o+"_":"")+Object(E.a)(e.name,"camelCase")+"Font {\n    return [UIFont "+n+"];\n}"}function d(e,t){var n=e.toReactStyle("ios",t.densityDivisor,t.colorFormat,t.defaultValues),a=Object(E.a)(n.selector,"camelCase"),i={};return delete n.selector,t.projectColor&&(n.color="colors."+t.projectColor.name),i[a]=n,i}function m(e,t){var n,i=t.deploymentTarget,o=t.prefix,r=t.densityDivisor,s=a("NSFont",e.fontFace),l=C.format(e.fontSize/r);return n=["10.12","10.11"].includes(i)&&s?"NSFont systemFontOfSize:"+l+"f weight:"+s:'NSFont fontWithName:@"'+e.fontFace+'" size:'+l+"f","+ (NSFont *)"+(o?o+"_":"")+Object(E.a)(e.name,"camelCase")+"Font {\n    return ["+n+"];\n}"}function g(e,t){var n,i=["10.12","10.11"],o=t.deploymentTarget,r=t.prefix,s=t.densityDivisor,l=t.type,c=a("NSFont",e.fontFace),u=i.includes(o)&&c,d=C.format(e.fontSize/s);return n=u?"swift2"===l?".systemFontOfSize("+d+", weight: "+c:".systemFont(ofSize: "+d+", weight: "+c:'(name: "'+e.fontFace+'", size: '+d,"  class func "+(r||"")+Object(E.a)(e.name,r?"upperCamelCase":"camelCase")+"Font() -> NSFont"+(u?"":"?")+" {\n    return NSFont"+n+")\n  }"}function p(e,t){var n,a=t.lineSpacingType,i=t.projectColor,o=t.densityDivisor,r=t.dimensionSuffix,s=Object(E.a)(e.name,"upperCamelCase"),l="";e.color&&(l='    <item name="android:textColor">'+(i?"@color/"+i.name:e.color.toHexString(!0))+"</item>\n"),n=b(e.fontFace);var c='  <style name="'+s+'">\n'+h(e.textAlign)+'    <item name="android:textSize">'+y(e.fontSize,o)+r+"</item>\n";return n&&(c+='    <item name="android:fontFamily">'+n.family+'</item>\n    <item name="android:textStyle">'+n.weight+"</item>\n"),e.letterSpacing&&(c+='    <item name="android:letterSpacing">'+S.y(e.letterSpacing/e.fontSize,2)+"</item>\n"),e.lineHeight&&(a===w.multiplier?c+='    <item name="android:lineSpacingMultiplier">'+S.y(e.lineHeight/e.fontSize,2)+"</item>\n":c+='    <item name="android:lineSpacingExtra">'+y(e.lineHeight-e.fontSize,o)+r+"</item>\n"),c+=l+"  </style>"}function f(e){switch(e){case"center":return"center_horizontal";case"right":return"end";default:return""}}function h(e){var t=f(e);return t?'    <item name="android:gravity">'+t+"</item>\n":t}function y(e,t){return e?S.y(e/t,1):"0"}function b(e){var t=/^Roboto(\w*)?-(?:Regular)?(Thin|Light|Medium|Black)?(Bold)?(Italic)?$/,n=["normal","bold","italic","bold|italic"],a={undefined:"sans-serif",condensed:"sans-serif-condensed",mono:"monospace"},i=e.match(t);if(i&&a[(""+i[1]).toLowerCase()]){var o=i[1],r=i[2],s=i[3],l=i[4];return{family:a[(""+o).toLowerCase()]+(r?"-"+r.toLowerCase():""),weight:n[(s?1:0)+(l?2:0)]}}}function v(e,t){var n={robotoStyle:{textSize:y(e.fontSize,t.densityDivisor)+t.dimensionSuffix}},a=b(e.fontFace);return a&&(n.robotoStyle.fontFamily=a.family,n.robotoStyle.textStyle=a.weight),e.letterSpacing&&(n.letterSpacing=S.y(e.letterSpacing/e.fontSize,2)),e.lineHeight&&(t.lineSpacingType===w.multiplier?n.lineSpacingMultiplier=S.y(e.lineHeight/e.fontSize,2):n.lineSpacingExtra=y(e.lineHeight-e.fontSize,t.densityDivisor)+t.dimensionSuffix),n.gravity=f(e.textAlign),n}n.d(t,"l",function(){return i}),n.d(t,"g",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"j",function(){return m}),n.d(t,"k",function(){return g}),n.d(t,"b",function(){return p}),n.d(t,"a",function(){return v}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"h",function(){return l}),n.d(t,"i",function(){return s});var S=n(0),j=n(12),E=n(15),w={extra:"extra",multiplier:"multiplier"},C=new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2})},,function(e,t,n){"use strict";function a(e){return p.g(e).replace(/\*([^*]+)\*/g,function(e,t){return"<strong>"+t+"</strong>"})}function i(e,t){var n="end",i=e.events.length;t&&("position"in t&&t.position&&(n=-1!==["start","end"].indexOf(t.position)?t.position:"end"),"eventsLength"in t&&(i=t.eventsLength));var o,r=new Date(e.updated);switch(e.actionName){case"CreateDot":var s=[],l={url:{pid:e.params.project._id,sid:e.params.screen._id},query:{}};if(new Set(e.events.map(function(e){return e.source.username})).forEach(function(e){s.push(e)}),1===s.length){u=e.events[0].source;o=document.importNode(document.querySelector(".notificationTemplate.createDotSingleUser").content,!0),p.B(o.querySelector(".dotAuthorImage"),u),o.querySelector(".dotAuthor").textContent=u.username}else{o=document.importNode(document.querySelector(".notificationTemplate.createDotMultiUser").content,!0),s.length>3?(b=s.slice(0,3),v=s.length-3+" more people",o.querySelector(".tailUsername").title=s.slice(3).join("\n")):(v=s.pop(),b=s),o.querySelector(".headUsernames").textContent=b.join(", "),o.querySelector(".tailUsername").textContent=v}1===i?(l.query.did=e.events[0].dot._id,o.querySelector(".notification").classList.add("withContent"),o.querySelector(".notificationContent").innerHTML=p.E(p.g(e.content)),o.querySelector(".notificationContent").title=e.content):(o.querySelector(".dotCount").textContent=i,l.query.did=e.events.map(function(e){return e.dot._id})),o.querySelector(".notification").href=p.I("project-screen",l),o.querySelector(".screenName").textContent=e.params.screen.name,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=g.b[e.params.project.type];break;case"ResolveDot":var s=[],l={url:{pid:e.params.project._id,sid:e.params.screen._id},query:{}};if(new Set(e.events.map(function(e){return e.source.username})).forEach(function(e){s.push(e)}),1===s.length){var c=e.events[0].source;o=document.importNode(document.querySelector(".notificationTemplate.resolveDotSingleUser").content,!0),p.B(o.querySelector(".dotResolverImage"),c),o.querySelector(".dotResolver").textContent=c.username}else{o=document.importNode(document.querySelector(".notificationTemplate.resolveDotMultiUser").content,!0),s.length>3?(b=s.slice(0,3),v=s.length-3+" more people",o.querySelector(".tailUsername").title=s.slice(3).join("\n")):(v=s.pop(),b=s),o.querySelector(".headUsernames").textContent=b.join(", "),o.querySelector(".tailUsername").textContent=v}1===i?(l.query.did=e.events[0].dot._id,o.querySelector(".dotName").textContent=e.events[0].dot.name):(o.querySelector(".dotCount").textContent=i,l.query.did=e.events.map(function(e){return e.dot._id})),o.querySelector(".notification").href=p.I("project-screen",l),o.querySelector(".screenName").textContent=e.params.screen.name,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=g.b[e.params.project.type];break;case"CreateDotComment":var s=[],l={url:{pid:e.params.project._id,sid:e.params.screen._id},query:{did:e.params.dot._id}};if(new Set(e.events.map(function(e){return e.source.username})).forEach(function(e){s.push(e)}),1===s.length){var u=e.events[0].source;o=document.importNode(document.querySelector(".notificationTemplate.createCommentSingleUser").content,!0),p.B(o.querySelector(".commentAuthorImage"),u),o.querySelector(".commentAuthor").textContent=u.username}else{o=document.importNode(document.querySelector(".notificationTemplate.createCommentMultiUser").content,!0);s.length>3?(b=s.slice(0,3),v=s.length-3+" more people",o.querySelector(".tailUsername").title=s.slice(3).join("\n")):(v=s.pop(),b=s),o.querySelector(".headUsernames").textContent=b.join(", "),o.querySelector(".tailUsername").textContent=v}1===i?(l.query.cmid=e.events[0].comment._id,o.querySelector(".notification").classList.add("withContent"),o.querySelector(".notificationContent").innerHTML=p.E(p.g(e.content)),o.querySelector(".notificationContent").title=e.content):l.query.cmid=e.events.map(function(e){return e.comment._id}),o.querySelector(".notification").href=p.I("project-screen",l),o.querySelector(".noteName").textContent=e.params.dot.name,o.querySelector(".screenName").textContent=e.params.screen.name,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=g.b[e.params.project.type];break;case"CreateDot-Mention":case"CreateDotComment-Mention":var d=e.events[0],l={url:{pid:e.params.project._id,sid:e.params.screen._id},query:{did:"CreateDot-Mention"===e.actionName?d.dot._id:e.params.dot._id,cmid:d.comment._id}};(o=document.importNode(document.querySelector(".notificationTemplate.commentMention").content,!0)).querySelector(".notification").href=p.I("project-screen",l),p.B(o.querySelector(".mentionAuthorImage"),d.source),o.querySelector(".mentionAuthor").textContent=d.source.username,o.querySelector(".noteName").textContent="CreateDot-Mention"===e.actionName?d.dot.name:e.params.dot.name,o.querySelector(".screenName").textContent=e.params.screen.name,o.querySelector(".notificationContent").innerHTML=p.E(p.g(e.content)),o.querySelector(".notificationContent").title=e.content,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=g.b[e.params.project.type];break;case"CreateScreen":l={url:{pid:e.params.project._id}};if(1===i){m="project-screen";f=e.events[0].screen;l.url.sid=f._id,(o=document.importNode(document.querySelector(".notificationTemplate.createScreen").content,!0)).querySelector(".screenName").textContent=f.name}else m="project",(o=document.importNode(document.querySelector(".notificationTemplate.createScreenMulti").content,!0)).querySelector(".screenCount").textContent=i,o.querySelector(".screenCount").title=e.events.map(function(e){return e.screen.name}).join("\n"),l.query={sid:e.events.map(function(e){return e.screen._id})};o.querySelector(".notification").href=p.I(m,l),p.B(o.querySelector(".notifierImage"),e.params.source),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=g.b[e.params.project.type];break;case"CreateVersion":var m,l={url:{pid:e.params.project._id}};if(1===i){m="project-screen";f=e.events[0].screen;l.url.sid=f._id,(o=document.importNode(document.querySelector(".notificationTemplate.createVersion").content,!0)).querySelector(".screenName").textContent=f.name}else m="project",(o=document.importNode(document.querySelector(".notificationTemplate.createVersionMulti").content,!0)).querySelector(".screenCount").textContent=i,o.querySelector(".screenCount").title=e.events.map(function(e){return e.screen.name}).join("\n"),l.query={sid:e.events.map(function(e){return e.screen._id})};o.querySelector(".notification").href=p.I(m,l),p.B(o.querySelector(".notifierImage"),e.params.source),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=g.b[e.params.project.type];break;case"DeleteScreen":if(1===i){var f=e.events[0].screen;(o=document.importNode(document.querySelector(".notificationTemplate.deleteScreen").content,!0)).querySelector(".screenName").textContent=f.name}else(o=document.importNode(document.querySelector(".notificationTemplate.deleteScreenMulti").content,!0)).querySelector(".screenCount").textContent=i,o.querySelector(".screenCount").title=e.events.map(function(e){return e.screen.name}).join("\n");p.B(o.querySelector(".notifierImage"),e.params.source),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=g.b[e.params.project.type];break;case"InviteUser":if(i>1){k=e.events.map(function(e){return e.project.name}),T=e.events.map(function(e){return e.project._id}),(o=document.importNode(document.querySelector(".notificationTemplate.inviteUserMulti").content,!0)).querySelector(".projectCount").textContent=i,o.querySelector(".tailProject").textContent=k.pop(),o.querySelector(".headProjects").textContent=k.join(", "),D=p.I("projects",{query:{pid:T}})}else{C=e.events[0].project;(o=document.importNode(document.querySelector(".notificationTemplate.inviteUser").content,!0)).querySelector(".projectName").textContent=C.name,D=p.I("project",{url:{pid:C._id}})}o.querySelector(".notification").href=D;L=e.params.source;p.B(o.querySelector(".notifierImage"),L),o.querySelector(".notifier").textContent=L.username;break;case"RemoveUserFromProject":L=e.params.source;o=document.importNode(document.querySelector(".notificationTemplate.removeUser").content,!0),p.B(o.querySelector(".notifierImage"),L),o.querySelector(".notifier").textContent=L.username,o.querySelector(".projectName").textContent=e.params.project.name;break;case"UserJoined":if(i>1){o=document.importNode(document.querySelector(".notificationTemplate.newMemberMulti").content,!0);var b,v;i>3?(b=e.events.slice(0,3),v=i-3+" more",o.querySelector(".tailUsername").title=e.events.slice(3).map(function(e){return e.member.username}).join("\n")):(b=e.events.slice(0,i-1),v=e.events[i-1].member.username),o.querySelector(".headUsernames").textContent=b.map(function(e){return e.member.username}).join(", "),o.querySelector(".tailUsername").textContent=v}else{var w=e.events[0].member;o=document.importNode(document.querySelector(".notificationTemplate.newMember").content,!0),p.B(o.querySelector(".newMemberImage"),w),o.querySelector(".memberUsername").textContent=w.username}o.querySelector(".notification").href=p.I("project",{url:{pid:e.params.project._id}}),o.querySelector(".projectName").textContent=e.params.project.name;break;case"DeleteProject":L=e.params.source;o=document.importNode(document.querySelector(".notificationTemplate.deleteProject").content,!0),p.B(o.querySelector(".notifierImage"),L),o.querySelector(".notifier").textContent=L.username,o.querySelector(".projectName").textContent=e.events[0].project.name;break;case"ArchiveProject":L=e.params.source;o=document.importNode(document.querySelector(".notificationTemplate.archiveProject").content,!0),p.B(o.querySelector(".notifierImage"),L),o.querySelector(".notifier").textContent=L.username,o.querySelector(".projectName").textContent=e.events[0].project.name;break;case"ActivateProject":var C=e.events[0].project,L=e.params.source;(o=document.importNode(document.querySelector(".notificationTemplate.activateProject").content,!0)).querySelector(".notification").href=p.I("project",{url:{pid:C._id}}),p.B(o.querySelector(".notifierImage"),L),o.querySelector(".notifier").textContent=L.username,o.querySelector(".projectName").textContent=C.name;break;case"UpdateUserRole":var D;if(i>1){var k,T;k=e.events.map(function(e){return e.project.name}),T=e.events.map(function(e){return e.project._id}),(o=document.importNode(document.querySelector(".notificationTemplate.assignAdminMulti").content,!0)).querySelector(".projectCount").textContent=i,o.querySelector(".tailProject").textContent=k.pop(),o.querySelector(".headProjects").textContent=k.join(", "),D=p.I("projects",{query:{pid:T}})}else{C=e.events[0].project;(o=document.importNode(document.querySelector(".notificationTemplate.assignAdmin").content,!0)).querySelector(".projectName").textContent=C.name,D=p.I("project",{url:{pid:C._id}})}o.querySelector(".notification").href=D;L=e.params.source;p.B(o.querySelector(".notifierImage"),L),o.querySelector(".notifier").textContent=L.username;break;case"TransferOwnership":var C=e.events[0].project,L=e.params.source;(o=document.importNode(document.querySelector(".notificationTemplate.transferOwnership").content,!0)).querySelector(".notification").href=p.I("project",{url:{pid:C._id}}),p.B(o.querySelector(".notifierImage"),L),o.querySelector(".notifier").textContent=L.username,o.querySelector(".projectName").textContent=C.name;break;case"CreateColor":l={url:{pid:e.params.project._id},query:{}};if(i>1)(o=document.importNode(document.querySelector(".notificationTemplate.createColorMulti").content,!0)).querySelector(".colorCount").textContent=i,o.querySelector(".colorCount").title=e.events.map(function(t){var n=new h.a(t.color);return n.name+": "+n.toPlatformString(e.params.project.type)}).join("\n"),l.query.cid=e.events.map(function(e){return e.color._id});else{I=new h.a(e.events[0].color);(o=document.importNode(document.querySelector(".notificationTemplate.createColor").content,!0)).querySelector(".colorPreview").style.backgroundColor=I.toCSS(),o.querySelector(".colorPreview").title=I.toPlatformString(e.params.project.type),o.querySelector(".notificationColorName").textContent=I.name,o.querySelector(".notificationColorName").title=I.toPlatformString(e.params.project.type),l.query.cid=e.events[0].color._id}o.querySelector(".notification").href=p.I("project-styleguide",l),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=g.b[e.params.project.type];break;case"DeleteColor":if(i>1)(o=document.importNode(document.querySelector(".notificationTemplate.deleteColorMulti").content,!0)).querySelector(".colorCount").textContent=i,o.querySelector(".colorCount").title=e.events.map(function(t){var n=new h.a(t.color);return n.name+": "+n.toPlatformString(e.params.project.type)}).join("\n");else{I=new h.a(e.events[0].color);(o=document.importNode(document.querySelector(".notificationTemplate.deleteColor").content,!0)).querySelector(".colorPreview").style.backgroundColor=I.toCSS(),o.querySelector(".colorPreview").title=I.toPlatformString(e.params.project.type),o.querySelector(".notificationColorName").textContent=I.name,o.querySelector(".notificationColorName").title=I.toPlatformString(e.params.project.type)}o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=g.b[e.params.project.type];break;case"UpdateColor":l={url:{pid:e.params.project._id},query:{}};if(i>1)(o=document.importNode(document.querySelector(".notificationTemplate.updateColorMulti").content,!0)).querySelector(".colorCount").textContent=i,o.querySelector(".colorCount").title=e.events.map(function(t){var n=new h.a(t.color);return n.name+": "+n.toPlatformString(e.params.project.type)}).join("\n"),l.query.cid=e.events.map(function(e){return e.color._id});else{var I=new h.a(e.events[0].color);(o=document.importNode(document.querySelector(".notificationTemplate.updateColor").content,!0)).querySelector(".colorPreview").style.backgroundColor=I.toCSS(),o.querySelector(".colorPreview").title=I.toPlatformString(e.params.project.type),o.querySelector(".notificationColorName").textContent=I.name,o.querySelector(".notificationColorName").title=I.toPlatformString(e.params.project.type),l.query.cid=e.events[0].color._id}o.querySelector(".notification").href=p.I("project-styleguide",l),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=g.b[e.params.project.type];break;case"CreateCoupon":(o=document.importNode(document.querySelector(".notificationTemplate.createCoupon").content,!0)).querySelector(".notification").href=e.action.webURI,o.querySelector(".notificationContent").innerHTML=a(e.content),x<r&&j.classList.contains("hidden")&&S.classList.add("hasPromotion");break;case"AuthSlack":var C=e.events[0].project,L=e.params.source;(o=document.importNode(document.querySelector(".notificationTemplate.authSlack").content,!0)).querySelector(".notification").href=p.I("project",{url:{pid:C._id}}),o.querySelector(".notifier").textContent=L.username,o.querySelector(".projectName").textContent=C.name,o.querySelector(".slackChannelName").textContent=e.content;break;case"CreateAnnouncement":if(!("webURI"in e.action))return;(o=document.importNode(document.querySelector(".notificationTemplate.announcement").content,!0)).querySelector(".notification").href=e.action.webURI||"#",o.querySelector(".notificationContent").innerHTML=a(e.content),o.querySelector(".notificationAnnouncer").textContent=e.params.source.username,e.action.webURI||(o.querySelector(".notification").classList.add("noClick"),o.querySelector(".notification").addEventListener("click",function(e){e.preventDefault(),e.stopPropagation()}));break;case"CreateTextStyle":l={url:{pid:e.params.project._id},query:{}};if(i>1)(o=document.importNode(document.querySelector(".notificationTemplate.createFontMulti").content,!0)).querySelector(".fontCount").textContent=i,o.querySelector(".fontCount").title=e.events.map(function(e){return new y.a(e.textStyle).name}).join("\n"),l.query.tsid=e.events.map(function(e){return e.textStyle._id});else{_=new y.a(e.events[0].textStyle);(o=document.importNode(document.querySelector(".notificationTemplate.createFont").content,!0)).querySelector(".notificationFontName").textContent=_.name,l.query.tsid=e.events[0].textStyle._id}o.querySelector(".notification").href=p.I("project-styleguide",l),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=g.b[e.params.project.type];break;case"UpdateTextStyle":l={url:{pid:e.params.project._id},query:{}};if(i>1)(o=document.importNode(document.querySelector(".notificationTemplate.updateFontMulti").content,!0)).querySelector(".fontCount").textContent=i,o.querySelector(".fontCount").title=e.events.map(function(e){return new y.a(e.textStyle).name}).join("\n"),l.query.tsid=e.events.map(function(e){return e.textStyle._id});else{_=new y.a(e.events[0].textStyle);(o=document.importNode(document.querySelector(".notificationTemplate.updateFont").content,!0)).querySelector(".notificationFontName").textContent=_.name,l.query.tsid=e.events[0].textStyle._id}o.querySelector(".notification").href=p.I("project-styleguide",l),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=g.b[e.params.project.type];break;case"DeleteTextStyle":if(i>1)(o=document.importNode(document.querySelector(".notificationTemplate.deleteFontMulti").content,!0)).querySelector(".fontCount").textContent=i,o.querySelector(".fontCount").title=e.events.map(function(e){return new y.a(e.textStyle).name}).join("\n");else{var _=new y.a(e.events[0].textStyle);(o=document.importNode(document.querySelector(".notificationTemplate.deleteFont").content,!0)).querySelector(".notificationFontName").textContent=_.name}o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=g.b[e.params.project.type];break;case"InviteMember":o=document.importNode(document.querySelector(".notificationTemplate.inviteMember").content,!0),p.B(o.querySelector(".notifierImage"),e.params.source),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".organizationName").textContent=e.params.organization.name,o.querySelector(".notification").href=p.I("organization-dashboard",{url:{oid:e.params.organization._id}});break;case"UpdateOrganizationMemberRole":var d=e.events[i-1],F=q[d.user.role],B=d.source;o=document.importNode(document.querySelector(".notificationTemplate.updateOrganizationMemberRole").content,!0),p.B(o.querySelector(".notifierImage"),B),o.querySelector(".notifier").textContent=B.username,o.querySelector(".roleName").textContent=F.name,o.querySelector(".roleIcon").src=Zeplin.urls.appURL+"/img/"+F.icon+".png",o.querySelector(".roleIcon").srcset=Zeplin.urls.appURL+"/img/"+F.icon+"@2x.png 2x, "+Zeplin.urls.appURL+"/img/"+F.icon+"@3x.png 3x",o.querySelector(".organizationName").textContent=e.params.organization.name,o.querySelector(".notification").href=p.I("organization-dashboard",{url:{oid:e.params.organization._id}});break;default:o=document.importNode(document.querySelector(".notificationTemplate.undefinedNotification").content,!0)}switch(x<r&&j.classList.contains("hidden")&&S.classList.add("hasUnread"),o.querySelector(".notification").dataset.id=e._id,o.querySelector(".notification").classList.toggle("new",x<r),o.querySelector(".notificationLastUpdated").setAttribute("datetime",e.updated),n){case"start":E.childElementCount?E.insertBefore(o,E.firstElementChild):E.appendChild(o);break;case"end":default:E.appendChild(o)}}function o(e){for(var t=0,n=0;n<k.length;n++)if(k[n]._id===e[0]._id){t=k.splice(n).length;break}return k=k.concat(e),t}function r(){if(!(j.classList.contains("error")||D||L)){L=!0;var e="";k.length&&(e="&date_before="+k[k.length-1].updated),fetch(Zeplin.urls.baseURL+"/notifications?count="+v+e,{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw f.a(e.status,t)})}).then(function(e){for(var t=o(e.notifications);t<e.notifications.length;t++)i(e.notifications[t]);if(L=!1,e.notifications.length<v||!e.hasMore)D=!0,j.classList.add("fin");else{var n=j.scrollHeight,a=j.clientHeight,s=j.scrollTop;!j.classList.contains("hidden")&&n-(a+s)<360&&r()}}).catch(function(e){j.classList.add("error"),L=!1})}}function s(){S.classList.remove("hasUnread","hasPromotion")}function l(){Array.from(E.querySelectorAll(".notification")).forEach(function(e){e.classList.remove("new")})}function c(){x=new Date,fetch(Zeplin.urls.baseURL+"/users/notificationLastReadTime",{method:"PUT",headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw f.a(e.status,t)})}).then(function(e){x=new Date(e.notificationLastReadTime),Zeplin.updateUser({notificationLastReadTime:e.notificationLastReadTime})})}function u(e){return e/2*window.devicePixelRatio}function d(){I.width=16*window.devicePixelRatio,I.height=16*window.devicePixelRatio;var e=I.getContext("2d");return e.beginPath(),e.fillStyle="#ee6723",e.arc(u(_),u(_),u(F),0,6.28,!1),e.fill(),e.beginPath(),e.fillStyle="#fff",e.arc(u(_),u(_),u(B),0,6.28,!1),e.fill(),I.toDataURL()}var m,g=n(7),p=n(0),f=n(1),h=n(14),y=n(22),b=n(8),v=50,S=document.getElementById("notificationsButton"),j=document.getElementById("notificationContainer"),E=document.getElementById("notificationList"),w=document.getElementById("notificationError"),C=document.getElementById("userMenu"),L=!1,D=!1,x=new Date,k=[],q={king:{name:"Owner",icon:"icQueen"},queen:{name:"Admin",icon:"icQueen"},rook:{name:"Editor",icon:"icRook"},knight:{name:"Member",icon:"icKnight"}},T=new MutationObserver(function(e){e.forEach(function(e){e.oldValue&&e.oldValue.includes("hidden")||!e.target.classList.contains("hidden")||(s(),l(),c())})});b.a&&b.a.features&&b.a.features.webviews&&b.a.ipcRenderer.on("read-notifications",function(){s(),l(),c()});var I=document.createElement("canvas"),_=16,F=13,B=2;Cookies.get("userToken")&&(S.addEventListener("click",function(e){e.stopPropagation(),window.ExportProgresses&&ExportProgresses.hideExportProgressesContainer(),C.classList.add("hidden"),j.classList.toggle("hidden"),j.classList.contains("hidden")?clearTimeout(m):j.scrollHeight-(j.clientHeight+j.scrollTop)<360&&r()}),E.addEventListener("click",function(e){e.stopPropagation(),e.button===Zeplin.MOUSE_BUTTON.LEFT&&"A"===e.target.closest(".notification").tagName&&j.classList.add("hidden")}),j.addEventListener("scroll",function(){requestAnimationFrame(function(){j.scrollHeight-(j.clientHeight+j.scrollTop)<360&&r()})}),w.addEventListener("click",function(e){e.stopPropagation(),e.button===Zeplin.MOUSE_BUTTON.LEFT&&(j.classList.remove("error"),r())}),document.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&j.classList.add("hidden")}),document.addEventListener("keydown",function(e){e.keyCode===Zeplin.KEY_CODE.ESC&&j.classList.add("hidden")}),window.addEventListener("online",function(){k=[],L=!1,D=!1,E.innerHTML="",j.classList.remove("fin","error"),s(),r()}),T.observe(j,{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]}),b.a&&(new MutationObserver(function(e){e.forEach(function(e){e.oldValue&&e.oldValue.includes("hasUnread")||!e.target.classList.contains("hasUnread")?e.oldValue.includes("hasUnread")&&!e.target.classList.contains("hasUnread")&&b.a.ipcRenderer.send("read-notifications"):b.a.ipcRenderer.send("unread-notifications",d())})}).observe(S,{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]}),b.a.features&&b.a.features.revampedMenu&&b.a.ipcRenderer.on("show-badge",function(e,t){t&&S.classList.contains("hasUnread")&&b.a.ipcRenderer.send("unread-notifications",d())})),x=new Date(Zeplin.user.notificationLastReadTime),r(),g.f.bind("Notification",function(e){var t=k.findIndex(function(t){return t._id===e.body._id});if(-1!==t){k.splice(t,1);var n=E.querySelector(".notification[data-id='"+e.body._id+"']");n&&n.remove()}k.unshift(e.body),i(e.body,{position:"start",eventsLength:e.body.params.eventsLength})}),g.c.subscribe("announcement").bind("Notification",function(e){k.unshift(e.body),i(e.body,{position:"start",eventsLength:e.body.params.eventsLength})}))},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var a=Object.freeze({transparent:{name:"transparent",r:0,g:0,b:0,a:0}}),i=Object.freeze([{r:0,g:0,b:0,name:"black"},{r:0,g:1,b:51,name:"very dark blue"},{r:0,g:2,b:46,name:"dark navy blue"},{r:0,g:3,b:91,name:"dark blue"},{r:0,g:4,b:53,name:"dark navy"},{r:0,g:17,b:70,name:"navy blue"},{r:0,g:45,b:4,name:"dark forest green"},{r:0,g:69,b:119,name:"prussian blue"},{r:0,g:82,b:73,name:"dark blue green"},{r:0,g:85,b:90,name:"deep teal"},{r:0,g:95,b:106,name:"petrol"},{r:0,g:147,b:55,name:"kelley green"},{r:0,g:251,b:176,name:"greenish turquoise"},{r:0,g:255,b:255,name:"cyan"},{r:1,g:15,b:204,name:"true blue"},{r:1,g:21,b:62,name:"navy"},{r:1,g:56,b:106,name:"marine blue"},{r:1,g:65,b:130,name:"darkish blue"},{r:1,g:70,b:0,name:"racing green"},{r:1,g:77,b:78,name:"dark teal"},{r:1,g:84,b:130,name:"deep sea blue"},{r:1,g:101,b:252,name:"bright blue"},{r:1,g:103,b:149,name:"peacock blue"},{r:1,g:115,b:113,name:"dark aquamarine"},{r:1,g:115,b:116,name:"deep turquoise"},{r:1,g:122,b:121,name:"bluegreen"},{r:1,g:123,b:146,name:"ocean"},{r:1,g:136,b:159,name:"teal blue"},{r:1,g:149,b:41,name:"irish green"},{r:1,g:160,b:73,name:"emerald"},{r:1,g:180,b:76,name:"shamrock"},{r:1,g:192,b:141,name:"green blue"},{r:1,g:249,b:198,name:"bright teal"},{r:1,g:255,b:7,name:"bright green"},{r:2,g:0,b:53,name:"midnight blue"},{r:2,g:3,b:226,name:"pure blue"},{r:2,g:6,b:111,name:"dark royal blue"},{r:2,g:27,b:249,name:"rich blue"},{r:2,g:89,b:15,name:"deep green"},{r:2,g:143,b:30,name:"emerald green"},{r:2,g:147,b:134,name:"teal"},{r:2,g:171,b:46,name:"kelly green"},{r:2,g:193,b:77,name:"shamrock green"},{r:2,g:204,b:254,name:"bright sky blue"},{r:2,g:216,b:233,name:"aqua blue"},{r:3,g:1,b:45,name:"midnight"},{r:3,g:7,b:100,name:"darkblue"},{r:3,g:10,b:167,name:"cobalt blue"},{r:3,g:53,b:0,name:"dark green"},{r:3,g:57,b:248,name:"vibrant blue"},{r:3,g:67,b:223,name:"blue"},{r:3,g:113,b:156,name:"ocean blue"},{r:4,g:2,b:115,name:"deep blue"},{r:4,g:3,b:72,name:"night blue"},{r:4,g:46,b:96,name:"marine"},{r:4,g:74,b:5,name:"bottle green"},{r:4,g:92,b:90,name:"dark turquoise"},{r:4,g:116,b:149,name:"sea blue"},{r:4,g:130,b:67,name:"jungle green"},{r:4,g:133,b:209,name:"cerulean"},{r:4,g:216,b:178,name:"aquamarine"},{r:4,g:217,b:255,name:"neon blue"},{r:4,g:244,b:137,name:"turquoise green"},{r:5,g:4,b:170,name:"royal blue"},{r:5,g:71,b:42,name:"evergreen"},{r:5,g:72,b:13,name:"british racing green"},{r:5,g:73,b:7,name:"darkgreen"},{r:5,g:105,b:107,name:"dark aqua"},{r:5,g:110,b:238,name:"cerulean blue"},{r:5,g:255,b:166,name:"bright sea green"},{r:6,g:46,b:3,name:"very dark green"},{r:6,g:71,b:12,name:"forest green"},{r:6,g:82,b:255,name:"electric blue"},{r:6,g:154,b:243,name:"azure"},{r:6,g:177,b:196,name:"turquoise blue"},{r:6,g:180,b:139,name:"green blue"},{r:6,g:194,b:172,name:"turquoise"},{r:7,g:13,b:13,name:"almost black"},{r:8,g:4,b:249,name:"primary blue"},{r:8,g:120,b:127,name:"deep aqua"},{r:8,g:148,b:4,name:"true green"},{r:8,g:255,b:8,name:"fluorescent green"},{r:10,g:67,b:122,name:"twilight blue"},{r:10,g:72,b:30,name:"pine green"},{r:10,g:95,b:56,name:"spruce"},{r:10,g:136,b:138,name:"dark cyan"},{r:10,g:221,b:8,name:"vibrant green"},{r:10,g:255,b:2,name:"fluro green"},{r:11,g:64,b:8,name:"hunter green"},{r:11,g:85,b:9,name:"forest"},{r:11,g:139,b:135,name:"greenish blue"},{r:11,g:247,b:125,name:"minty green"},{r:11,g:249,b:234,name:"bright aqua"},{r:12,g:6,b:247,name:"strong blue"},{r:12,g:23,b:147,name:"royal"},{r:12,g:181,b:119,name:"green teal"},{r:12,g:220,b:115,name:"tealish green"},{r:12,g:255,b:12,name:"neon green"},{r:13,g:117,b:248,name:"deep sky blue"},{r:14,g:135,b:204,name:"water blue"},{r:15,g:155,b:142,name:"blue green"},{r:15,g:254,b:249,name:"bright turquoise"},{r:16,g:122,b:176,name:"nice blue"},{r:16,g:166,b:116,name:"bluish green"},{r:17,g:135,b:93,name:"dark sea green"},{r:18,g:225,b:147,name:"aqua green"},{r:19,g:126,b:109,name:"blue green"},{r:19,g:187,b:175,name:"topaz"},{r:19,g:234,b:201,name:"aqua"},{r:21,g:46,b:255,name:"vivid blue"},{r:21,g:68,b:6,name:"forrest green"},{r:21,g:80,b:132,name:"light navy"},{r:21,g:176,b:26,name:"green"},{r:24,g:5,b:219,name:"ultramarine blue"},{r:24,g:209,b:123,name:"seaweed"},{r:27,g:36,b:49,name:"dark"},{r:27,g:252,b:6,name:"highlighter green"},{r:29,g:2,b:0,name:"very dark brown"},{r:29,g:93,b:236,name:"azul"},{r:30,g:72,b:143,name:"cobalt"},{r:30,g:145,b:103,name:"viridian"},{r:30,g:248,b:118,name:"spearmint"},{r:31,g:9,b:84,name:"dark indigo"},{r:31,g:59,b:77,name:"dark blue grey"},{r:31,g:99,b:87,name:"dark green blue"},{r:31,g:167,b:116,name:"jade"},{r:31,g:181,b:122,name:"dark seafoam"},{r:32,g:0,b:177,name:"ultramarine"},{r:32,g:192,b:115,name:"dark mint green"},{r:32,g:249,b:134,name:"wintergreen"},{r:33,g:56,b:171,name:"sapphire"},{r:33,g:71,b:97,name:"dark slate blue"},{r:33,g:195,b:111,name:"algae green"},{r:33,g:252,b:13,name:"electric green"},{r:34,g:66,b:199,name:"blue blue"},{r:35,g:196,b:139,name:"greenblue"},{r:36,g:122,b:253,name:"clear blue"},{r:36,g:188,b:168,name:"tealish"},{r:37,g:163,b:111,name:"teal green"},{r:37,g:255,b:41,name:"hot green"},{r:38,g:83,b:141,name:"dusk blue"},{r:38,g:247,b:253,name:"bright light blue"},{r:39,g:106,b:179,name:"mid blue"},{r:40,g:1,b:55,name:"midnight purple"},{r:40,g:124,b:55,name:"darkish green"},{r:41,g:70,b:91,name:"dark grey blue"},{r:41,g:118,b:187,name:"bluish"},{r:42,g:1,b:52,name:"very dark purple"},{r:42,g:126,b:25,name:"tree green"},{r:42,g:254,b:183,name:"greenish cyan"},{r:43,g:93,b:52,name:"pine"},{r:43,g:175,b:106,name:"jade green"},{r:43,g:177,b:121,name:"bluey green"},{r:44,g:111,b:187,name:"medium blue"},{r:44,g:250,b:31,name:"radioactive green"},{r:45,g:254,b:84,name:"bright light green"},{r:46,g:90,b:136,name:"light navy blue"},{r:46,g:232,b:187,name:"aqua marine"},{r:47,g:239,b:16,name:"vivid green"},{r:49,g:102,b:138,name:"ugly blue"},{r:50,g:191,b:132,name:"greenish teal"},{r:51,g:184,b:100,name:"cool green"},{r:52,g:1,b:63,name:"dark violet"},{r:52,g:28,b:2,name:"dark brown"},{r:52,g:56,b:55,name:"charcoal"},{r:53,g:6,b:62,name:"dark purple"},{r:53,g:83,b:10,name:"navy green"},{r:53,g:173,b:107,name:"seaweed green"},{r:54,g:1,b:63,name:"deep purple"},{r:54,g:55,b:55,name:"dark grey"},{r:55,g:62,b:2,name:"dark olive"},{r:55,g:120,b:191,name:"windows blue"},{r:56,g:2,b:130,name:"indigo"},{r:56,g:8,b:53,name:"eggplant"},{r:56,g:128,b:4,name:"dark grass green"},{r:57,g:173,b:72,name:"medium green"},{r:58,g:24,b:177,name:"indigo blue"},{r:58,g:46,b:254,name:"light royal blue"},{r:58,g:229,b:127,name:"weird green"},{r:59,g:91,b:146,name:"denim blue"},{r:59,g:99,b:140,name:"denim"},{r:59,g:113,b:159,name:"muted blue"},{r:60,g:0,b:8,name:"dark maroon"},{r:60,g:65,b:66,name:"charcoal grey"},{r:60,g:77,b:3,name:"dark olive green"},{r:60,g:115,b:168,name:"flat blue"},{r:60,g:153,b:146,name:"sea"},{r:61,g:7,b:52,name:"aubergine"},{r:61,g:28,b:2,name:"chocolate"},{r:61,g:122,b:253,name:"lightish blue"},{r:61,g:153,b:115,name:"ocean green"},{r:62,g:130,b:252,name:"dodger blue"},{r:62,g:175,b:118,name:"dark seafoam green"},{r:63,g:1,b:44,name:"dark plum"},{r:63,g:130,b:157,name:"dirty blue"},{r:63,g:155,b:11,name:"grass green"},{r:64,g:163,b:104,name:"greenish"},{r:64,g:253,b:20,name:"poison green"},{r:65,g:2,b:0,name:"deep brown"},{r:65,g:25,b:0,name:"chocolate brown"},{r:65,g:156,b:3,name:"grassy green"},{r:65,g:253,b:254,name:"bright cyan"},{r:66,g:179,b:149,name:"greeny blue"},{r:67,g:5,b:65,name:"eggplant purple"},{r:67,g:107,b:173,name:"french blue"},{r:68,g:142,b:228,name:"dark sky blue"},{r:70,g:65,b:150,name:"blueberry"},{r:71,g:95,b:148,name:"dusky blue"},{r:72,g:192,b:114,name:"dark mint"},{r:73,g:6,b:72,name:"deep violet"},{r:73,g:117,b:156,name:"dull blue"},{r:73,g:132,b:184,name:"cool blue"},{r:74,g:1,b:0,name:"mahogany"},{r:75,g:0,b:110,name:"royal purple"},{r:75,g:1,b:1,name:"dried blood"},{r:75,g:87,b:219,name:"warm blue"},{r:75,g:93,b:22,name:"army green"},{r:75,g:97,b:19,name:"camouflage green"},{r:76,g:144,b:133,name:"dusty teal"},{r:77,g:164,b:9,name:"lawn green"},{r:78,g:5,b:80,name:"plum purple"},{r:78,g:81,b:139,name:"twilight"},{r:78,g:84,b:129,name:"dusk"},{r:78,g:116,b:150,name:"cadet blue"},{r:78,g:253,b:84,name:"light neon green"},{r:79,g:115,b:142,name:"metallic blue"},{r:79,g:145,b:83,name:"light forest green"},{r:80,g:123,b:156,name:"stormy blue"},{r:80,g:167,b:71,name:"mid green"},{r:81,g:10,b:201,name:"violet blue"},{r:81,g:101,b:114,name:"slate"},{r:81,g:112,b:215,name:"cornflower blue"},{r:81,g:183,b:59,name:"leafy green"},{r:82,g:101,b:37,name:"camo green"},{r:83,g:60,b:198,name:"blue with a hint of purple"},{r:83,g:98,b:103,name:"gunmetal"},{r:83,g:252,b:161,name:"sea green"},{r:83,g:254,b:92,name:"light bright green"},{r:84,g:78,b:3,name:"green brown"},{r:84,g:141,b:68,name:"fern green"},{r:84,g:172,b:104,name:"algae"},{r:85,g:57,b:204,name:"blurple"},{r:86,g:132,b:174,name:"off blue"},{r:86,g:174,b:87,name:"dark pastel green"},{r:86,g:252,b:162,name:"light green blue"},{r:87,g:41,b:206,name:"blue purple"},{r:88,g:15,b:65,name:"plum"},{r:88,g:188,b:8,name:"frog green"},{r:89,g:101,b:109,name:"slate grey"},{r:89,g:133,b:86,name:"dark sage"},{r:90,g:6,b:239,name:"blue purple"},{r:90,g:125,b:154,name:"steel blue"},{r:90,g:134,b:173,name:"dusty blue"},{r:91,g:124,b:153,name:"slate blue"},{r:92,g:139,b:21,name:"sap green"},{r:92,g:169,b:4,name:"leaf green"},{r:92,g:172,b:45,name:"grass"},{r:92,g:178,b:0,name:"kermit green"},{r:93,g:6,b:233,name:"blue violet"},{r:93,g:20,b:81,name:"grape purple"},{r:93,g:33,b:208,name:"purple blue"},{r:94,g:129,b:157,name:"greyish blue"},{r:94,g:155,b:138,name:"grey teal"},{r:94,g:220,b:31,name:"green apple"},{r:95,g:52,b:231,name:"purpley blue"},{r:95,g:158,b:143,name:"dull teal"},{r:95,g:160,b:82,name:"muted green"},{r:96,g:30,b:249,name:"purplish blue"},{r:96,g:70,b:15,name:"mud brown"},{r:96,g:102,b:2,name:"mud green"},{r:96,g:124,b:142,name:"blue grey"},{r:97,g:0,b:35,name:"burgundy"},{r:97,g:64,b:239,name:"purpleish blue"},{r:97,g:222,b:42,name:"toxic green"},{r:97,g:225,b:96,name:"lightish green"},{r:98,g:65,b:199,name:"bluey purple"},{r:98,g:88,b:196,name:"iris"},{r:99,g:45,b:233,name:"purple blue"},{r:99,g:139,b:39,name:"mossy green"},{r:99,g:169,b:80,name:"fern"},{r:99,g:179,b:101,name:"boring green"},{r:99,g:247,b:180,name:"light greenish blue"},{r:100,g:84,b:3,name:"olive brown"},{r:100,g:125,b:142,name:"grey blue"},{r:100,g:136,b:234,name:"soft blue"},{r:101,g:0,b:33,name:"maroon"},{r:101,g:55,b:0,name:"brown"},{r:101,g:116,b:50,name:"muddy green"},{r:101,g:139,b:56,name:"moss green"},{r:101,g:140,b:187,name:"faded blue"},{r:101,g:141,b:109,name:"slate green"},{r:101,g:171,b:124,name:"tea"},{r:101,g:254,b:8,name:"bright lime green"},{r:102,g:26,b:238,name:"purply blue"},{r:102,g:95,b:209,name:"dark periwinkle"},{r:102,g:124,b:62,name:"military green"},{r:102,g:126,b:44,name:"dirty green"},{r:103,g:58,b:63,name:"purple brown"},{r:103,g:122,b:4,name:"olive green"},{r:104,g:0,b:24,name:"claret"},{r:104,g:50,b:227,name:"burple"},{r:105,g:96,b:6,name:"greeny brown"},{r:105,g:97,b:18,name:"greenish brown"},{r:105,g:131,b:57,name:"swamp"},{r:105,g:157,b:76,name:"flat green"},{r:105,g:216,b:79,name:"fresh green"},{r:106,g:110,b:9,name:"brownish green"},{r:106,g:121,b:247,name:"cornflower"},{r:107,g:66,b:71,name:"purplish brown"},{r:107,g:124,b:133,name:"battleship grey"},{r:107,g:139,b:164,name:"grey blue"},{r:107,g:163,b:83,name:"off green"},{r:108,g:52,b:97,name:"grape"},{r:108,g:122,b:14,name:"murky green"},{r:109,g:90,b:207,name:"light indigo"},{r:109,g:237,b:253,name:"robins egg"},{r:110,g:16,b:5,name:"reddy brown"},{r:110,g:117,b:14,name:"olive"},{r:110,g:203,b:60,name:"apple"},{r:111,g:108,b:10,name:"browny green"},{r:111,g:118,b:50,name:"olive drab"},{r:111,g:124,b:0,name:"poop green"},{r:111,g:130,b:138,name:"steel grey"},{r:111,g:194,b:118,name:"soft green"},{r:112,g:59,b:231,name:"bluish purple"},{r:112,g:108,b:17,name:"brown green"},{r:112,g:178,b:63,name:"nasty green"},{r:113,g:159,b:145,name:"greyish teal"},{r:113,g:170,b:52,name:"leaf"},{r:114,g:0,b:88,name:"rich purple"},{r:114,g:134,b:57,name:"khaki green"},{r:114,g:143,b:2,name:"dark yellow green"},{r:115,g:0,b:57,name:"merlot"},{r:115,g:74,b:101,name:"dirty purple"},{r:115,g:92,b:18,name:"mud"},{r:115,g:133,b:149,name:"steel"},{r:116,g:40,b:2,name:"chestnut"},{r:116,g:133,b:0,name:"swamp green"},{r:116,g:139,b:151,name:"bluish grey"},{r:116,g:149,b:81,name:"drab green"},{r:116,g:166,b:98,name:"dull green"},{r:117,g:8,b:81,name:"velvet"},{r:117,g:25,b:115,name:"darkish purple"},{r:117,g:128,b:0,name:"shit green"},{r:117,g:141,b:163,name:"blue grey"},{r:117,g:184,b:79,name:"turtle green"},{r:117,g:187,b:253,name:"sky blue"},{r:117,g:253,b:99,name:"lighter green"},{r:118,g:66,b:78,name:"brownish purple"},{r:118,g:153,b:88,name:"moss"},{r:118,g:169,b:115,name:"dusty green"},{r:118,g:205,b:38,name:"apple green"},{r:118,g:253,b:168,name:"light bluish green"},{r:118,g:255,b:123,name:"lightgreen"},{r:119,g:0,b:1,name:"blood"},{r:119,g:146,b:111,name:"green grey"},{r:119,g:161,b:181,name:"greyblue"},{r:119,g:171,b:86,name:"asparagus"},{r:120,g:155,b:115,name:"grey green"},{r:120,g:209,b:182,name:"seafoam blue"},{r:122,g:89,b:1,name:"poop brown"},{r:122,g:104,b:127,name:"purplish grey"},{r:122,g:106,b:79,name:"greyish brown"},{r:122,g:151,b:3,name:"ugly green"},{r:122,g:249,b:171,name:"seafoam green"},{r:123,g:0,b:44,name:"bordeaux"},{r:123,g:3,b:35,name:"wine red"},{r:123,g:88,b:4,name:"shit brown"},{r:123,g:178,b:116,name:"faded green"},{r:123,g:200,b:246,name:"lightblue"},{r:123,g:242,b:218,name:"tiffany blue"},{r:123,g:253,b:199,name:"light aquamarine"},{r:125,g:113,b:3,name:"ugly brown"},{r:125,g:127,b:124,name:"medium grey"},{r:126,g:30,b:156,name:"purple"},{r:126,g:64,b:113,name:"bruise"},{r:126,g:160,b:122,name:"greeny grey"},{r:126,g:189,b:1,name:"dark lime green"},{r:126,g:244,b:204,name:"light turquoise"},{r:126,g:251,b:179,name:"light blue green"},{r:127,g:43,b:10,name:"reddish brown"},{r:127,g:78,b:30,name:"milk chocolate"},{r:127,g:81,b:18,name:"medium brown"},{r:127,g:94,b:0,name:"poop"},{r:127,g:95,b:0,name:"shit"},{r:127,g:104,b:78,name:"dark taupe"},{r:127,g:112,b:83,name:"grey brown"},{r:127,g:143,b:78,name:"camo"},{r:128,g:1,b:63,name:"wine"},{r:128,g:91,b:135,name:"muted purple"},{r:128,g:249,b:173,name:"seafoam"},{r:130,g:7,b:71,name:"red purple"},{r:130,g:95,b:135,name:"dusty purple"},{r:130,g:109,b:140,name:"grey purple"},{r:130,g:131,b:68,name:"drab"},{r:130,g:166,b:125,name:"greyish green"},{r:130,g:202,b:252,name:"sky"},{r:130,g:203,b:178,name:"pale teal"},{r:131,g:101,b:57,name:"dirt brown"},{r:132,g:0,b:0,name:"dark red"},{r:132,g:89,b:126,name:"dull purple"},{r:132,g:183,b:1,name:"dark lime"},{r:133,g:14,b:4,name:"indian red"},{r:133,g:103,b:152,name:"dark lavender"},{r:133,g:163,b:178,name:"bluegrey"},{r:134,g:111,b:133,name:"purple grey"},{r:134,g:119,b:95,name:"brownish grey"},{r:134,g:161,b:125,name:"grey green"},{r:135,g:76,b:98,name:"dark mauve"},{r:135,g:86,b:228,name:"purpley"},{r:135,g:95,b:66,name:"cocoa"},{r:135,g:110,b:75,name:"dull brown"},{r:135,g:169,b:34,name:"avocado green"},{r:135,g:174,b:115,name:"sage"},{r:135,g:253,b:5,name:"bright lime"},{r:136,g:95,b:1,name:"poo brown"},{r:136,g:104,b:6,name:"muddy brown"},{r:136,g:113,b:145,name:"greyish purple"},{r:136,g:151,b:23,name:"baby shit green"},{r:136,g:179,b:120,name:"sage green"},{r:137,g:69,b:133,name:"light eggplant"},{r:137,g:91,b:123,name:"dusky purple"},{r:137,g:160,b:176,name:"bluey grey"},{r:137,g:162,b:3,name:"vomit green"},{r:137,g:254,b:5,name:"lime green"},{r:138,g:110,b:69,name:"dirt"},{r:138,g:184,b:254,name:"carolina blue"},{r:138,g:241,b:254,name:"robin egg blue"},{r:139,g:46,b:22,name:"red brown"},{r:139,g:49,b:3,name:"rust brown"},{r:139,g:136,b:248,name:"lavender blue"},{r:140,g:0,b:15,name:"crimson"},{r:140,g:0,b:52,name:"red wine"},{r:140,g:253,b:126,name:"easter green"},{r:140,g:255,b:158,name:"baby green"},{r:140,g:255,b:219,name:"light aqua"},{r:141,g:94,b:183,name:"deep lavender"},{r:141,g:132,b:104,name:"brown grey"},{r:142,g:118,b:24,name:"hazel"},{r:142,g:130,b:254,name:"periwinkle"},{r:142,g:171,b:18,name:"pea green"},{r:142,g:229,b:63,name:"kiwi green"},{r:143,g:20,b:2,name:"brick red"},{r:143,g:115,b:3,name:"poo"},{r:143,g:140,b:231,name:"perrywinkle"},{r:143,g:152,b:5,name:"baby poop green"},{r:143,g:153,b:251,name:"periwinkle blue"},{r:143,g:174,b:34,name:"icky green"},{r:143,g:182,b:123,name:"lichen"},{r:143,g:254,b:9,name:"acid green"},{r:143,g:255,b:159,name:"mint green"},{r:144,g:177,b:52,name:"avocado"},{r:144,g:228,b:193,name:"light teal"},{r:144,g:253,b:169,name:"foam green"},{r:145,g:9,b:81,name:"reddish purple"},{r:145,g:110,b:153,name:"faded purple"},{r:146,g:10,b:78,name:"mulberry"},{r:146,g:43,b:5,name:"brown red"},{r:146,g:149,b:145,name:"grey"},{r:146,g:153,b:1,name:"pea soup"},{r:147,g:124,b:0,name:"baby poop"},{r:148,g:86,b:140,name:"purplish"},{r:148,g:119,b:6,name:"puke brown"},{r:148,g:126,b:148,name:"purpley grey"},{r:148,g:166,b:23,name:"pea soup green"},{r:148,g:172,b:2,name:"barf green"},{r:148,g:178,b:28,name:"sickly green"},{r:149,g:46,b:143,name:"warm purple"},{r:149,g:163,b:166,name:"cool grey"},{r:149,g:208,b:252,name:"light blue"},{r:150,g:0,b:86,name:"dark magenta"},{r:150,g:78,b:2,name:"warm brown"},{r:150,g:110,b:189,name:"deep lilac"},{r:150,g:174,b:141,name:"greenish grey"},{r:150,g:180,b:3,name:"booger green"},{r:150,g:249,b:123,name:"light green"},{r:151,g:138,b:132,name:"warm grey"},{r:152,g:0,b:2,name:"blood red"},{r:152,g:63,b:178,name:"purply"},{r:152,g:86,b:141,name:"purpleish"},{r:152,g:94,b:43,name:"sepia"},{r:152,g:239,b:249,name:"robins egg blue"},{r:152,g:246,b:176,name:"light sea green"},{r:153,g:0,b:250,name:"vivid purple"},{r:153,g:1,b:71,name:"purple red"},{r:153,g:15,b:75,name:"berry"},{r:153,g:117,b:112,name:"reddish grey"},{r:153,g:204,b:4,name:"slime green"},{r:154,g:2,b:0,name:"deep red"},{r:154,g:14,b:234,name:"violet"},{r:154,g:48,b:1,name:"auburn"},{r:154,g:98,b:0,name:"raw sienna"},{r:154,g:174,b:7,name:"puke green"},{r:154,g:247,b:100,name:"light grass green"},{r:155,g:95,b:192,name:"amethyst"},{r:155,g:122,b:1,name:"yellowish brown"},{r:155,g:143,b:85,name:"dark khaki"},{r:155,g:181,b:60,name:"booger"},{r:155,g:229,b:170,name:"hospital green"},{r:156,g:109,b:87,name:"brownish"},{r:156,g:109,b:165,name:"dark lilac"},{r:156,g:187,b:4,name:"bright olive"},{r:156,g:239,b:67,name:"kiwi"},{r:157,g:2,b:22,name:"carmine"},{r:157,g:7,b:89,name:"dark fuchsia"},{r:157,g:87,b:131,name:"light plum"},{r:157,g:118,b:81,name:"mocha"},{r:157,g:185,b:44,name:"sick green"},{r:157,g:188,b:212,name:"light grey blue"},{r:157,g:193,b:0,name:"snot green"},{r:157,g:255,b:0,name:"bright yellow green"},{r:158,g:0,b:58,name:"cranberry"},{r:158,g:1,b:104,name:"red violet"},{r:158,g:54,b:35,name:"brownish red"},{r:158,g:67,b:162,name:"medium purple"},{r:159,g:35,b:5,name:"burnt red"},{r:159,g:131,b:3,name:"diarrhea"},{r:159,g:254,b:176,name:"mint"},{r:160,g:2,b:92,name:"deep magenta"},{r:160,g:4,b:152,name:"barney purple"},{r:160,g:54,b:35,name:"brick"},{r:160,g:69,b:14,name:"burnt umber"},{r:160,g:191,b:22,name:"gross green"},{r:160,g:254,b:191,name:"light seafoam"},{r:161,g:57,b:5,name:"russet"},{r:162,g:72,b:87,name:"light maroon"},{r:162,g:101,b:62,name:"earth"},{r:162,g:164,b:21,name:"vomit"},{r:162,g:191,b:254,name:"pastel blue"},{r:162,g:207,b:254,name:"baby blue"},{r:164,g:66,b:160,name:"ugly purple"},{r:164,g:132,b:172,name:"heather"},{r:164,g:190,b:92,name:"light olive green"},{r:164,g:191,b:32,name:"pea"},{r:165,g:0,b:85,name:"violet red"},{r:165,g:82,b:230,name:"lightish purple"},{r:165,g:90,b:244,name:"lighter purple"},{r:165,g:126,b:82,name:"puce"},{r:165,g:163,b:145,name:"cement"},{r:165,g:165,b:2,name:"puke"},{r:165,g:251,b:213,name:"pale turquoise"},{r:166,g:111,b:181,name:"soft purple"},{r:166,g:129,b:76,name:"coffee"},{r:166,g:200,b:117,name:"light moss green"},{r:166,g:251,b:178,name:"light mint green"},{r:167,g:94,b:9,name:"raw umber"},{r:167,g:255,b:181,name:"light seafoam green"},{r:168,g:60,b:9,name:"rust"},{r:168,g:65,b:91,name:"light burgundy"},{r:168,g:121,b:0,name:"bronze"},{r:168,g:125,b:194,name:"wisteria"},{r:168,g:137,b:5,name:"dark mustard"},{r:168,g:143,b:89,name:"dark sand"},{r:168,g:164,b:149,name:"greyish"},{r:168,g:181,b:4,name:"mustard green"},{r:168,g:255,b:4,name:"electric lime"},{r:169,g:3,b:8,name:"darkish red"},{r:169,g:86,b:30,name:"sienna"},{r:169,g:190,b:112,name:"tan green"},{r:169,g:249,b:113,name:"spring green"},{r:170,g:35,b:255,name:"electric purple"},{r:170,g:39,b:4,name:"rust red"},{r:170,g:166,b:98,name:"khaki"},{r:170,g:255,b:50,name:"lime"},{r:171,g:18,b:57,name:"rouge"},{r:171,g:126,b:76,name:"tan brown"},{r:171,g:144,b:4,name:"baby poo"},{r:172,g:29,b:184,name:"barney"},{r:172,g:79,b:6,name:"cinnamon"},{r:172,g:116,b:52,name:"leather"},{r:172,g:126,b:4,name:"mustard brown"},{r:172,g:134,b:168,name:"dusty lavender"},{r:172,g:147,b:98,name:"dark beige"},{r:172,g:187,b:13,name:"snot"},{r:172,g:191,b:105,name:"light olive"},{r:172,g:194,b:217,name:"cloudy blue"},{r:172,g:255,b:252,name:"light cyan"},{r:173,g:3,b:222,name:"vibrant purple"},{r:173,g:10,b:253,name:"bright violet"},{r:173,g:129,b:80,name:"light brown"},{r:173,g:144,b:13,name:"baby shit brown"},{r:173,g:165,b:135,name:"stone"},{r:173,g:248,b:2,name:"lemon green"},{r:174,g:113,b:129,name:"mauve"},{r:174,g:139,b:12,name:"yellowy brown"},{r:174,g:253,b:108,name:"light lime"},{r:174,g:255,b:110,name:"key lime"},{r:175,g:47,b:13,name:"rusty red"},{r:175,g:111,b:9,name:"caramel"},{r:175,g:136,b:74,name:"dark tan"},{r:175,g:168,b:139,name:"bland"},{r:176,g:1,b:73,name:"raspberry"},{r:176,g:5,b:75,name:"purplish red"},{r:176,g:78,b:15,name:"burnt sienna"},{r:176,g:221,b:22,name:"yellowish green"},{r:176,g:255,b:157,name:"pastel green"},{r:177,g:96,b:2,name:"orangey brown"},{r:177,g:114,b:97,name:"pinkish brown"},{r:177,g:145,b:110,name:"pale brown"},{r:177,g:209,b:252,name:"powder blue"},{r:177,g:210,b:123,name:"pale olive green"},{r:177,g:252,b:153,name:"pale light green"},{r:177,g:255,b:101,name:"pale lime green"},{r:178,g:95,b:3,name:"orangish brown"},{r:178,g:100,b:0,name:"umber"},{r:178,g:113,b:61,name:"clay brown"},{r:178,g:122,b:1,name:"golden brown"},{r:178,g:151,b:5,name:"brown yellow"},{r:178,g:153,b:110,name:"dust"},{r:178,g:251,b:165,name:"light pastel green"},{r:179,g:111,b:246,name:"light urple"},{r:181,g:72,b:93,name:"dark rose"},{r:181,g:148,b:16,name:"dark gold"},{r:181,g:195,b:6,name:"bile"},{r:181,g:206,b:8,name:"green yellow"},{r:182,g:99,b:37,name:"copper"},{r:182,g:106,b:80,name:"clay"},{r:182,g:196,b:6,name:"baby puke green"},{r:182,g:255,b:187,name:"light mint"},{r:183,g:82,b:3,name:"burnt siena"},{r:183,g:144,b:212,name:"pale purple"},{r:183,g:148,b:0,name:"yellow brown"},{r:183,g:201,b:226,name:"light blue grey"},{r:183,g:225,b:161,name:"light grey green"},{r:183,g:255,b:250,name:"pale cyan"},{r:184,g:255,b:235,name:"pale aqua"},{r:185,g:72,b:78,name:"dusty red"},{r:185,g:105,b:2,name:"brown orange"},{r:185,g:162,b:129,name:"taupe"},{r:185,g:204,b:129,name:"pale olive"},{r:185,g:255,b:102,name:"light lime green"},{r:186,g:104,b:115,name:"dusky rose"},{r:186,g:158,b:136,name:"mushroom"},{r:187,g:63,b:63,name:"dull red"},{r:187,g:249,b:15,name:"yellowgreen"},{r:188,g:19,b:254,name:"neon purple"},{r:188,g:203,b:122,name:"greenish tan"},{r:188,g:236,b:172,name:"light sage"},{r:188,g:245,b:166,name:"washed out green"},{r:189,g:108,b:72,name:"adobe"},{r:189,g:246,b:254,name:"pale sky blue"},{r:189,g:248,b:163,name:"tea green"},{r:190,g:1,b:25,name:"scarlet"},{r:190,g:1,b:60,name:"rose red"},{r:190,g:3,b:253,name:"bright purple"},{r:190,g:100,b:0,name:"orange brown"},{r:190,g:174,b:138,name:"putty"},{r:190,g:253,b:115,name:"pale lime"},{r:190,g:253,b:183,name:"celadon"},{r:191,g:119,b:246,name:"light purple"},{r:191,g:144,b:5,name:"ochre"},{r:191,g:155,b:12,name:"ocher"},{r:191,g:172,b:5,name:"muddy yellow"},{r:191,g:241,b:40,name:"yellowy green"},{r:191,g:254,b:40,name:"lemon lime"},{r:192,g:2,b:47,name:"lipstick red"},{r:192,g:78,b:1,name:"burnt orange"},{r:192,g:113,b:254,name:"easter purple"},{r:192,g:115,b:122,name:"dusty rose"},{r:192,g:250,b:139,name:"pistachio"},{r:192,g:251,b:45,name:"yellow green"},{r:193,g:74,b:9,name:"brick orange"},{r:193,g:198,b:252,name:"light periwinkle"},{r:193,g:248,b:10,name:"chartreuse"},{r:193,g:253,b:149,name:"celery"},{r:194,g:0,b:120,name:"magenta"},{r:194,g:126,b:121,name:"brownish pink"},{r:194,g:146,b:161,name:"light mauve"},{r:194,g:183,b:9,name:"olive yellow"},{r:194,g:190,b:14,name:"puke yellow"},{r:194,g:255,b:137,name:"light yellowish green"},{r:195,g:144,b:155,name:"grey pink"},{r:195,g:251,b:244,name:"duck egg blue"},{r:196,g:66,b:64,name:"reddish"},{r:196,g:85,b:8,name:"rust orange"},{r:196,g:142,b:253,name:"liliac"},{r:196,g:166,b:97,name:"sandy brown"},{r:196,g:254,b:130,name:"light pea green"},{r:196,g:255,b:247,name:"eggshell blue"},{r:197,g:201,b:199,name:"silver"},{r:198,g:81,b:2,name:"dark orange"},{r:198,g:156,b:4,name:"ocre"},{r:198,g:159,b:89,name:"camel"},{r:198,g:248,b:8,name:"greeny yellow"},{r:198,g:252,b:255,name:"light sky blue"},{r:199,g:71,b:103,name:"deep rose"},{r:199,g:96,b:255,name:"bright lavender"},{r:199,g:121,b:134,name:"old pink"},{r:199,g:159,b:239,name:"lavender"},{r:199,g:172,b:125,name:"toupe"},{r:199,g:193,b:12,name:"vomit yellow"},{r:199,g:253,b:181,name:"pale green"},{r:200,g:60,b:185,name:"purpley pink"},{r:200,g:90,b:83,name:"dark salmon"},{r:200,g:117,b:196,name:"orchid"},{r:200,g:118,b:6,name:"dirty orange"},{r:200,g:127,b:137,name:"old rose"},{r:200,g:141,b:148,name:"greyish pink"},{r:200,g:172,b:169,name:"pinkish grey"},{r:200,g:253,b:61,name:"yellow green"},{r:200,g:255,b:176,name:"light light green"},{r:201,g:76,b:190,name:"pinky purple"},{r:201,g:94,b:251,name:"bright lilac"},{r:201,g:100,b:59,name:"terra cotta"},{r:201,g:174,b:116,name:"sandstone"},{r:201,g:176,b:3,name:"brownish yellow"},{r:201,g:209,b:121,name:"greenish beige"},{r:201,g:255,b:39,name:"green yellow"},{r:202,g:1,b:71,name:"ruby"},{r:202,g:102,b:65,name:"terracotta"},{r:202,g:107,b:2,name:"browny orange"},{r:202,g:123,b:128,name:"dirty pink"},{r:202,g:155,b:247,name:"baby purple"},{r:202,g:160,b:255,name:"pastel purple"},{r:202,g:255,b:251,name:"light light blue"},{r:203,g:0,b:245,name:"hot purple"},{r:203,g:1,b:98,name:"deep pink"},{r:203,g:65,b:107,name:"dark pink"},{r:203,g:104,b:67,name:"terracota"},{r:203,g:119,b:35,name:"brownish orange"},{r:203,g:157,b:6,name:"yellow ochre"},{r:203,g:165,b:96,name:"sand brown"},{r:203,g:248,b:95,name:"pear"},{r:204,g:122,b:139,name:"dusky pink"},{r:204,g:173,b:96,name:"desert"},{r:204,g:253,b:127,name:"light yellow green"},{r:205,g:89,b:9,name:"rusty orange"},{r:205,g:117,b:132,name:"ugly pink"},{r:205,g:197,b:10,name:"dirty yellow"},{r:205,g:253,b:2,name:"greenish yellow"},{r:206,g:93,b:174,name:"purplish pink"},{r:206,g:162,b:253,name:"lilac"},{r:206,g:174,b:250,name:"pale violet"},{r:206,g:179,b:1,name:"mustard"},{r:207,g:2,b:52,name:"cherry"},{r:207,g:82,b:78,name:"dark coral"},{r:207,g:98,b:117,name:"rose"},{r:207,g:175,b:123,name:"fawn"},{r:207,g:253,b:188,name:"very pale green"},{r:207,g:255,b:4,name:"neon yellow"},{r:208,g:193,b:1,name:"ugly yellow"},{r:208,g:228,b:41,name:"sickly yellow"},{r:208,g:254,b:29,name:"lime yellow"},{r:208,g:254,b:254,name:"pale blue"},{r:209,g:118,b:143,name:"muted pink"},{r:209,g:178,b:111,name:"tan"},{r:209,g:255,b:189,name:"very light green"},{r:210,g:189,b:10,name:"mustard yellow"},{r:211,g:73,b:78,name:"faded red"},{r:211,g:182,b:131,name:"very light brown"},{r:212,g:106,b:126,name:"pinkish"},{r:212,g:255,b:255,name:"really light blue"},{r:213,g:23,b:78,name:"lipstick"},{r:213,g:134,b:157,name:"dull pink"},{r:213,g:138,b:148,name:"dusty pink"},{r:213,g:171,b:9,name:"burnt yellow"},{r:213,g:182,b:10,name:"dark yellow"},{r:213,g:255,b:255,name:"very light blue"},{r:214,g:72,b:215,name:"pinkish purple"},{r:214,g:180,b:252,name:"light violet"},{r:214,g:255,b:250,name:"ice"},{r:214,g:255,b:254,name:"very pale blue"},{r:215,g:37,b:222,name:"purple pink"},{r:215,g:103,b:173,name:"pale magenta"},{r:215,g:255,b:254,name:"ice blue"},{r:216,g:134,b:59,name:"dull orange"},{r:216,g:220,b:214,name:"light grey"},{r:217,g:1,b:102,name:"dark hot pink"},{r:217,g:79,b:245,name:"heliotrope"},{r:217,g:84,b:77,name:"pale red"},{r:217,g:155,b:130,name:"pinkish tan"},{r:218,g:70,b:125,name:"darkish pink"},{r:219,g:75,b:218,name:"pink purple"},{r:219,g:88,b:86,name:"pastel red"},{r:219,g:180,b:12,name:"gold"},{r:220,g:77,b:1,name:"deep orange"},{r:221,g:133,b:215,name:"lavender pink"},{r:221,g:214,b:24,name:"piss yellow"},{r:222,g:12,b:98,name:"cerise"},{r:222,g:126,b:93,name:"dark peach"},{r:222,g:157,b:172,name:"faded pink"},{r:223,g:78,b:200,name:"purpleish pink"},{r:223,g:197,b:254,name:"light lavender"},{r:224,g:63,b:216,name:"purple pink"},{r:225,g:119,b:1,name:"pumpkin"},{r:226,g:202,b:118,name:"sand"},{r:228,g:203,b:255,name:"pale lilac"},{r:229,g:0,b:0,name:"red"},{r:230,g:218,b:166,name:"beige"},{r:230,g:242,b:162,name:"light khaki"},{r:231,g:142,b:165,name:"pig pink"},{r:236,g:45,b:1,name:"tomato red"},{r:237,g:13,b:217,name:"fuchsia"},{r:237,g:200,b:255,name:"light lilac"},{r:238,g:207,b:254,name:"pale lavender"},{r:238,g:220,b:91,name:"dull yellow"},{r:239,g:29,b:231,name:"pink purple"},{r:239,g:64,b:38,name:"tomato"},{r:239,g:180,b:53,name:"macaroni and cheese"},{r:239,g:192,b:254,name:"light lavendar"},{r:240,g:117,b:230,name:"purply pink"},{r:240,g:131,b:58,name:"dusty orange"},{r:240,g:148,b:77,name:"faded orange"},{r:241,g:12,b:69,name:"pinkish red"},{r:241,g:218,b:122,name:"sandy"},{r:241,g:243,b:63,name:"off yellow"},{r:242,g:158,b:142,name:"blush"},{r:242,g:171,b:21,name:"squash"},{r:243,g:97,b:150,name:"medium pink"},{r:244,g:50,b:12,name:"vermillion"},{r:244,g:54,b:5,name:"orangish red"},{r:244,g:208,b:84,name:"maize"},{r:245,g:4,b:201,name:"hot magenta"},{r:245,g:5,b:79,name:"pink red"},{r:245,g:191,b:3,name:"golden"},{r:246,g:104,b:142,name:"rosy pink"},{r:246,g:206,b:252,name:"very light purple"},{r:247,g:2,b:42,name:"cherry red"},{r:247,g:135,b:154,name:"rose pink"},{r:247,g:213,b:96,name:"light mustard"},{r:248,g:72,b:28,name:"reddish orange"},{r:249,g:115,b:6,name:"orange"},{r:249,g:188,b:8,name:"golden rod"},{r:250,g:42,b:85,name:"red pink"},{r:250,g:66,b:36,name:"orangey red"},{r:250,g:95,b:247,name:"light magenta"},{r:250,g:194,b:5,name:"goldenrod"},{r:250,g:238,b:102,name:"yellowish"},{r:250,g:254,b:75,name:"banana yellow"},{r:251,g:41,b:67,name:"strawberry"},{r:251,g:85,b:129,name:"warm pink"},{r:251,g:95,b:252,name:"violet pink"},{r:251,g:125,b:7,name:"pumpkin orange"},{r:251,g:221,b:126,name:"wheat"},{r:251,g:238,b:172,name:"light tan"},{r:252,g:38,b:71,name:"pinky red"},{r:252,g:90,b:80,name:"coral"},{r:252,g:130,b:74,name:"orangish"},{r:252,g:134,b:170,name:"pinky"},{r:252,g:176,b:1,name:"yellow orange"},{r:252,g:192,b:6,name:"marigold"},{r:252,g:225,b:102,name:"sand yellow"},{r:252,g:246,b:121,name:"straw"},{r:252,g:252,b:129,name:"yellowish tan"},{r:253,g:60,b:6,name:"red orange"},{r:253,g:65,b:30,name:"orange red"},{r:253,g:70,b:89,name:"watermelon"},{r:253,g:89,b:86,name:"grapefruit"},{r:253,g:121,b:143,name:"carnation"},{r:253,g:141,b:73,name:"orangeish"},{r:253,g:170,b:72,name:"light orange"},{r:253,g:176,b:192,name:"soft pink"},{r:253,g:177,b:71,name:"butterscotch"},{r:253,g:185,b:21,name:"orangey yellow"},{r:253,g:193,b:197,name:"pale rose"},{r:253,g:220,b:92,name:"light gold"},{r:253,g:222,b:108,name:"pale gold"},{r:253,g:238,b:115,name:"sandy yellow"},{r:253,g:253,b:254,name:"pale grey"},{r:253,g:255,b:56,name:"lemon yellow"},{r:253,g:255,b:82,name:"lemon"},{r:253,g:255,b:99,name:"canary"},{r:254,g:0,b:2,name:"fire engine red"},{r:254,g:1,b:154,name:"neon pink"},{r:254,g:1,b:177,name:"bright pink"},{r:254,g:2,b:162,name:"shocking pink"},{r:254,g:44,b:84,name:"reddish pink"},{r:254,g:47,b:74,name:"lightish red"},{r:254,g:66,b:15,name:"orangered"},{r:254,g:70,b:165,name:"barbie pink"},{r:254,g:75,b:3,name:"blood orange"},{r:254,g:123,b:124,name:"salmon pink"},{r:254,g:130,b:140,name:"blush pink"},{r:254,g:131,b:204,name:"bubblegum pink"},{r:254,g:134,b:164,name:"rosa"},{r:254,g:169,b:147,name:"light salmon"},{r:254,g:178,b:9,name:"saffron"},{r:254,g:179,b:8,name:"amber"},{r:254,g:198,b:21,name:"golden yellow"},{r:254,g:208,b:252,name:"pale mauve"},{r:254,g:223,b:8,name:"dandelion"},{r:254,g:246,b:158,name:"buff"},{r:254,g:252,b:175,name:"parchment"},{r:254,g:255,b:127,name:"faded yellow"},{r:254,g:255,b:202,name:"ecru"},{r:255,g:0,b:13,name:"bright red"},{r:255,g:2,b:141,name:"hot pink"},{r:255,g:4,b:144,name:"electric pink"},{r:255,g:7,b:58,name:"neon red"},{r:255,g:7,b:137,name:"strong pink"},{r:255,g:8,b:232,name:"bright magenta"},{r:255,g:71,b:76,name:"light red"},{r:255,g:91,b:0,name:"bright orange"},{r:255,g:97,b:99,name:"coral pink"},{r:255,g:99,b:233,name:"candy pink"},{r:255,g:105,b:175,name:"bubble gum pink"},{r:255,g:108,b:181,name:"bubblegum"},{r:255,g:111,b:82,name:"orange pink"},{r:255,g:114,b:76,name:"pinkish orange"},{r:255,g:120,b:85,name:"melon"},{r:255,g:121,b:108,name:"salmon"},{r:255,g:127,b:167,name:"carnation pink"},{r:255,g:129,b:192,name:"pink"},{r:255,g:148,b:8,name:"tangerine"},{r:255,g:150,b:79,name:"pastel orange"},{r:255,g:154,b:138,name:"peachy pink"},{r:255,g:166,b:43,name:"mango"},{r:255,g:167,b:86,name:"pale orange"},{r:255,g:171,b:15,name:"yellowish orange"},{r:255,g:173,b:1,name:"orange yellow"},{r:255,g:176,b:124,name:"peach"},{r:255,g:177,b:109,name:"apricot"},{r:255,g:177,b:154,name:"pale salmon"},{r:255,g:178,b:208,name:"powder pink"},{r:255,g:183,b:206,name:"baby pink"},{r:255,g:186,b:205,name:"pastel pink"},{r:255,g:197,b:18,name:"sunflower"},{r:255,g:197,b:203,name:"light rose"},{r:255,g:207,b:220,name:"pale pink"},{r:255,g:209,b:223,name:"light pink"},{r:255,g:216,b:177,name:"light peach"},{r:255,g:218,b:3,name:"sunflower yellow"},{r:255,g:223,b:34,name:"sun yellow"},{r:255,g:227,b:110,name:"yellow tan"},{r:255,g:229,b:173,name:"pale peach"},{r:255,g:243,b:154,name:"dark cream"},{r:255,g:244,b:242,name:"very light pink"},{r:255,g:249,b:23,name:"sunny yellow"},{r:255,g:249,b:208,name:"pale"},{r:255,g:250,b:134,name:"manilla"},{r:255,g:252,b:196,name:"egg shell"},{r:255,g:253,b:1,name:"bright yellow"},{r:255,g:253,b:55,name:"sunshine yellow"},{r:255,g:253,b:116,name:"butter yellow"},{r:255,g:253,b:120,name:"custard"},{r:255,g:254,b:64,name:"canary yellow"},{r:255,g:254,b:113,name:"pastel yellow"},{r:255,g:254,b:122,name:"light yellow"},{r:255,g:254,b:182,name:"light beige"},{r:255,g:255,b:20,name:"yellow"},{r:255,g:255,b:126,name:"banana"},{r:255,g:255,b:129,name:"butter"},{r:255,g:255,b:132,name:"pale yellow"},{r:255,g:255,b:182,name:"creme"},{r:255,g:255,b:194,name:"cream"},{r:255,g:255,b:203,name:"ivory"},{r:255,g:255,b:212,name:"eggshell"},{r:255,g:255,b:228,name:"off white"},{r:255,g:255,b:255,name:"white"}])},function(e,t,n){"use strict";function a(e){j.querySelector(".selected").classList.remove("selected");(e.emotar?j.querySelector(".emotar[data-name='"+e.emotar+"']"):j.firstElementChild).classList.add("selected"),h.B(S.querySelector(".profileImage"),e),h.B(v.querySelector(".profileImage"),e),h.B(document.querySelector(".currentAvatar .profileImage"),e),h.B(document.querySelector("#emotarList .emotarImage"),e,!0);var t=document.querySelector('#organizations .organization[data-id="user"]');t&&h.B(t.querySelector(".organizationLogo"),e)}function i(){fetch(Zeplin.urls.baseURL+"/users/emailNotifications",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({emailNotifications:D.checked})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw b.a(e.status,t)});Zeplin.updateUser({emailNotifications:D.checked})}).catch(function(e){D.checked=!D.checked,b.b(e)})}function o(){Cookies.expire("userToken"),localStorage.removeItem("user"),Zeplin.requireLogin(!1)}function r(e){var t;t="emotar"===e?q.getBoundingClientRect():k.getBoundingClientRect(),S.style.height=t.height+"px",S.classList.toggle("scrolling","usermenu"===e&&S.offsetHeight<k.scrollHeight)}function s(e){return document.querySelector(".organizationProfile[data-id='"+e+"']")}function l(e){document.querySelector("li.userPlan").classList.toggle("hidden",!e)}function c(e){Object.assign(Zeplin.user,e),a(Zeplin.user)}function u(e){var t="private-organization@"+e;g.c.channel(t)||g.c.subscribe(t)}function d(e,t){e.parentElement.classList.add("loading"),t&&(e.addEventListener("load",function t(){e.removeEventListener("load",t),e.parentElement.classList.remove("loading")}),e.src=t)}function m(e){var t=document.importNode(I.content,!0);t.querySelector(".organizationProfile").dataset.id=e._id,t.querySelector("a").href=h.I("organization-dashboard",{url:{oid:e._id}}),t.querySelector(".organizationName").textContent=e.name,d(t.querySelector(".organizationLogo"),e.logo),T.appendChild(t),u(e._id)}var g=n(7),p=n(10),f=n(2),h=n(0),y=n(9),b=n(1),v=document.getElementById("currentUser"),S=document.getElementById("userMenu"),j=document.getElementById("emotarList"),E=document.getElementById("updatePlanButton"),w=document.getElementById("planChooserOverlay"),C=document.getElementById("notificationContainer"),L=document.getElementById("notificationStatusCheckbox"),D=document.getElementById("emailNotificationStatusCheckbox"),x=document.getElementById("logoutButton"),k=S.querySelector("section.usermenu"),q=S.querySelector("section.emotar"),T=document.getElementById("organizationProfiles"),I=document.getElementById("organizationProfileTemplate");v.addEventListener("click",function(e){e.stopPropagation(),e.button===Zeplin.MOUSE_BUTTON.LEFT&&(window.Notification&&S.classList.contains("hidden")&&("granted"!==Notification.permission?(y.b.set("notificationStatus",!1),L.checked=!1):y.b.get("notificationStatus").then(function(e){L.checked=e})),C.classList.add("hidden"),window.ExportProgresses&&ExportProgresses.hideExportProgressesContainer(),S.classList.toggle("hidden"))}),S.addEventListener("click",function(e){e.stopPropagation()}),document.querySelector("#userInfo .avatarFrame").addEventListener("click",function(e){e.stopPropagation(),S.dataset.state="emotar"}),document.getElementById("emotarBackButton").addEventListener("click",function(e){S.dataset.state="usermenu"}),["sunglasses","thinking_face","heart_eyes","grin","sweat_smile","white_frowning_face","unamused","upside_down_face","relieved","nerd_face","weary","anguished","face_with_rolling_eyes","scream","smile","smirk","face_with_thermometer","face_with_head_bandage","panda_face","new_moon_with_face","tomato","full_moon_with_face","tennis","space_invader","monkey_face","tophat","lion_face","four_leaf_clover","shit","pig_nose","robot_face","mouse","mushroom","penguin","chestnut","koala","hamburger","jack_o_lantern","rabbit","lollipop","hamster","lemon","tv","gift","ghost","frog","eyes","dart","dark_sunglasses","chicken","cookie","grapes","bear","eggplant","alien","octopus","bread","dog","meat_on_bone","pizza"].forEach(function(e){var t=document.createElement("div"),n=document.createElement("img"),a=e.replace(/_\w/g,function(e){return e.charAt(1).toUpperCase()});a=h.H(a),t.classList.add("emotar"),t.dataset.name=e,n.src=Zeplin.urls.appURL+"/img/emotars/emotar"+a+".png",t.appendChild(n),j.appendChild(t)}),j.addEventListener("click",function(e){if(e.target.classList.contains("emotar")){var t=e.target.dataset.name;t="random"===t?null:t;var n=Object.assign({},Zeplin.user);n.emotar=t,a(n)}}),E.addEventListener("click",function(e){e.preventDefault(),S.classList.add("hidden"),w.classList.remove("hidden"),mixpanel.track("Opened pricing popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-pricing-popup"),ga("send","pageview","/pricing-popup")});var _;D.addEventListener("change",function(){clearTimeout(_),_=setTimeout(function(){i()},1e3)}),x.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(mixpanel.track("Logged out"),fetch(Zeplin.urls.baseURL+"/users/logout",{method:"POST",headers:Zeplin.headers}).then(o,o))});var F=new MutationObserver(function(e){e.forEach(function(e){if("class"===e.attributeName)if(e.target.classList.contains("hidden")){if(!e.oldValue||!e.oldValue.includes("hidden")){S.classList.remove("hasTransition"),S.dataset.state="usermenu";var t=j.querySelector(".selected").dataset.name;if(t="random"===t?null:t,Zeplin.user.emotar===t)return;g.e(t).then(function(){Zeplin.user.emotar=t,t?mixpanel.track("Updated emotar",{emoji:t}):mixpanel.track("Removed emotar")}).catch(function(e){a(Zeplin.user),b.b(e)})}}else e.oldValue&&e.oldValue.includes("hidden")&&(r(e.target.dataset.state),S.classList.add("hasTransition"));else"data-state"===e.attributeName&&r(e.target.dataset.state)})});document.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&S.classList.add("hidden")}),document.addEventListener("keydown",function(e){e.keyCode===Zeplin.KEY_CODE.ESC&&S.classList.add("hidden")}),window.addEventListener("storage",function(e){if(e.storageArea===localStorage&&"user"===e.key){var t=JSON.parse(e.newValue);t&&"registered"===t.status&&(S.querySelector(".userStatus").textContent="Not verified yet.")}}),Cookies.get("userToken")&&(F.observe(S,{attributes:!0,attributeOldValue:!0,attributeFilter:["class","data-state"]}),a(Zeplin.user),v.title=Zeplin.user.username,S.querySelector(".username").textContent=Zeplin.user.username,S.querySelector(".email").textContent=Zeplin.user.email,D.checked=void 0===Zeplin.user.emailNotifications||Zeplin.user.emailNotifications,"registered"===Zeplin.user.status&&(S.querySelector(".userStatus").textContent="Not verified yet.","dismissed"!==sessionStorage.getItem("verificationBannerStatus")&&p.b({content:"Your email is not verified yet. Please check your inbox.",group:"verification",closeCallback:function(){sessionStorage.setItem("verificationBannerStatus","dismissed")}})),fetch(Zeplin.urls.baseURL+"/organizations",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw b.a(e.status,t)})}).then(function(e){e.organizations.length&&(l(!1),e.organizations.forEach(m))}).catch(function(){}),window.Notification?(L.addEventListener("change",function(){if("denied"===Notification.permission)return L.checked=!1,void f.a({message:"You need to enable notifications from browser settings."});"default"===Notification.permission&&L.checked?Notification.requestPermission(function(e){y.b.set("notificationStatus","granted"===e).then(function(e){L.checked=e})}):y.b.set("notificationStatus",L.checked)}),y.b.get("notificationBannerStatus").then(function(e){"default"===Notification.permission&&e&&p.b({content:"Zeplin needs your permission to <a href='#'>enable desktop notifications</a>",contentType:"html",group:"notification",closeCallback:function(){y.b.set("notificationBannerStatus",!1)},bodyCallbacks:{a:function(e){e.preventDefault(),p.a("notification"),Notification.requestPermission(function(e){y.b.set("notificationStatus","granted"===e).then(function(e){L.checked=e})})}}})})):L.closest(".menuItem").classList.add("hidden"),function(e){e.bind("UpdateUsername",function(e){var t=e.body.username;v.title=t,S.querySelector(".username").textContent=t}),e.bind("UpdateEmail",function(e){S.querySelector(".email").textContent=e.body.email}),e.bind("UpdateUserEmotar",function(e){c(e.body)}),e.bind("UpdateUserAvatar",function(e){c(e.body)}),e.bind("VerifyUser",function(){S.querySelector(".userStatus").textContent=""}),e.bind("UpdateEmailNotifications",function(e){D.checked=e.body.emailNotifications}),e.bind("CreateOrganization",function(e){m(e.body),l(!1)}),e.bind("InviteOrganizationMembers",function(e){m(e.body),l(!1)})}(g.f),g.c.bind("UpdateOrganizationLogo",function(e){var t=s(e.params.oid);t?d(t.querySelector(".organizationLogo"),e.body.logo):g.c.unsubscribe("private-organization@"+e.params.oid)}),g.c.bind("UpdateOrganizationName",function(e){var t=s(e.params.oid);t?t.querySelector(".organizationName").textContent=e.body.name:g.c.unsubscribe("private-organization@"+e.params.oid)}),g.c.bind("RemoveMemberFromOrganization",function(e){if(e.params.mid===Zeplin.user._id){g.c.unsubscribe("private-organization@"+e.params.oid);var t=s(e.params.oid);t&&(t.previousElementSibling.remove(),t.remove(),l(!T.childElementCount))}}))},,,,,function(e,t,n){"use strict";function a(e){clearTimeout(m.get(e)),m.delete(e)}function i(e){function t(){a(e.target),m.set(e.target,setTimeout(function(){e.target.removeEventListener("mouseleave",t),e.target.classList.remove("tooltipShown"),n.remove()},d))}if(e.target.classList.contains("tooltipShown"))a(e.target);else{var n=document.createElement("div");n.classList.add("tooltip","invisible");var i=e.target.dataset.tooltip;switch(e.target.dataset.tooltipType){case"html":n.innerHTML=s.G(i);break;case"text":default:n.textContent=i}e.target.classList.add("tooltipShown");var o=e.target.getBoundingClientRect();n.style.top=o.bottom-c+"px",n.style.left=o.left+o.width/2+"px",e.target.addEventListener("mouseleave",t),e.target.addEventListener("click",t),n.addEventListener("mouseenter",function(){a(e.target),n.addEventListener("mouseleave",t),n.addEventListener("click",function(e){e.stopPropagation()})}),document.body.appendChild(n);var r=n.getBoundingClientRect();r.left<l?(n.style.left=l+"px",n.classList.add("overflown")):r.right+l>window.innerWidth&&(n.style.left=window.innerWidth-l-r.width+"px",n.classList.add("overflown")),r.bottom+l>window.innerHeight&&(n.style.top=o.top-r.height+c+"px");var g=u;e.target.dataset.tooltipDelay&&(g=parseInt(e.target.dataset.tooltipDelay,10)),setTimeout(function(){n.classList.remove("invisible")},g)}}function o(e){e.removeAttribute("title"),e.addEventListener("mouseenter",i)}function r(e){if(e.nodeType===Node.ELEMENT_NODE){if(e.hasAttribute("data-tooltip"))return void o(e);Array.from(e.children).forEach(r)}}var s=n(0),l=12,c=2,u=500,d=200,m=new WeakMap;window.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("[data-tooltip]");Array.from(e).forEach(o);var t={attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0,attributeFilter:["data-tooltip"]};new MutationObserver(function(e){e.forEach(function(e){switch(e.type){case"attributes":null===e.oldValue?o(e.target):e.target.dataset.tooltip||e.target.removeEventListener("mouseenter",i);break;case"childList":Array.from(e.addedNodes).forEach(r)}})}).observe(document.body,t)})},function(e,t,n){"use strict";function a(){o.a.ipcRenderer.on("app-update-downloaded",function(e,t){r.a("appUpdate"),r.b({group:"appUpdate",content:"New version of Zeplin, "+t+" is here. <a href='#'>Restart</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a:function(e){e.preventDefault(),r.a("appUpdate"),o.a.ipcRenderer.send("restart-app")}},bannerCloseText:"Remind me later",closeCallback:function(){o.a.ipcRenderer.send("remind-update-later",t)},container:s,style:{zIndex:190}})})}function i(){o.a.ipcRenderer.on("plugin-update-downloaded",function(e,t){var n;t.plugin&&t.panel?n="plugin ("+t.plugin.remote+") and panel ("+t.panel.remote+")":t.plugin?n="plugin ("+t.plugin.remote+")":t.panel&&(n="panel ("+t.panel.remote+")"),r.a("pluginUpdate"),r.b({group:"pluginUpdate",content:"New version of Photoshop "+n+" is here. <a href='#'>Install</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a:function(e){e.preventDefault(),r.a("pluginUpdate"),o.a.ipcRenderer.send("install-plugin-update",t)}},bannerCloseText:"Remind me later",closeCallback:function(){o.a.ipcRenderer.send("remind-plugin-install-later",t)},container:s,style:{zIndex:190}})})}var o=n(8),r=n(10),s=document.querySelector("main");o.a&&(o.a.ipcRenderer.on("close-all-banners",function(){r.a("appUpdate"),r.a("pluginUpdate")}),a(),i())},function(e,t,n){"use strict";function a(e){fetch(Zeplin.urls.baseURL+"/organizations/"+e+"/members",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t})}).then(function(e){(se=e).members.forEach(function(e){e.tags.forEach(function(e){le[e]?le[e]=le[e]+1:le[e]=1})})})}function i(e){if(e.classList.contains("newUser")){if(!de.checkValidity()&&!/^\w{3,30}$/.test(de.value))return Q.K(de.parentElement),void(Ce=!0);ue.querySelector(".inputArea img").classList.remove("hidden")}else e.classList.remove("inviteRetry"),e.classList.add("inviteSpinner");if(e.classList.contains("newUser"))q(de.value,e);else if(e.classList.contains("user")){var t=ie.find(function(t){return t._id===e.dataset.uid});q(t.username||t.email,e)}else if(e.classList.contains("member")){var n=se.members.find(function(t){return t.user._id===e.dataset.mid});q(n.user.username||n.user.email,e)}else if(e.classList.contains("wildling")){var a=se.wildlings.find(function(t){return t.user._id===e.dataset.wid});q(a.user.username||a.user.email,e)}else e.classList.contains("inviteByTag")&&k(e.dataset.tag,e)}function o(e){ue.classList.contains("organizationProject")?r(e):s(e)}function r(e){var t=ye.querySelector(".invitee.selected");if(t){var n,a=Array.from(ye.querySelectorAll(".invitee:not(.hidden)")),i=a.findIndex(function(e){return e.classList.contains("selected")});if((n=e.keyCode===Zeplin.KEY_CODE.ArrowUp?i-1:i+1)>-1&&n<a.length){var o=a[n];t.classList.remove("selected"),o.classList.add("selected"),Q.z(o,ye)}}else{var r=ye.querySelector(".invitee:not(.hidden)");r&&(r.classList.add("selected"),Q.z(r,ye))}}function s(e){var t=me.querySelector(".selected");if(t){var n=e.keyCode===Zeplin.KEY_CODE.ArrowUp?t.previousElementSibling:t.nextElementSibling;n&&n.classList.contains("user")&&!n.classList.contains("hidden")&&(t.classList.remove("selected"),n.classList.add("selected"),Q.z(n))}else{var a=me.querySelector(".user:not(.hidden)");a&&(a.classList.add("selected"),Q.z(a))}}function l(){ue.classList.contains("organizationProject")?h():y()}function c(e,t,n){var a=(n=n||{}).importance||1;return n.skipExactMatch||!1||e!==t?e.startsWith(t)?8*a:e.includes(t)?4*a:0:16}function u(e,t){e.parentElement.classList.toggle(t,!e.childElementCount)||Array.from(e.querySelectorAll(".invitee")).forEach(function(t){t.classList.remove("hidden","selected"),e.appendChild(t)})}function d(e){return be.querySelector("[data-tag='"+e+"']")}function m(e){return Se.querySelector("[data-mid='"+e.user._id+"']")}function g(e){return we.querySelector("[data-wid='"+e.user._id+"']")}function p(e,t,n,a){t.forEach(function(t){var a=n(t);a.classList.remove("hidden","selected"),e.appendChild(a)});for(var i=0;i<e.childElementCount-t.length;i++){var o=e.children[i];o.classList.add("hidden"),o.classList.remove("selected")}e.parentElement.classList.toggle(a,0===t.length)}function f(e,t,n){var a={},i=e.filter(function(e){if(re.has(e.user._id)){var i=n(e);if(!i)return!1;if(!i.classList.contains("inviteDone"))return!1}var o=0;return e.user.username&&(o+=c(e.user.username,t)),!!(o+=c(e.user.email,t,{skipExactMatch:!0,importance:.25}))&&(a[e.user._id]=o,!0)});return i.sort(function(e,t){return a[t.user._id]-a[e.user._id]}),i}function h(){v(".wildlingList .newUser"),v(".organizationInviteeList .userListTypedUserAlreadyAdded");var e,t,n=de.value.toLowerCase();if(ue.classList.remove("noNewInvitees","noInvitees"),ye.classList.remove("noTags","noMembers","hasMembersWithTag","noWildlings","writeAnEmailToInvite","showAddsToTheProjectOnlyInfo"),Ee.innerHTML="",de.placeholder="Invite with email/username",n){e=!!(t=oe.has(n))||ce.has(n);var a=Object.keys(le);a.sort();var i={},o=a.filter(function(e){var t=c(e.toLowerCase(),n);return!!t&&(i[e]=t,!0)}).sort(function(e,t){return i[t]-i[e]});p(be,o,d,"noTags");var r=f(se.members,n,m);p(Se,r,m,"noMembers");var s=d(o[0]);ye.classList.toggle("hasMembersWithTag",1===o.length&&(le[o[0]]>0||s&&s.classList.contains("inviteDone")))&&(je.textContent=o[0],Ee.innerHTML="",se.members.forEach(function(e){var t=m(e);if((!re.has(e.user._id)||t&&t.classList.contains("inviteDone"))&&e.tags.includes(o[0])){var n=j(e);n.querySelector(".invitee").classList.toggle("inviteDone",t&&t.classList.contains("inviteDone")),Ee.appendChild(n)}}));var l=f(se.wildlings,n,g);if(p(we,l,g,"noWildlings"),e||n.includes("@")){if(!e){ye.classList.remove("noWildlings"),ye.classList.add("showAddsToTheProjectOnlyInfo");var h=document.importNode(pe.content,!0);h.querySelector(".invitee").classList.add("wildling"),h.querySelector(".inviteNewUserButtonText span").textContent=de.value,we.appendChild(h)}}else ye.classList.add("writeAnEmailToInvite");if(t&&!ye.querySelector(".invitee.inviteDone")){var y=document.importNode(fe.content,!0);y.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),y.querySelector("span").textContent=de.value,ye.appendChild(y)}}else{if(u(be,"noTags"),ve.textContent){var b=Array.from(be.querySelectorAll(".inviteByTag")).map(function(e){return e.dataset.tag});b.sort(),b.forEach(function(e){var t=d(e);be.appendChild(t)});for(var S=be.firstElementChild,E=Le;E<be.childElementCount;E++){var w=be.children[E];w.classList.add("hidden"),be.insertBefore(w,S)}be.childElementCount-Le>0?(ve.textContent=be.childElementCount-Le,ve.classList.toggle("multiple",be.childElementCount-Le>1)):ve.textContent=""}u(Se,"noMembers"),u(we,"noWildlings")}var C=ye.querySelectorAll(".invitee:not(.hidden)");if(C.length)C[0].classList.add("selected");else if(!t&&!ye.classList.contains("writeAnEmailToInvite")){var L=se.members.filter(function(e){return!re.has(e.user._id)}),D=se.wildlings.filter(function(e){return!re.has(e.user._id)});L.length+D.length===0&&K.length>1?ue.classList.add("noNewInvitees"):1===K.length&&(ue.classList.add("noInvitees"),de.placeholder="Invite with email")}}function y(){v(".userList .user.newUser"),v(".userList .userListTypedUserAlreadyAdded"),me.classList.remove("writeAnEmailToInvite"),de.placeholder="Invite with email/username";var e,t,n=de.value.toLowerCase(),a=document.importNode(fe.content,!0);if(n){e=!!(t=oe.has(n))||ae.has(n);var i={},o=ie.filter(function(e){var t=0;return e.username&&(t+=c(e.username,n)),(t+=c(e.email,n,{skipExactMatch:!0,importance:.25}))>0&&(i[e._id]=t,!0)}).sort(function(e,t){return i[t._id]-i[e._id]});o.forEach(function(e){var t=b(e._id);t.classList.remove("hidden","selected"),me.appendChild(t)});for(var r=0;r<ie.length-o.length;r++){var s=me.children[r].classList;s.add("hidden"),s.remove("selected")}}else ie.forEach(function(e){var t=b(e._id);t.classList.remove("hidden","selected"),me.appendChild(t)});if(n){if(e||n.includes("@")){if(!e){var l=document.importNode(pe.content,!0);l.querySelector(".invitee").classList.add("user"),l.querySelector(".inviteNewUserButtonText span").textContent=de.value,me.appendChild(l)}}else me.classList.add("writeAnEmailToInvite");t&&(a.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),a.querySelector("span").textContent=de.value,me.appendChild(a))}ue.classList.remove("noInvitees"),ue.classList.remove("noNewInvitees");var u=me.querySelectorAll(".user:not(.hidden)");u.length?u[0].classList.add("selected"):t||me.classList.contains("writeAnEmailToInvite")||(te.length?ue.classList.add("noNewInvitees"):(ue.classList.add("noInvitees"),de.placeholder="Invite with email"))}function b(e){return me.querySelector(".invitee[data-uid='"+e+"']")}function v(e){var t=document.querySelector(e);t&&t.remove()}function S(e,t,n){var a=document.importNode(he.content,!0),i=a.querySelector(".inviteByTag"),o=a.querySelector(".tagName"),r=a.querySelector(".memberCount");return i.classList.toggle("hidden",!!n),i.dataset.tag=e,o.textContent=e,o.title=e,r.textContent=t+(t>1?" members":" member"),a}function j(e){var t=document.importNode(ge.content,!0),n=t.querySelector(".invitee"),a=t.querySelector(".userImage"),i=t.querySelector(".username"),o=t.querySelector(".email"),r=t.querySelector(".organizationTags");n.classList.add("member"),n.dataset.mid=e.user._id,Q.B(a,e.user),e.user.username?(i.textContent=e.user.username,i.title=e.user.username,o.textContent=e.user.email,o.title=e.user.email):(i.textContent=e.user.email,i.title=e.user.email,o.textContent="Pending Invitation");var s=e.tags.join(", ");return r.textContent=s,r.title=s,t}function E(e){var t=document.importNode(ge.content,!0),n=t.querySelector(".invitee"),a=t.querySelector(".userImage"),i=t.querySelector(".username"),o=t.querySelector(".email"),r=t.querySelector(".inviteExtraInfo");return n.classList.add("wildling"),n.dataset.wid=e.user._id,Q.B(a,e.user),i.textContent=e.user.username,i.title=e.user.username,o.textContent=e.user.email,o.title=e.user.email,e.user.username||(r.textContent="Pending Invitation"),t}function w(e,t){var n=document.importNode(ge.content,!0),a=n.querySelector(".invitee"),i=n.querySelector(".userImage"),o=n.querySelector(".username"),r=n.querySelector(".inviteExtraInfo"),s=e.username||e.email;return a.classList.add("user"),Q.B(i,e),a.dataset.uid=e._id,o.textContent=s,o.title=s,e.username?n.querySelector(".email").textContent=e.email:r.textContent="Pending invitation",t&&a.classList.add("hidden"),n}function C(e){ne.has(e._id)||(te.push(e),ne.add(e._id),e.username&&ae.add(e.username),ae.add(e.email))}function L(e){re.add(e._id),e.username&&oe.add(e.username),oe.add(e.email)}function D(e){re.delete(e._id),e.username&&(oe.delete(e.username),ae.add(e.username)),oe.delete(e.email),ae.add(e.email),ie.some(function(t){return t._id===e._id})||ie.push(e)}function x(e){re.delete(e._id),ne.delete(e._id),e.username&&(oe.delete(e.username),ae.delete(e.username)),oe.delete(e.email),ae.delete(e.email),Q.b(ie,function(t){return t._id===e._id})}function k(e,t){fetch(Zeplin.urls.baseURL+"/organizations/"+se._id+"/projects/"+Y+"/users",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({tag:e})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw ee.a(e.status,t)})}).then(function(e){T(e,t)}).catch(function(){t.classList.remove("inviteSpinner"),t.classList.add("inviteRetry"),$.a({done:{cb:function(){Q.n(de),Ce=!0}}})})}function q(e,t){fetch(Zeplin.urls.baseURL+"/projects/"+Y+"/users",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({handle:e})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw ee.a(e.status,t)})}).then(function(e){T(e,t)}).catch(function(e){ue.querySelector(".inputArea img").classList.add("hidden"),V()||t.classList.contains("newUser")?(Ce=!1,ee.b(e,{dialogCallback:function(){Q.n(de),Ce=!0}})):(t.classList.remove("inviteSpinner"),t.classList.add("inviteRetry"),t.querySelector(".inviteExtraInfo").textContent=e.title)}).catch(function(){$.a({done:{cb:function(){Q.n(de),Ce=!0}}})})}function T(e,t){Q.n(de),ue.querySelector(".inputArea img").classList.add("hidden"),e.users?e.users.forEach(function(e){L(e.user)}):(L(e.user),t.classList.contains("user")&&C(e.user));var n=e.users?e.users:[e];if(W.dispatchEvent(new CustomEvent("usersInvited",{detail:{users:n}})),ue.classList.contains("organizationProject")&&((e.users?e.users:[e]).forEach(function(e){var t=se.members.find(function(t){return t.user._id===e.user._id});t&&t.tags.forEach(function(e){le[e]=le[e]-1})}),Object.keys(le).forEach(function(e){var t=le[e],n=d(e);0===t?n.classList.add("inviteDone"):n.querySelector(".memberCount").textContent=t+(t>1?" members":" member")})),t.classList.remove("inviteSpinner"),t.classList.add("inviteDone"),e.users&&e.users.forEach(function(e){Array.from(ye.querySelectorAll(".member[data-mid='"+e.user._id+"']")).forEach(function(e){e.classList.add("inviteDone")})}),t.classList.contains("newUser"))if(t.remove(),t.classList.contains("user")){ie.push(e.user);var a=w(e.user);a.querySelector(".user").classList.add("inviteDone"),me.querySelector(".user.selected")||a.querySelector(".user").classList.add("selected"),_(a)}else{se.wildlings.push({user:e.user}),ce.add(e.user.email);var i=E(e);i.querySelector(".wildling").classList.add("inviteDone"),we.querySelector(".wildling.selected")||i.querySelector(".wildling").classList.add("selected"),we.appendChild(i)}}function I(e){Array.from(e.querySelectorAll(".invitee.inviteDone:not(.newUser)")).forEach(function(e){e.remove()})}function _(e){me.lastElementChild&&me.lastElementChild.classList.contains("user")?me.appendChild(e):me.insertBefore(e,me.lastElementChild)}function F(e){var t="private-project@"+e,n=X.c.channel(t)||X.c.subscribe(t);n.bind("InviteUser",function(e){A(e.params.pid,e.body)}),n.bind("CreateUser",function(e){P(e.params.pid,e.body)}),n.bind("RemoveUserFromProject",function(e){O(e.params.pid,e.params.mid)}),n.bind("DeleteUser",function(e){Zeplin.user._id!==e.params.uid&&U(e.params.uid)})}function B(e,t){t.forEach(function(e){C(e.user),W&&!re.has(e.user._id)&&(ie.some(function(t){return t._id===e.user._id})||(ie.push(e.user),_(w(e.user))))}),V()||l()}function A(e,t){if(C(t),W){Y===e?(L(t),Q.b(ie,function(e){return e._id===t._id})):ie.some(function(e){return e._id===t._id})||ie.push(t);var n=de.value,a=b(t._id);if(Y===e&&a){if(a.classList.contains("selected")&&me.querySelector(".user:not(.hidden)")&&(a.nextElementSibling&&a.nextElementSibling.classList.contains("user")?a.nextElementSibling.classList.add("selected"):a.previousElementSibling&&a.previousElementSibling.classList.contains("user")&&!a.previousElementSibling.classList.contains("hidden")&&a.previousElementSibling.classList.add("selected")),a.remove(),a.classList.contains("newUser")||!me.querySelector(".user:not(.hidden)")){var i=document.importNode(fe.content,!0);i.querySelector(".userListTypedUserAlreadyAdded").classList.add(de.value===Zeplin.user.username||de.value===Zeplin.user.email?"selfUser":"someUser"),i.querySelector("span").textContent=de.value,me.appendChild(i)}}else Y!==e&&(a?a.classList.contains("newUser")&&(me.appendChild(w(t)),a.classList.contains("selected")&&(a.nextElementSibling&&a.nextElementSibling.classList.contains("user")?a.nextElementSibling.classList.add("selected"):a.previousElementSibling&&a.previousElementSibling.classList.contains("user")&&!a.previousElementSibling.classList.contains("hidden")&&a.previousElementSibling.classList.add("selected")),a.remove()):_(w(t,n&&!(t.username&&t.username.includes(n))&&!t.email.includes(n))))}}function N(e,t,n,a){var i=t(n),o=!(!de.value||n.user.username&&n.user.username.includes(de.value)||n.user.email.includes(de.value));i.querySelector(".invitee").classList.toggle("hidden",o),o?e.append(i):(e.insertBefore(i,e.querySelector(".invitee:not(.hidden)")),e.parentElement.classList.remove(a))}function O(e,t){if(Y===e)if(ue.classList.contains("organizationProject")){var n,a,i=se.members.find(function(e){return e.user._id===t});i?(n=i,a=m(i),i.tags.forEach(function(e){le[e]?le[e]=le[e]+1:le[e]=1;var t=d(e);if(t)t.querySelector(".memberCount").textContent=le[e]+(le[e]>1?" members":" member"),t.classList.remove("inviteDone");else{var n=S(e,le[e]);n.querySelector(".invitee").classList.toggle("hidden",!!de.value&&!e.includes(de.value))?be.appendChild(n):be.insertBefore(S(e,le[e]),be.querySelector(".invitee:not(.hidden)"))}})):a=g(n=se.wildlings.find(function(e){return e.user._id===t})),re.delete(t),oe.delete(n.user.username),oe.delete(n.user.email);var o=ye.querySelector(".userListTypedUserAlreadyAdded");if(de.value===n.user.username&&o&&o.remove(),!W)return;a?a.classList.remove("inviteDone"):i?N(Se,j,i,"noMembers"):N(we,E,n,"noWildlings")}else{var r=te.find(function(e){return e._id===t});if(D(r),!W)return;var s=de.value,l=b(r._id);l?l.classList.remove("inviteDone"):_(w(r,s&&!(r.username&&r.username.includes(s))&&!r.email.includes(s)))}}function P(e,t){var n=te.find(function(e){return e._id===t._id});if(n&&(Object.assign(n,t),W)){var a=b(t._id);a&&(a.querySelector(".username").textContent=t.username,a.querySelector(".inviteExtraInfo").textContent="")}}function U(e){var t=Q.b(te,function(t){return t._id===e});if(t&&(x(t),W)){var n=b(t._id);n&&(me.removeChild(n),n.classList.contains("selected")&&me.querySelector(".user:not(.hidden)")&&me.querySelector(".user:not(.hidden)").classList.add("selected"))}}function R(e,t){X.f.bind("InviteUser",function(e){B(e.params.pid,e.body.users)}),e.forEach(F),t&&a(t)}function M(e,t,n,a){ue.classList.toggle("organizationProject",!!a),a?z(e,t,n):Z(e,t,n)}function z(e,t,n){if(t!==Y){me.innerHTML="",be.innerHTML="",ve.textContent="",Se.innerHTML="",we.innerHTML="",oe=new Set,re=new Set,ce=new Set,W=e,Y=t,(K=n).forEach(function(e){L(e.user)}),se.members.forEach(function(e){re.has(e.user._id)?e.tags.forEach(function(e){le[e]=le[e]-1,0===le[e]&&delete le[e]}):(ce.add(e.user.username).add(e.user.email),Se.appendChild(j(e)))}),ye.classList.toggle("noMembers",!Se.childElementCount);var a=Object.keys(le);a.sort(),a.forEach(function(e){be.appendChild(S(e,le[e],!1))});var i=a.length-Le;i>0&&(ve.textContent=i,ve.classList.toggle("multiple",i>1)),ye.classList.toggle("noTags",!a.length),se.wildlings.forEach(function(e){re.has(e.user._id)||(ce.add(e.user.username).add(e.user.email),we.appendChild(E(e)))}),ye.classList.toggle("noWildlings",!we.childElementCount)}else Object.keys(le).forEach(function(e){0===le[e]&&delete le[e]}),G&&new Date-G>1e4&&(ve.textContent=Object.keys(le).length-Le,ve.classList.toggle("multiple",Object.keys(le).length-Le>1)),I(be),I(Se),I(we);G=0,e.appendChild(ue),e.getBoundingClientRect().right+80>window.innerWidth&&ue.classList.add("left"),h(),ue.classList.remove("hidden"),ye.scrollTop=0,de.focus()}function Z(e,t,n){t!==Y?(me.innerHTML="",be.innerHTML="",ve.textContent="",Se.innerHTML="",we.innerHTML="",ie=[],oe=new Set,re=new Set,W=e,Y=t,(K=n).forEach(function(e){L(e.user)}),te.forEach(function(e){re.has(e._id)||(ie.push(e),e.username&&ae.add(e.username),ae.add(e.email))}),ie.forEach(function(e){me.appendChild(w(e))})):(I(me),re.forEach(function(e){Q.b(ie,function(t){return t._id===e})})),e.appendChild(ue),e.getBoundingClientRect().right+80>window.innerWidth&&ue.classList.add("left"),y(),ue.classList.remove("hidden"),me.scrollTop=0,de.focus()}function H(){ue.classList.add("hidden"),ue.classList.remove("left"),ue.querySelector(".inputArea img").classList.add("hidden"),de.value="",de.dispatchEvent(new Event("input")),Ce=!0,G||(G=new Date)}function V(){return ue.classList.contains("hidden")}n.d(t,"b",function(){return R}),n.d(t,"e",function(){return M}),n.d(t,"a",function(){return H}),n.d(t,"c",function(){return V}),n.d(t,"d",function(){return O});var W,Y,K,G,J=n(37),X=(n.n(J),n(7)),$=n(2),Q=n(0),ee=n(1),te=[],ne=new Set,ae=new Set,ie=[],oe=new Set,re=new Set,se={},le={},ce=new Set,ue=document.getElementById("inviteUserPopup"),de=document.getElementById("inviteeHandle"),me=ue.querySelector(".userList"),ge=document.getElementById("inviteeTemplate"),pe=document.getElementById("inviteNewUserTemplate"),fe=document.getElementById("typedUserAlreadyAddedTemplate"),he=document.getElementById("inviteByTagTemplate"),ye=document.querySelector(".organizationInviteeList"),be=document.querySelector(".tagList"),ve=document.querySelector(".showRemainingTags"),Se=document.querySelector(".memberList"),je=document.querySelector(".membersWithTagHeader"),Ee=document.querySelector(".membersWithTagList"),we=document.querySelector(".wildlingList"),Ce=!0,Le=3;fetch(Zeplin.urls.baseURL+"/users/acquaintances",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw ee.a(e.status,t)})}).then(function(e){te=e.acquaintances,ne=new Set(te.map(function(e){return e._id}))}).catch(function(){}),function(){function e(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".invitee");!t||t.classList.contains("inviteDone")||t.classList.contains("inviteSpinner")||!e.target.classList.contains("action")&&!e.target.closest(".inviteNewUserButton")||(e.stopPropagation(),i(t))}}de.addEventListener("input",function(){de.parentElement.classList.toggle("typed",!!de.value),Ce=!0,l(),W&&W.dispatchEvent(new CustomEvent("listRefreshed"))}),ue.addEventListener("click",function(e){e.stopPropagation()}),ue.addEventListener("contextmenu",function(e){e.stopPropagation()}),me.addEventListener("click",e),ye.addEventListener("click",e);var t,n;ue.addEventListener("mouseenter",function(e){t=e.clientX,n=e.clientY}),ue.addEventListener("mousemove",function(e){if(e.stopPropagation(),t!==e.clientX||n!==e.clientY){var a=ue.querySelector(".selected");a&&a.classList.remove("selected"),e.target.closest(".invitee")&&(e.target.closest(".invitee").classList.add("selected"),t=e.clientX,n=e.clientY)}}),document.addEventListener("keydown",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:H();break;case Zeplin.KEY_CODE.ENTER:if(V()||!Ce)break;var t=ue.querySelector(".selected");if(!t||t.classList.contains("inviteDone")||t.classList.contains("inviteSpinner"))break;Ce=!1,i(t);break;case Zeplin.KEY_CODE.ArrowUp:case Zeplin.KEY_CODE.ArrowDown:if(V())break;Ce=!0,e.preventDefault(),o(e)}}),ve.addEventListener("click",function(e){e.stopPropagation(),ve.textContent="",Array.from(be.querySelectorAll(".inviteByTag.hidden")).forEach(function(e){e.classList.remove("hidden"),be.appendChild(e)})})}()},function(e,t){function n(e){var t=parseInt(e.dataset.maxFontSize,10),n=parseInt(e.dataset.minFontSize,10),a=t,i=document.createElement("canvas").getContext("2d");e.addEventListener("input",function(){if(e.value){if(i.font=a+"px Roboto",i.measureText(e.value).width>e.clientWidth&&a>n)for(;i.measureText(e.value).width>e.clientWidth&&a>n;)a-=.2,i.font=a+"px Roboto";else if(i.measureText(e.value).width<=e.clientWidth&&a<t)for(;i.measureText(e.value).width<=e.clientWidth&&a<t;)a+=.2,i.font=a+"px Roboto"}else a=t;e.style.fontSize=a+"px"})}window.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("input[data-elastic-font-size]");Array.from(e).forEach(n)})},function(e,t,n){"use strict";function a(e,t,n){n=n?n+";"+u:u,ga("legacyTracker.send","timing",c,e,t,n)}function i(e,t){(t=t||{}).end?l.measure(e,t.start,t.end):t.start?l.measure(e,t.start):l.measure(e);var n=l.getEntriesByName(e);if(n.length){var i=n[n.length-1],o=t.labels,r=t.minTime||0;o&&(o=Object.keys(o).map(function(e){return e+":"+o[e]},[]).join(";")),i.duration>r&&a(e,Math.round(i.duration),o),l.clearMeasures(e)}}function o(){m||(m=!0,i("page.timeToFirstInteraction"))}function r(){i("page.domContentLoaded",{start:"navigationStart",end:"domContentLoadedEventStart"})}function s(){}var l=window.performance,c="JS_Timing",u="version:6.13.1;page:"+location.pathname.match(/\/(\w+)(.html)?/)[1],d=1,m=!1,g=!1;window.addEventListener("load",function(){g=!0});var p,f,h,y;l&&l.mark&&l.measure&&l.timing&&l.getEntriesByName?(p=function(){var e="_mark_"+d;return l.mark(e),d++,e},f=i,h=function(){g?r():window.addEventListener("load",r)},y=function(){document.addEventListener("click",function e(t){o(),document.removeEventListener("click",e,!0)},!0),document.addEventListener("scroll",function e(t){o(),document.removeEventListener("scroll",e,!0)},!0)}):(p=s,f=s,h=s,y=s),t.a={mark:p,measure:f,measurePageDefaults:h,measureFirstInteraction:y}},function(e,t,n){"use strict";function a(e){o=e}function i(e,t){s.dataset.pid=e,s.dataset.projectName=t,s.showModal()}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var o,r=n(2),s=document.getElementById("deleteProjectDialog"),l=document.getElementById("projectNameInput"),c=document.getElementById("deleteProjectDialogCancelButton"),u=document.getElementById("deleteProjectDialogDoneButton");r.b.registerDialog(s),l.addEventListener("input",function(){s.querySelector("button.done").disabled=l.value!==s.dataset.projectName,l.setCustomValidity(l.value===s.dataset.projectName?"":"Project name doesn't match provided value")}),c.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&s.close()}),s.addEventListener("close",function(){l.value="",l.setCustomValidity(""),l.parentElement.classList.remove("typed"),s.querySelector("button.done").disabled=!0}),l.addEventListener("keydown",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),e.stopPropagation(),l.value===s.dataset.projectName&&(s.close(),o(s.dataset.pid))}}),u.addEventListener("click",function(){l.value===s.dataset.projectName&&(s.close(),o(s.dataset.pid))})},,,,function(e,t,n){"use strict";function a(e,t,n){var a=Object.assign({},e);if(a.type=a.fillType,delete a.fillType,"color"===a.type)a.color=new o.a(a.color),delete a.gradient;else{if("gradient"!==a.type)throw new TypeError("Unknown fill type: '"+a.type+"'. Possible values: "+JSON.stringify(s));a.gradient=new r.a(a.gradient,t,n),delete a.color}Object.defineProperties(this,{type:{get:function(){return a.type},set:function(e){if(-1===s.indexOf(e))throw new TypeError("Unknown fill type: '"+e+"'. Possible values: "+JSON.stringify(s));a.type=e}},color:{get:function(){return a.color},set:function(e){a.type="color",a.color=new o.a(e),delete a.gradient}},gradient:{get:function(){return a.gradient},set:function(e){a.type="gradient",a.gradient=new r.a(e,t,n),delete a.color}},opacity:{get:function(){return a.opacity},set:function(e){if(e<0||e>1)throw new RangeError("Invalid opacity value: '"+e+"'. Valid range: [0, 1]");a.opacity=e}},blendMode:{get:function(){return a.blendMode},set:function(e){if(-1===i.a.indexOf(e))throw new TypeError("Unknown blend mode: '"+e+"'. Possible values: "+JSON.stringify(i.a));a.blendMode=e}},fill:{get:function(){return"color"===a.type?this.color:this.gradient},set:function(){}}})}t.a=a;var i=n(12),o=n(14),r=n(73),s=["color","gradient"];a.prototype.toBackgroundImage=function(e){return"color"===this.type?this.color.toGradient(e):this.gradient.toCSS(e)},a.prototype.toCSS=function(e){var t={};return"color"===this.type?t["background-color"]=this.color.toCSS(e):t["background-image"]=this.gradient.toCSS(e),"normal"!==this.blendMode&&(t["background-blend-mode"]=this.blendMode),t}},function(e,t,n){"use strict";function a(e){return e=e.replace(/_/g," "),i.a.find(function(t){return t.aliases.includes(e)})}var i=n(83),o=n(0);t.a={addCustomEmojis:function(e){var t={};Object.keys(e).forEach(function(n){var o=e[n];if(n=n.replace(/_/g," "),o.startsWith("alias:"))t[n]=o.substring(6);else{var r=a(n);r?r.aliases.push(n):i.a.push({emoji:o,aliases:[n],customEmoji:!0})}}),Object.keys(t).forEach(function(e){var n=a(t[e]);n&&n.aliases.push(e)})},getSuggestedEmojis:function(e){var t=[];return e=e.toLowerCase().replace(/_/g," ").trim(),i.a.forEach(function(n){for(var a=0;a<n.aliases.length;a++)if(Object(o.F)(n.aliases[a],e)||n.aliases[a].startsWith(e))return void t.push({emoji:n.emoji,alias:n.aliases[a],customEmoji:n.customEmoji})}),t},searchEmoji:a}},function(e,t,n){"use strict";function a(e){m&&!m.classList.contains("hidden")&&i(),f=e.cb.autoComplete,m=e.elements.suggestedListContainer,g=m.querySelector(".suggestedListBox"),p=e.elements.textContainer,y=e.index,b=e.list,u=0,d=0,m.classList.remove("hidden");var t=g.querySelector(".suggestedItem[data-index='"+y+"']");t.classList.add("selected"),h.z(t),v||(v=!0,l(),p.addEventListener("keydown",o,!0))}function i(){if(v&&(p.removeEventListener("keydown",o,!0),g.removeEventListener("mousemove",r),g.removeEventListener("click",o)),m&&!m.classList.contains("hidden")){var e=g.querySelector(".suggestedItem.selected");e&&e.classList.remove("selected"),m.classList.add("hidden"),m.innerHTML="",g.innerHTML="",p=null,v=!1,b=[],y=0}}function o(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),f(b[g.querySelector(".suggestedItem.selected").dataset.index]);break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),i();break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),y<b.length-1&&c(++y);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),y>0&&c(--y)}}function r(e){if(e.stopPropagation(),u!==e.clientX||d!==e.clientY){var t=e.target.closest(".suggestedItem");t.classList.contains("selected")||c(t.dataset.index),u=e.clientX,d=e.clientY}}function s(e){e.preventDefault(),e.stopPropagation();var t=e.target.closest(".suggestedItem");f(b[t.dataset.index])}function l(){g.addEventListener("mousemove",r),g.addEventListener("click",s)}function c(e){y=e;var t=g.querySelector(".suggestedItem.selected");t&&t.classList.remove("selected");var n=g.querySelector(".suggestedItem[data-index='"+y+"']");n&&(n.classList.add("selected"),h.z(n))}n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});var u,d,m,g,p,f,h=n(0),y=0,b=[],v=!1},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(){var e=Yr.a.features.versions?{name:am.name,width:im.snapshot.width,height:im.snapshot.height,url:im.snapshot.url}:{name:am.name,currentSnapshot:{width:im.snapshot.width,height:im.snapshot.height,url:im.snapshot.url}};Yr.a.ipcRenderer.send("open-popout",e,jr.id)}function i(){if(kt(),qt(),xt(),Nm){var e=wr?zr.I("organization-projects",{url:{oid:wr._id}}):zr.I("projects");"dashboard"===sm&&"styleguide"===sm&&(Ws.href=e),Yr.a.ipcRenderer.send("preload-url",e)}}function o(e,t){function n(t){return r=(r+1)%9999,t.animate([{transform:"scaleX(0)",zIndex:r},{transform:"scaleX(1)",zIndex:r}],{duration:e,fill:"forwards",easing:"cubic-bezier(0.165, 0.84, 0.44, 1.0)"})}function a(e){n(i[e]).addEventListener("finish",function(){s?l||(n(o),l=!0):a((e+1)%i.length)})}var i=Array.from(t.querySelectorAll(".loadingBar")),o=t.querySelector(".whiteBar"),r=1,s=!1,l=!0;return{start:function(){l&&(s=!1,l=!1,a(0))},stop:function(){s||(s=!0)}}}function r(e,t){if(Yr.a)Yr.a.shell.openExternal(e);else{var n=!0;t&&"inNewTab"in t&&(n=t.inNewTab);var a=window.location;if(n){var i=window.open("","_blank");i.opener=null,a=i.location}a.assign(e)}}function s(e){return"invited"===e.user.status?"Pending Invitation":Jm[e.role]||""}function l(e){return e=zr.H(e),"<img src='"+Zeplin.urls.appURL+"/img/ic"+e+".png' srcset='"+Zeplin.urls.appURL+"/img/ic"+e+"@2x.png 2x, "+Zeplin.urls.appURL+"/img/ic"+e+"@3x.png 3x' alt=''>"}function c(e,t){return"Your organization role is "+s(e)+" "+l(e.role)+", only "+Jm.rook+"s or higher can "+t}function u(e,t){var n=c(e,t);return zr.g("<p>"+n+"</p><p><a href='https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members' target='_blank'>Learn more</a> about roles or contact organization Admins to update your role!</p>")}function d(e){var t=document.importNode(Xm.content,!0),n=t.querySelector(".member");zr.B(t.querySelector(".memberImage"),e.user),n.dataset.id=e.user._id,n.dataset.role=e.role,n.dataset.user=Zeplin.user._id===e.user._id?"own":"",n.dataset.status=e.user.status,t.querySelector(".memberName").textContent=e.user.username||e.user.email,t.querySelector(".memberName").title=e.user.username||e.user.email,t.querySelector(".memberRole").textContent=s(e),t.querySelector(".memberActionsButton").classList.toggle("hidden","owner"===e.role||zr.w.isSuperior(e,Er)),tl.appendChild(t)}function m(e){el.classList.toggle("lonely",1===e.length),qr=new RegExp("@(?:everyone|all|tutti|"+e.filter(function(e){return e.user.username}).map(function(e){return e.user.username}).join("|")+")\\b","gi"),tl.innerHTML="",e.forEach(d),ps.checkStatus()}function g(e){var t=e.match(/\/project\/([0-9a-z]+)(?:\/screen\/([0-9a-z]+))?/i);if(t){var n={pid:decodeURIComponent(t[1])};return t[2]&&(n.sid=decodeURIComponent(t[2])),n}}function p(e){e.forEach(function(e){e.versions=[e.latestVersion],delete e.latestVersion})}function f(){var e=g(location.pathname);e||P(),Qd=e,location.search&&Object.assign(Qd,zr.v(location.search))}function h(){localStorage.setItem("slackState",$m)}function y(e){var t={scope:"incoming-webhook,emoji:read,links:read,links:write",client_id:"2330702581.8730394641",redirect_uri:zr.I("huggingSlack",{query:{pid:e.id}}),state:$m},n=[];for(var a in t)n.push(a+"="+encodeURIComponent(t[a]));return"https://slack.com/oauth/authorize?"+n.join("&")}function b(e){if(e&&e.length&&am&&am.dots){var t=e.some(function(e){return"open"===V(e)});t&&"open"!==ba()?va("open",!0):t||"resolved"===ba()||va("resolved",!0);var n=ba();e.forEach(function(e){var t=document.querySelector(".dot[data-id='"+e+"']");t&&V(e)===n&&t.classList.add("highlight")}),document.querySelector(".dot.highlight")||Rr.a({message:"Notes not available anymore."})}}function v(e){if(e&&e.length)if(Array.isArray(e)){var t,n=om.comments.length;if(e.forEach(function(e){var a=Yc.querySelector(".comment[data-id='"+e+"']");a&&a.classList.add("highlight");var i=Array.from(a.parentElement.children).indexOf(a);i<n&&(n=i,t=a)}),t){var a=Hc.getBoundingClientRect().top,i=t.getBoundingClientRect().top-a;setTimeout(function(){"scrollBy"in Element.prototype?Yc.scrollBy({top:i-24,behavior:"smooth"}):Yc.scrollTop+=i-24},200)}else Rr.a({message:"Comments not available anymore."})}else{var o="string"==typeof e?Yc.querySelector(".comment[data-id='"+e+"']"):e;if(!o)return void Rr.a({message:"Comment not available anymore."});o.classList.add("new"),o.scrollIntoView(),setTimeout(function(){o.classList.add("highlight"),setTimeout(function(){o.classList.remove("highlight"),o.addEventListener("transitionend",function e(){o.removeEventListener("transitionend",e),o.classList.remove("new")})},1e3)},150)}}function S(e){if(e&&tm){j();var t,n=jr.screens.length;if(e.forEach(function(e){var a=Q(e);if(a){a.querySelector(".screenLink").classList.add("highlight");var i=parseInt(a.dataset.index,10);i<n&&(n=i,t=a)}}),Array.from(new Set(e)).map(function(e){return jr.findScreenSection(e)}).filter(function(e){return!!e}).forEach(function(e){Wt(sn(e._id),!1)}),t){var a=t.getBoundingClientRect().top;setTimeout(function(){"scrollBy"in Element.prototype?Ls.scrollBy({top:a-150,behavior:"smooth"}):Ls.scrollTop+=a-150},200)}else Rr.a({message:"Screens not available anymore."})}}function j(){Array.from(Hd.querySelectorAll(".screenLink.highlight")).forEach(function(e){e.classList.remove("highlight")})}function E(e){e&&(Array.isArray(e)||(e=[e]),w(),e.forEach(function(e){var t=rl.querySelector(".color[data-id='"+e+"']");t&&t.classList.add("highlight")}))}function w(){Array.from(rl.querySelectorAll(".color.highlight")).forEach(function(e){e.classList.remove("highlight")})}function C(e){if(e){Array.isArray(e)||(e=[e]),L();var t,n=jr.textStyles.length;if(e.forEach(function(e){var a=hu.querySelector(".font[data-id='"+e+"']");if(a){a.classList.add("highlight");var i=parseInt(a.dataset.index,10);i<n&&(n=i,t=a)}}),t){var a=t.getBoundingClientRect().top;setTimeout(function(){"scrollBy"in Element.prototype?Qm.scrollBy({top:a-150,behavior:"smooth"}):Qm.scrollTop+=a-150},200)}}}function L(){Array.from(hu.querySelectorAll(".font.highlight")).forEach(function(e){e.classList.remove("highlight")})}function D(e,t){zr.w.canManageColors(Er)?(e.dataset.tooltip=t?"Delete color from Styleguide.":"Add color to Styleguide.",e.dataset.tooltipType="text"):"pawn"===Er.role?(e.dataset.tooltip="Only organization members can "+(t?"delete":"add")+" colors.",e.dataset.tooltipType="text"):(e.dataset.tooltip=u(Er,(t?"delete":"add")+" colors."),e.dataset.tooltipType="html")}function x(e,t){zr.w.canManageTextStyles(Er)?(e.dataset.tooltip=t?"Delete text style from Styleguide.":"Add text style to Styleguide.",e.dataset.tooltipType="text"):"pawn"===Er.role?(e.dataset.tooltip="Only organization members can "+(t?"delete":"add")+" text styles.",e.dataset.tooltipType="text"):(e.dataset.tooltip=u(Er,(t?"delete":"add")+" text styles."),e.dataset.tooltipType="html")}function k(){var e=zr.w.canUpdateProject(Er);Ts.readOnly=!e,e?(Ts.removeAttribute("data-tooltip"),Ts.removeAttribute("data-tooltip-type")):(Ts.dataset.tooltip=u(Er,"rename projects."),Ts.dataset.tooltipType="html"),Du.classList.toggle("disabled",!e),e?(Du.removeAttribute("data-tooltip"),Du.removeAttribute("data-tooltip-type")):(Du.dataset.tooltip=u(Er,"add projects to Slack."),Du.dataset.tooltipType="html"),Array.from(Ad.querySelectorAll(".slackSettingsButton")).forEach(function(t){t.classList.toggle("hidden",!e)}),Bs.classList.toggle("disabled",!e),e?(Bs.dataset.tooltip="Update project density.",Bs.dataset.tooltipType="text"):(Bs.dataset.tooltip=u(Er,"update project density."),Bs.dataset.tooltipType="html"),al.readOnly=!e,ol.readOnly=!e;var t=zr.w.canManageScreens(Er);cl.readOnly=!t,cl.placeholder=t?"Enter a short description here":"No description yet",Array.from(Hd.querySelectorAll(".screen .screenName")).forEach(function(e){e.readOnly=!t}),Array.from(Hd.querySelectorAll(".section .sectionName")).forEach(function(e){e.readOnly=!t}),Array.from(Hd.querySelectorAll(".section .sectionDescription")).forEach(function(e){e.readOnly=!t}),document.body.classList.toggle("canManageScreens",t),ks.querySelector(".capableInfoLine").classList.toggle("hidden",!t);var n=ks.querySelector(".unableInfoLine");n.querySelector("span").textContent=Jm.rook,n.classList.toggle("hidden",t);var a=document.getElementById("manageTagsButton");a&&(a.classList.toggle("disabled",!t),t?(a.dataset.tooltip="Manage tags.",a.dataset.tooltipType="text"):(a.dataset.tooltip=u(Er,"organize screens using tags."),a.dataset.tooltipType="html"));var i=zr.w.canManageColors(Er);Array.from(rl.querySelectorAll(".color")).forEach(function(e){e.querySelector(".colorName").readOnly=!i,e.querySelector(".colorHex").readOnly=!i,e.querySelector(".colorAlpha").readOnly=!i,i?(e.removeAttribute("data-tooltip"),e.removeAttribute("data-tooltip-type")):"pawn"===Er.role?(e.dataset.tooltip="Only organization members can edit colors.",e.dataset.tooltipType="text"):(e.dataset.tooltip=u(Er,"edit colors."),e.dataset.tooltipType="html")}),Array.from(sl.querySelectorAll(".color")).forEach(function(e){e.querySelector(".colorName").readOnly=!i;var t=e.querySelector(".addColor");t.classList.toggle("disabled",!i),D(t,e.classList.contains("added"))});var o=zr.w.canManageTextStyles(Er);hu.classList.toggle("editable",o),Array.from(hu.querySelectorAll(".styleName")).forEach(function(e){e.readOnly=!o,o?(e.removeAttribute("data-tooltip"),e.removeAttribute("data-tooltip-type")):"pawn"===Er.role?(e.dataset.tooltip="Only organization members can edit text styles.",e.dataset.tooltipType="text"):(e.dataset.tooltip=u(Er,"edit text styles."),e.dataset.tooltipType="html")}),Array.from(sl.querySelectorAll(".textStyleWrapper")).forEach(function(e){e.querySelector(".textStyleName").readOnly=!o;var t=e.querySelector(".addTextStyle");t.classList.toggle("disabled",!o),x(t,e.classList.contains("added"))}),Hc.classList.toggle("canRemoveNotes",zr.w.canRemoveNotes(Er))}function q(){zr.w.canUpdateProject(Er)&&hs.a(jr.id,jr.integration.slacks.map(function(e){return e._id}))}function T(e){m(e.users),p(e.screens),Jo(e),Yr.a&&Ko(),am=null,om=null,rm=null,Bn(),gm=null,pm=null,Pm&&Yr.a.ipcRenderer.send("popout:menuitem:enabled",!1),kt(),document.body.dataset.projectType=e.type,br||la("layer"),ar(),Zr.a.get(Qd.pid,"styleColorFormat").then(function(e){Lc.querySelector("span").textContent=Km[e],document.querySelector("#colorFormat span").textContent=Km[e],document.querySelector("input[name='colorFormat'][value='"+e+"']").checked=!0,document.querySelector("input[name='styleguideColorFormat'][value='"+e+"']").checked=!0}),Zr.a.get(Qd.pid,"showDimensions").then(function(e){oc.checked=e,jc.checked=e}),Zr.a.get(Qd.pid,"showDefaultValues").then(function(e){lc.checked=e,cc.checked=e}),Zr.a.get(Qd.pid,"showOptimizedSVG").then(function(e){tc.checked=e,nc.checked=e}),"android"!==e.type&&Zr.a.get(Qd.pid,"assetNamingConvention").then(function(e){Pd.querySelector("span").textContent=Gm[e],Ud.querySelector("span").textContent=Gm[e],document.querySelector("input[name='allAssetsNamingConvention'][value='"+e+"']").checked=!0,document.querySelector("input[name='assetNamingConvention'][value='"+e+"']").checked=!0}),"web"===e.type?(Zr.a.get(Qd.pid,"webStyleExportType").then(function(e){ic.textContent=Zm[e],Sc.textContent=Zm[e],hc.querySelector("span").textContent=Zm[e],Cc.querySelector("span").textContent=Zm[e],document.querySelector("input[name='webStyleExportType'][value='"+e+"']").checked=!0,document.querySelector("input[name='styleguideWebStyleExportType'][value='"+e+"']").checked=!0}),Zr.a.get(Qd.pid,"webUnitlessLineHeight").then(function(e){rc.checked=e,Ec.checked=e}),Zr.a.get(Qd.pid,"webMixin").then(function(e){sc.checked=e,wc.checked=e}),document.querySelector(".assetStyle .CodeMirror")||Array.from(document.querySelectorAll(".assetStyle")).forEach(function(e){la("asset",e)}),vr||la("textLayer")):(document.querySelector(".assetStyle .CodeMirror")&&(_c=[],Array.from(document.querySelectorAll(".assetStyle")).forEach(function(e){e.remove()})),"android"===e.type?(Zr.a.get(Qd.pid,"androidStyleExportType").then(function(e){document.body.dataset.styleType=e,ic.textContent=Zm[e],Sc.textContent=Zm[e],ar(e),document.querySelector(".androidStyleOptions input[name='androidStyleExportType'][value='"+e+"']").checked=!0}),Zr.a.get(Qd.pid,"androidLineSpacingType").then(function(e){Array.from(document.querySelectorAll(".lineSpacingType")).forEach(function(t){t.querySelector("span").textContent=e}),Array.from(document.querySelectorAll(".androidLineSpacingTypes input[name='lineSpacingType'][value='"+e+"']")).forEach(function(e){e.checked=!0})})):(Zr.a.get(Qd.pid,"attributedStringShowDefaultAttributes").then(function(e){Dc.checked=e}),"ios"===e.type?(Zr.a.get(Qd.pid,"iosStyleExportType").then(function(e){document.body.dataset.styleType=e,ic.textContent=Zm[e],Sc.textContent=Zm[e],document.querySelector(".iosCategoryContainer .categoryNameContainer .categoryTitle").textContent=("objc"===e?"Category":"Extension")+" name:",document.querySelector(".iosStyleOptions input[name='iosStyleExportType'][value='"+e+"']").checked=!0,document.querySelector(".iosStyleOptions input[name='styleguideIosStyleExportType'][value='"+e+"']").checked=!0}),Zr.a.get(Qd.pid,"iosDeploymentTarget").then(function(e){document.querySelector(".iosDeploymentTargets input[name='iosDeploymentTarget'][value='"+e+"']").checked=!0,xc.querySelector("span").textContent=e,document.querySelector(".styleguideIosDeploymentTargets input[name='styleguideIosDeploymentTarget'][value='"+e+"']").checked=!0,qc.querySelector("span").textContent=e})):"osx"===e.type&&(Zr.a.get(Qd.pid,"osxStyleExportType").then(function(e){document.body.dataset.styleType=e,ic.textContent=Zm[e],Sc.textContent=Zm[e],document.querySelector(".osxCategoryContainer .categoryNameContainer .categoryTitle").textContent=("objc"===e?"Category":"Extension")+" name:",document.querySelector(".osxStyleOptions input[name='osxStyleExportType'][value='"+e+"']").checked=!0,document.querySelector(".osxStyleOptions input[name='styleguideOsxStyleExportType'][value='"+e+"']").checked=!0}),Zr.a.get(Qd.pid,"osxDeploymentTarget").then(function(e){document.querySelector(".osxDeploymentTargets input[name='osxDeploymentTarget'][value='"+e+"']").checked=!0,kc.querySelector("span").textContent=e,document.querySelector(".styleguideOsxDeploymentTargets input[name='styleguideOsxDeploymentTarget'][value='"+e+"']").checked=!0,Tc.querySelector("span").textContent=e})))),tm=!0,Gs.textContent=e.name,Gs.title=e.name,Ts.value=e.name,_s.textContent=Pr.b[e.type];var t={ios:'IOS developers usually prefer color names defined in "camel case", which looks like: brightRed',osx:'IOS developers usually prefer color names defined in "camel case", which looks like: brightRed',web:"Web developers usually use underscores or dashes while defining colors, which looks like: bright-red or bright_red",android:"Android developers define their color names using underscore, which look like: bright_red"};if(Lu.querySelector(".projectNaming").textContent=t[e.type],Br=y(e),e.integration&&e.integration.slacks&&e.integration.slacks.length?(Yi(e.integration.slacks),q()):(Jd.classList.add("hidden"),Nd.classList.remove("hidden")),_(e.density),qe(),xs.classList.remove("loading"),yn(),CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||Ce(),rl.innerHTML="",e.colors&&e.colors.length&&e.colors.forEach(Te),B(e.prefix),e.textStyles&&e.textStyles.length&&ke(),Sr||la("guideline"),ya(),Zr.a.get(Qd.pid,"projectInfoWidth").then(function(e){xo(e,Yu),hn()}),Zr.a.get(Qd.pid,"generatorContainerWidth").then(function(e){xo(e,bc),setTimeout(function(){Sr.refresh()},100)}),Zr.a.get(Qd.pid,"rightSidebarWrapperWidth").then(function(e){xo(e,Gu)}),Zr.a.get(Qd.pid,"versionsSidebarWrapperWidth").then(function(e){xo(e,Ku),Ku.classList.add("collapsed")}),Yr.a&&Yr.a.features&&Yr.a.features.downloadAssets&&ms.b(jr.id,jr.type),k(),wr)"pawn"!==Er.role&&"past_due"===wr.subscriptionStatus&&Pr.d({oid:wr._id,currentRole:Er.role});else{var n={currentRole:Er.role},a=jr.findOwner();"past_due"===a.user.subscriptionStatus&&(n.ownerEmail=a.user.email,Pr.d(n))}}function I(){var e;switch(jr.type){case"android":e="android";break;case"ios":case"osx":e="iosx";break;case"web":default:e="web"}return e+"Density"}function _(e){jr.density=e,Fs.textContent=e;var t=document.querySelector("input[name='"+I()+"'][value='"+e+"']");t&&(t.checked=!0,t.dispatchEvent(new Event("change")))}function F(e){if(zr.w.canUpdateProject(Er)){var t=jr.density;Fs.textContent=e,fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/density",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({density:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).then(function(){Ei(e)}).catch(function(e){Fs.textContent=t,Hr.b(e)})}}function B(e,t){jr.prefix=e||"","ios"===jr.type?(Zr.a.get(Qd.pid,"iosCategoryName").then(function(t){t?(nl.value=t,Sm.iosCategoryName=t):(nl.value=e?e.toUpperCase()+"Additions":"",Zr.a.set(Qd.pid,"iosCategoryName",e.toUpperCase()+"Additions"),Sm.iosCategoryName=e?e.toUpperCase()+"Additions":""),al.value=e||"",Sm.iosCategoryPrefix=e||""}),t&&ya()):"osx"===jr.type&&Zr.a.get(Qd.pid,"osxCategoryName").then(function(n){n?(il.value=n,Sm.iosCategoryName=n):(il.value=e.toUpperCase()+"Additions",Sm.osxCategoryName=e?e.toUpperCase()+"Additions":"",Zr.a.set(Qd.pid,"osxCategoryName",e.toUpperCase()+"Additions")),ol.value=e||"",Sm.osxCategoryPrefix=e||"",t&&ya()})}function A(){var e=mn(),t=It(),n=(e||"No")+" screen"+(1===e?"":"s");if(wd.classList.remove("showHint"),t.length)if(n+=" with ",1===t.length)n+=t,wd.classList.add("showHint");else{var a=t.pop();n+=t.join(", ")+", and "+a}else _t()&&(n=(e||"No")+" untagged screen"+(1===e?"":"s")+" ");Ds.textContent=n,Ds.title=n}function N(){var e="";"dashboard"===sm?e="Dashboard - ":"styleguide"===sm?e="Styleguide - ":am&&(e=am.name+" - "),Ms.textContent=e+(jr?jr.name+" - ":"")+"Zeplin"}function O(){wr?location.replace(zr.I("organization-projects",{url:{oid:wr._id}})):location.replace(zr.I("projects"))}function P(){if(Am){var e;return Nm&&(e=JSON.parse(sessionStorage.getItem("deferredDialog")))&&sessionStorage.removeItem("deferredDialog"),void Yr.a.ipcRenderer.sendToHost("close-project-webview",wr?zr.I("organization-projects",{url:{oid:wr._id}}):zr.I("projects"),e)}O()}function U(e,t){(t=t||{}).shouldReplace?Um.history.replace(e,t.state):Um.history.push(e,t.state)}function R(e,t){t=t||{},U(zr.I("project-dashboard",{url:{pid:e},query:t}))}function M(e){U(zr.I("project-styleguide",{url:{pid:e}}))}function z(e,t){U(zr.I("project-screen",{url:{pid:e,sid:t}}))}function Z(){_n(),sm="dashboard",nm=-2,am=null,Ws.href=wr?zr.I("organization-projects",{url:{oid:wr._id}}):zr.I("projects"),Ws.querySelector("span").textContent="Projects",Hs.dataset.selection="dashboard",zs.checked=!0,w(),L(),So(),CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||(Ce(),window.addEventListener("resize",Le)),window.addEventListener("resize",hn),!xt()&&Pm&&Yr.a.ipcRenderer.send("popout:menuitem:enabled",!1),qt()}function H(){_n(),sm="styleguide",nm=-1,am=null,Ws.href=wr?zr.I("organization-projects",{url:{oid:wr._id}}):zr.I("projects"),Ws.querySelector("span").textContent="Projects",Hs.dataset.selection="styleguide",Zs.checked=!0,j(),CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||(clearTimeout(cg),window.removeEventListener("resize",Le)),window.removeEventListener("resize",hn),Sr&&Sr.refresh(),!xt()&&Pm&&Yr.a.ipcRenderer.send("popout:menuitem:enabled",!1),qt()}function V(e){if(e){var t=am.dots.find(function(t){return t._id===e});if(t)return t.status}}function W(e){if("apiData"in Zeplin&&e in Zeplin.apiData){var t=Zeplin.apiData[e];return delete Zeplin.apiData[e],t}}function Y(e){var t=W("organizationMembers");if(t)return Promise.resolve(t);var n=es.a.mark();return fetch(Zeplin.urls.baseURL+"/organizations/"+e+"/members",{headers:Zeplin.headers}).then(function(e){return es.a.measure("api.getOrganizationMembers",{start:n,minTime:50,labels:{status:e.status}}),e.json().then(function(t){if(e.ok)return t;throw Hr.a(e.status,t)})})}function K(e){var t,n=W("projectOrganization");if(n)t=Promise.resolve(n);else{var a=es.a.mark();t=fetch(Zeplin.urls.baseURL+"/projects/"+e+"/organization",{method:"GET",headers:Zeplin.headers}).then(function(e){if(es.a.measure("api.getProjectOrganization",{start:a,minTime:50,labels:{status:e.status}}),e.ok)return e.json()})}return t.then(function(e){if(wr=e)return wr.transitionFinished=-1===e.transitionLeft,Am&&Yr.a.ipcRenderer.send("preload-url",Ws.href=zr.I("organization-projects",{url:{oid:wr._id}})),"screen"!==sm&&(Ws.href=zr.I("organization-projects",{url:{oid:wr._id}})),"pawn"!==Er.role||wr.transitionFinished||St(Math.ceil(e.transitionLeft/1e3/60/60/24)),"pawn"!==Er.role?Y(e._id).then(function(e){Object.assign(wr,e)}):void 0}).catch(function(){})}function G(e){hm||fr();var t,n=W("project");if(n)t=Promise.resolve(n);else{var a=es.a.mark();t=fetch(Zeplin.urls.baseURL+"/projects/"+e,{headers:Zeplin.headers}).then(function(e){return es.a.measure("api.getProject",{start:a,minTime:50,labels:{status:e.status}}),e.json().then(function(t){if(!e.ok)throw Hr.a(e.status,t);var n=t;return 206===e.status&&(n.partial=!0),n})})}return t.then(function(t){if(t){if(!t.partial)return J(t);location.replace(zr.I("preview",{url:{pid:e}}))}}).catch(function(e){hm?(hm=!1,navigator.onLine&&location.reload()):Hr.b(e,{clientErrorHandler:function(){Rr.a({title:e.title,message:e.message},{defer:!0}),P()}})}).then(function(){Am?(Om=!1,Yr.a.ipcRenderer.sendToHost("active")):hr()},function(){Am?(Om=!1,Yr.a.ipcRenderer.sendToHost("active")):hr()})}function J(e){jr=new Jr.a(e),Er=jr.findUser(Zeplin.user._id),document.body.classList.toggle("organizationProject",zr.q(jr)),wr=null;var t;return zr.q(jr)?t=K(jr.id):(t=Promise.resolve(),Am&&Yr.a.ipcRenderer.send("preload-url",Ws.href=zr.I("projects"))),Promise.all([t,Pr.a(),Wo()]).then(function(e){T(jr);var t;t=zr.q(jr)?wr.paymentPlan:jr.findOwner().user.paymentPlan;var n=e[1].find(function(e){return e._id===t});jr.allowedVersionCount=n.allowedVersionCount,Vr.b([jr.id],wr&&"pawn"!==Er.role&&wr._id),Yu.addEventListener("usersInvited",X),Ha(jr),jr.public&&Wa(jr),hm=!1})}function X(e){e.detail.users.forEach(function(e){jr.addUser(e)}),m(jr.users)}function $(e){return Hd.querySelector(".screen[data-view-index='"+e+"']")}function Q(e){return Hd.querySelector(".screen[data-id='"+e+"']")}function ee(e,t){var n=(t=t||{}).padding||0,a=t.unit||0;return e*mm+n+a}function te(e,t,n){return void 0===e||void 0===t?"":zr.y(e,1)+"×"+zr.y(t,1)+n}function ne(e,t){if(void 0===e||null===e)return"";if("%"===t)return zr.y(100*e,1)+"%";var n="text"===t?jr.textDimensionSuffix:jr.dimensionSuffix;return zr.y(e/jr.densityDivisor,1)+n}function ae(e,t){return 100*e/t+"%"}function ie(){Cl.classList.add("loading"),Cl.classList.remove("empty","restricted"),Dl.classList.add("loading"),Dl.classList.remove("empty","restricted"),xm.start()}function oe(){xm.stop(),Hs.classList.remove("online"),Cl.classList.remove("loading")}function re(e,t){if(!navigator.onLine)return Hs.className="offline",Promise.resolve();if(!e||!t)return Promise.resolve();var n=es.a.mark();return fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+e._id+"/versions/"+t._id+"/snapshot",{headers:Zeplin.headers}).then(function(e){return es.a.measure("api.getSnapshot",{start:n,minTime:50,labels:{status:e.status}}),e.json().then(function(t){if(e.ok)return t;throw Hr.a(e.status,t)})}).then(function(n){return n.layers.unshift(gt(e.name,n)),Object.assign(t.snapshot,n)}).catch(function(e){return Hr.b(e),t.snapshot})}function se(e){e instanceof Date||(e=new Date(e));var t=new Date;if(t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()){if(t.getDate()===e.getDate())return"today";if(t.getDate()-e.getDate()==1)return"yesterday"}return tg.format(e)}function le(e,t,n){if("pawn"===Er.role)return Promise.reject(Hr.a(403,{title:"You’re not allowed to do this",message:"Please contact the organization admins."}));var a={color:n};return fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+e._id+"/versions/"+t._id+"/commit/color",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(a)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).then(function(){return mixpanel.track("Updated version color"),Object.assign(t.commit,a)})}function ce(e,t,n){if(!zr.w.canManageScreens(Er))return Promise.reject(Hr.a(403,{title:"You’re not allowed to do this",message:"Please contact the organization admins."}));if(t.creator!==Er.user._id)return Promise.reject(Hr.a(403,{title:"You can’t edit this commit",message:"You can only edit your own commits."}));var a={message:n};return fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+e._id+"/versions/"+t._id+"/commit/message",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(a)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).then(function(){return mixpanel.track("Updated version commit message"),Object.assign(t.commit,a)})}function ue(e,t,n){var a=ig.querySelector(".version.editing");if(a&&ag.get(a).cancelEditing(),Pc.classList.contains("versionsShown")){var i=document.querySelector(".version.selected");i&&i.classList.remove("selected");var o=document.querySelector(".version[data-id='"+t._id+"']");o&&o.classList.add("selected"),o&&n&&n.scrollIfNecessary&&zr.z(o)}Ct(e,im=t),document.querySelector(".oldVersionWarning time").textContent=se(t.created),Pc.classList.toggle("oldVersion",e.versions[0]._id!==im._id)}function de(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&eg&&(e.target.closest(".openInFolder")?Yr.a.ipcRenderer.send("show-item-in-folder",eg):e.target.closest(".openInPhotoshop")&&Yr.a.ipcRenderer.send("open-item",eg))}function me(e){Yr.a&&Yr.a.features&&Yr.a.features.openInPhotoshop&&(Bd.removeEventListener("click",de),Id.classList.add("hidden"),Yr.a.ipcRenderer.removeAllListeners(e+":sourceFile"),Yr.a.ipcRenderer.once(e+":sourceFile",function(e,t){eg=t.file,_d.title=t.name,_d.textContent=t.name,Fd.title=t.dir,Fd.textContent=t.pathParts.join("▸"),Zr.b.get("hideSourceFileInfo").then(function(e){if(!e){var t=Mr.a({content:"This is only visible to you, to quickly jump to your design file.",hideCallback:function(){Zr.b.set("hideSourceFileInfo",!0)}});Id.appendChild(t)}}),Bd.addEventListener("click",de),Id.classList.remove("hidden")}),Yr.a.ipcRenderer.send("query-source-file",e))}function ge(e,t){return zr.w.canManageScreens(Er)?fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+e._id+"/versions/"+t._id,{method:"DELETE",headers:Zeplin.headers}).then(function(){return mixpanel.track("Deleted version"),jr.removeVersion(e._id,t._id)}):Promise.reject(Hr.a(403,{title:"You’re not allowed to do this",message:"Please contact the organization admins."}))}function pe(e,t,n,a){t.commit=t.commit||{},t.commit.message=t.commit.message||"",t.commit.color=t.commit.color||Vm.yellow;var i=new Date(e.created),o=new Date(t.created),r=i.getDate()!==o.getDate()||i.getMonth()!==o.getMonth()||i.getFullYear()!==o.getFullYear();r&&ig.appendChild(fe(o));var s=document.importNode(og.content,!0),l=s.querySelector(".version"),c=l.querySelector(".versionNodeDot"),u=l.querySelector(".commitMessage"),d=new Gr.a(u,Ba);ag.set(l,d),l.dataset.id=t._id;var m=Hm[new Xr.a(t.commit.color).hexBase()];if(l.classList.add(m),u.classList.add(m),r||e.creator!==t.creator){var g=ve(t.creator,!0);zr.B(l.querySelector(".versionAuthorImage"),g&&g.user),l.querySelector(".versionAuthorName").textContent=g?g.user.username:"Anonymous"}else l.classList.add("sameCreator");l.classList.toggle("canDelete",zr.w.canManageScreens(Er)),l.classList.toggle("versionOwner",t.creator===Er.user._id);var p;return p=t.creator!==Zeplin.user._id?"No commit message yet.":1===a.length?"Got any notes?":"What has changed in this version?",d.placeholder=p,t.commit.message?d.value=t.commit.message:l.classList.add("empty"),l.querySelector(".versionMetadata time").textContent=ng.format(o),c.addEventListener("mouseenter",function(){if(!Ku.classList.contains("collapsed")&&"pawn"!==Er.role){var e=document.importNode(rg.content,!0),n=e.querySelector(".nodeColorChooser");n.classList.add(m),n.addEventListener("mouseleave",function(){n.addEventListener("transitionend",function(e){n.remove()})}),n.addEventListener("click",function(e){if(e.stopPropagation(),e.target.classList.contains("nodeColor")&&m!==e.target.dataset.color){var a=Vm[e.target.dataset.color];nt(n),n.classList.add(a.name),nt(l),l.classList.add(a.name),nt(u),u.classList.add(a.name),le(am,t,a).then(function(e){m=e.color.name}).catch(function(e){var t=Vm[m];nt(n),n.classList.add(t.name),nt(l),l.classList.add(t.name),nt(u),u.classList.add(t.name),Hr.b(e)})}}),c.appendChild(e)}}),l.addEventListener("click",function(){l.classList.contains("selected")||ue(am,t)}),u.addEventListener("autocomplete",function(){var e=gs.manageSuggestedEmojis(u.querySelector("textarea"),u.querySelector(".mirror"));e&&(e.style.top=u.getBoundingClientRect().top+u.offsetHeight-90+"px",l.appendChild(e),gs.open())}),u.addEventListener("submit",function(){var e=d.value,n=gs.formatEmojiString(d.value.trim(),!0);d.value=n,l.classList.remove("editing"),gs.close(),t.commit.message!==n&&ce(am,t,n).then(function(e){l.classList.toggle("empty",!n)}).catch(function(t){d.value=e,Hr.b(t,{clientErrorDialogCallback:function(){d.cancelEditing()},serverErrorDialogCallback:function(){d.startEditing()}})})}),u.addEventListener("cancel",function(){l.classList.remove("editing")}),Array.from(l.querySelectorAll(".commitMessageEditButton, .enterCommitMessageButton")).forEach(function(e){e.addEventListener("click",function(e){e.stopPropagation(),ue(am,t),l.classList.add("editing"),d.startEditing()})}),l.querySelector(".commitDeleteButton").addEventListener("click",function(e){e.stopPropagation(),1===am.totalVersionCount?Rr.a({title:'Delete  "'+am.name+'"?',message:"Deleted screens cannot be restored.",done:{name:"DELETE",cb:function(){Hi(am._id),R(jr.id,vn())}},cancel:{name:"CANCEL"}}):Rr.a({title:"Delete version?",message:"Deleted versions cannot be restored.",done:{name:"DELETE",cb:function(){var e=am.versions[0]._id;ge(am,t).then(function(){return am.versions.length<jr.allowedVersionCount&&am.totalVersionCount>=jr.allowedVersionCount?he(am):am}).then(function(){e===t._id&&zr.x(Q(am._id).querySelector(".screenImage"),am.versions[0].snapshot,"url"),im._id===t._id&&(sl.classList.add("resourceView"),sl.classList.remove("layerView"),im=am.versions[0],Ct(am,im)),st(am)}).catch(Hr.b)}},cancel:{name:"CANCEL"}})}),ig.appendChild(s),t}function fe(e){var t=document.importNode(sg.content,!0);return t.querySelector(".versionHeaderText").textContent=se(e),t}function he(e){Ku.classList.add("loading");var t=W("versions");return(t?Promise.resolve(t):fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+e._id+"/versions",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Hr.a(e.status,t)})})).then(function(t){return e.versions.forEach(function(e){if("layers"in e.snapshot){var n=t.versions.find(function(t){return e._id===t._id});n&&Object.assign(n.snapshot,e.snapshot)}}),Object.assign(e,t)}).catch(function(t){return e})}function ye(e,t){var n=gs.replace(t.replace(zr.e,""),!1,!0).trim();return(!n||"️"===n)&&(e.childElementCount>0&&e.childElementCount<=5)}function be(e,t,n){var a,i=t.slice(0,t.length-n);return a=n===t.length?e.comments.length-2>1?e.comments.length-2+" more replies":"1 more reply":n>0?(a=(a=i.join(", "))?a+" and ":a)+n+" more also replied":(a=(a=i.slice(0,i.length-1).join(", "))?a+" and ":a)+i[i.length-1]+" also replied"}function ve(e,t){var n=jr.findUser(e);return!n&&t&&wr&&wr.members?wr.members.find(function(t){return t.user._id===e}):n}function Se(e){var t=document.importNode(ld.content,!0),n=t.querySelector(".dotListing");n.dataset.did=e._id,n.classList.add(Hm[new Xr.a(e.color).hexBase()]),n.classList.toggle("hasOtherReplies",e.comments&&e.comments.length>2),n.classList.toggle("hasLastReply",e.comments&&e.comments.length>1);var a=ve(e.creator,!0),i=e.comments[e.comments.length-1],o=ve(i.author,!0);zr.B(t.querySelector(".avatarOfAuthor"),a&&a.user),t.querySelector(".author").textContent=a?a.user.username:"Anonymous",t.querySelector("time").setAttribute("datetime",je(e,0)),t.querySelector(".dotNumber").textContent=e.name;var r=t.querySelector(".commentContent");r.innerHTML=Aa(e.comments[0].note),r.classList.toggle("jumboEmojis",ye(r,e.comments[0].note));var s,l;if(e.comments.length>2){var c=new Set(e.comments.slice(1,e.comments.length-1).reduce(function(e,t){return a&&t.author===a.user._id||o&&t.author===o.user._id?e:e.concat(t.author)},[]));s=[],c.forEach(function(e){s.push(ve(e,!0))}),s.length?(s.forEach(function(e,n){var a=document.importNode(md.content,!0);a.querySelector(".avatarFrame").style.left=8*n+"px",zr.B(a.querySelector(".avatarOfOtherReply"),e&&e.user),t.querySelector(".avatarsOfOtherReplies").appendChild(a)}),l=8*((s=s.map(function(e){return e?e.user.username:"Anonymous"})).length-1)+16):(l=0,t.querySelector(".avatarsOfOtherReplies").classList.add("hidden")),t.querySelector(".avatarsOfOtherReplies").style.width=l+"px"}if(e.comments.length>1){var u=t.querySelector(".comment:last-child");n.dataset.cmid=i._id,zr.B(u.querySelector(".avatarOfAuthor"),o&&o.user),u.querySelector(".author").textContent=o?o.user.username:"Anonymous",u.querySelector("time").setAttribute("datetime",je(e));var d=u.querySelector(".commentContent");d.innerHTML=Aa(i.note),d.classList.toggle("jumboEmojis",ye(d,i.note))}cd.appendChild(t);var m=cd.lastElementChild.querySelector(".otherRepliesAuthors");if(s&&s.length){var g=s.length;if((s=s.filter(function(e){return"Anonymous"!==e})).length){var p=g-s.length;if(p)for(var f=0;f<p;f++)s.push("Anonymous");var h=document.createElement("canvas").getContext("2d");h.font="italic 12px roboto";for(var y=sl.offsetWidth-30-l,b=be(e,s,p);h.measureText(b).width>y&&p<=s.length;)b=be(e,s,++p);m.textContent=b}else e.comments.length-2>1?m.textContent=e.comments.length-2+" more replies":m.textContent="1 more reply"}else s&&!s.length&&(e.comments.length-2>1?m.textContent=e.comments.length-2+" more replies":m.textContent="1 more reply")}function je(e,t){t=void 0!==t?t:e.comments.length-1;var n=e.comments[t],a=new Date(n.updated),i=new Date(n.created);return a-i>3e5?a:i}function Ee(e){var t=ba(),n=!e.length;dd.classList.toggle("noDots",n),e=e?e.filter(function(e){return e.status===t}):[],dd.classList.remove("noOpenDots","noResolvedDots"),dd.classList.toggle(lg[t],!n&&!e.length),dd.dataset.statusFilter=t,ud.querySelector("span").textContent=e.length,ud.classList.toggle("multiple",e.length>1),cd.innerHTML="",e.sort(function(e,t){var n=je(e),a=je(t);return n>a?-1:a>n?1:0}),e.forEach(Se),dd.classList.remove("loading")}function we(e){if(e){dd.classList.add("loading"),dd.classList.remove("noDots","noOpenDots","noResolvedDots");var t,n=W("dots");if(n)t=Promise.resolve(n);else{var a=es.a.mark();t=fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+e._id+"/dots",{headers:Zeplin.headers}).then(function(e){return es.a.measure("api.getDots",{start:a,minTime:50,labels:{status:e.status}}),e.json().then(function(t){if(e.ok)return t;throw Hr.a(e.status,t)})})}return t.then(function(t){if(e.dots=t.dots,e.dots.forEach(function(e){e.status=e.status||"open"}),am===e){var n;if(Qd.did&&1===Qd.did.length){var a=V(Qd.did[0]);n=a?Promise.resolve(a):Zr.a.get(jr.id,"dotListingsStatusFilter")}else n=Zr.a.get(jr.id,"dotListingsStatusFilter");return n.then(function(t){va(t,!0),e.dots.forEach(at),Qd.did&&1===Qd.did.length?Wn(Qd.did[0],Qd.cmid):b(Qd.did)})}}).catch(function(t){am===e?Hr.b(t):console.error(t)})}}function Ce(){Array.from(Hd.querySelectorAll(".screenGrid")).forEach(function(e){e.style.width=244*Math.floor(Ls.clientWidth/244)+"px"}),cg=setTimeout(Ce,1e3),hn()}function Le(){clearTimeout(cg),requestAnimationFrame(Ce)}function De(e,t,n,a){var i=document.importNode(mg.content,!0),o=i.querySelector(".screen"),r=i.querySelector(".screenName"),s=i.querySelector(".screenNameMirror"),l=i.querySelector(".screenLink"),c=zr.w.canManageScreens(Er);o.dataset.id=t._id,o.dataset.index=n,o.dataset.viewIndex=a+n,l.href=zr.I("project-screen",{url:{pid:Qd.pid,sid:t._id}}),i.querySelector(".screenLastUpdated").setAttribute("datetime",t.updated||jr.updated),o.classList.toggle("thumbnail",jr.thumbnail===t.versions[0].snapshot.url),r.value=t.name,r.readOnly=!c;var u=Ed.value.toLowerCase().trim();u&&zr.o(s,t.name,u,t.hasFuzzyMatch);var d=o.querySelector(".screenImage"),m=t.versions[0].snapshot;m[Symbol.for("thumbnail")]?Object.assign(d,m[Symbol.for("thumbnail")]):(l.classList.add("loading"),d.addEventListener("load",function e(t){t.target.removeEventListener("load",e),t.target.parentElement.classList.remove("loading")}),dg.observe(o)),e.appendChild(i)}function xe(){Array.from(Hd.querySelectorAll(".screenName")).forEach(function(e){e.parentNode.querySelector(".screenNameMirror").textContent=e.value})}function ke(){if(jr.textStyles&&jr.textStyles.length){var e=!1;hu.innerHTML="";for(var t=0;t<jr.textStyles.length;t++){var n=document.importNode(gg.content,!0),a=n.querySelector(".font"),i=n.querySelector(".styleName"),o=jr.textStyles[t];a.dataset.id=o.id,a.dataset.index=t,i.value=o.name,i.style.fontSize=o.scaledFontSize+"px",i.style.fontWeight=o.fontWeight,i.style.fontStyle=o.fontStyle,i.tabIndex=t+1;var r=o.fontStretch.split("-"),s=zr.H(o.weightText)+("normal"!==o.fontStyle?" "+zr.H(o.fontStyle):"");if(r="normal"!==o.fontStretch?" "+zr.H(r[0])+(r[1]||""):"",n.querySelector(".style").textContent=o.fontFamily+r+", "+s+", "+ne(o.fontSize,"text"),o.color){var l=jr.findColorEqual(o.color);n.querySelector(".color").textContent=l?"#"+l.name:o.color.toPlatformString(jr.type),n.querySelector(".colorPreview").style.backgroundColor=o.color.toCSS()}else n.querySelector(".colorContainer").classList.add("hidden");var c=[];if(o.textAlign&&"left"!==o.textAlign&&c.push(zr.H(o.textAlign)),o.lineHeight&&c.push("Line height: "+ne(o.lineHeight,"text")),o.letterSpacing){var d;d="android"===jr.type?zr.y(o.letterSpacing/jr.densityDivisor,2):ne(o.letterSpacing,"text"),c.push("Letter spacing: "+d)}n.querySelector(".subInfo").textContent=c.join(", "),e=e||!!c.length;var m=zr.w.canManageTextStyles(Er);i.readOnly=!m,m?(i.removeAttribute("data-tooltip"),i.removeAttribute("data-tooltip-type")):"pawn"===Er.role?(i.dataset.tooltip="Only organization members can edit text styles.",i.dataset.tooltipType="text"):(i.dataset.tooltip=u(Er,"edit text styles."),i.dataset.tooltipType="html"),hu.appendChild(n)}hu.classList.toggle("hasAdditionalProp",e)}}function qe(){var e=It(),t=_t()||"untagged"in Qd;if(xs.innerHTML="",jr.screens&&jr.screens.length&&(jr.tags.forEach(function(t){var n=document.createElement("div");n.classList.add("tag"),n.classList.toggle("selected",-1!==e.indexOf(t)),n.dataset.tag=zr.g(t),n.textContent=t,xs.appendChild(n)}),xs.childElementCount)){var n=document.createElement("div");n.classList.add("tag","untagged"),t&&n.classList.add("selected"),n.textContent="Untagged",xs.appendChild(n)}}function Te(e){var t=document.importNode(pg.content,!0),n=t.querySelector(".color");n.dataset.id=e.id,t.querySelector(".colorPreview").style.backgroundColor=e.toCSS(),t.querySelector(".colorName").value=e.name,t.querySelector(".colorHex").value=e.hexBase(),t.querySelector(".colorAlpha").value=Math.round(100*e.a),t.querySelector(".colorRGB").textContent=e.toRGBAString();var a=zr.w.canManageColors(Er);t.querySelector(".colorName").readOnly=!a,t.querySelector(".colorHex").readOnly=!a,t.querySelector(".colorAlpha").readOnly=!a,a?(n.removeAttribute("data-tooltip"),n.removeAttribute("data-tooltip-type")):"pawn"===Er.role?(n.dataset.tooltip="Only organization members can edit colors.",n.dataset.tooltipType="text"):(n.dataset.tooltip=u(Er,"edit colors."),n.dataset.tooltipType="html"),rl.appendChild(t)}function Ie(e,t){var n=new Xr.a(e),a=document.importNode(fg.content,!0),i=a.querySelector(".color"),o=i.querySelector(".addColor"),r=jr.findColorEqual(n);r&&(i.classList.add("added"),i.dataset.id=r.id,i.querySelector(".colorName").value="#"+r.name),i.dataset.color=n.toHexString(),i.dataset.rgbcolor=JSON.stringify(e),i.querySelector(".colorPreview").style.backgroundColor=n.toCSS();var s=zr.w.canManageColors(Er);i.querySelector(".colorName").readOnly=!s,o.classList.toggle("disabled",!s),D(o,!!r),"web"===jr.type?Zr.a.get(Qd.pid,"styleColorFormat").then(function(e){i.querySelector(".colorValue").textContent=n.toPlatformString(jr.type,e),t.appendChild(a),Cl.classList.toggle("empty",!Ll.childElementCount)}):(i.querySelector(".colorValue").textContent=n.toPlatformString(jr.type),t.appendChild(a))}function _e(e,t){var n=document.createElement("div");n.classList.add("gradient"),e.colorStops.forEach(function(e){Ie(e.color,n)}),t.appendChild(n)}function Fe(e,t){switch(e.fillType){case"color":Ie(e.color,t);break;case"gradient":_e(e.gradient,t)}}function Be(e){var t=document.importNode(hg.content,!0);t.querySelector(".shadowType").textContent=e.type,t.querySelector(".shadowOffsetX").textContent=ne(e.offsetX),t.querySelector(".shadowOffsetY").textContent=ne(e.offsetY),t.querySelector(".shadowBlurRadius").textContent=ne(e.blurRadius),t.querySelector(".shadowSpread").textContent=ne(e.spread),t.querySelector(".shadowBlurSpread").classList.toggle("hidden",!e.blurRadius&&!e.spread),Yl.appendChild(t),Ie(e.color,Yl)}function Ae(e,t){switch(e.format){case"jpg":case"png":return Xe(e,t)+("1x"===e.density?"":"@"+e.density);case"pdf":case"svg":return Xe(e,t)}}function Ne(e){return("svg"===e.format?Zr.a.get(jr.id,"showOptimizedSVG"):Promise.resolve(!1)).then(function(t){return t&&Object.assign(e,e.optimized),e.url}).then(fetch).then(function(e){return e.arrayBuffer()}).then(function(t){return Object.assign({data:t},e)})}function Oe(e,t){return e.contents.filter(function(e){return e.format===t}).map(function(t){return Object.assign({layerName:e.layerName,displayName:e.displayName},t)})}function Pe(e,t){var n;if("all"===e)n=[].concat.apply([],im.snapshot.assets.map(function(e){return Oe(e,t)}));else{var a=im.snapshot.assets.find(function(t){return t._id===e});if(!a)return Promise.reject("Asset with id "+e+" not found.");n=Oe(a,t)}return Promise.all(n.map(Ne))}function Ue(e,t){t=t||function(e){return e.displayName};var n={},a=new rs.a;return e.forEach(function(e){var i=t(e)+e.format;i in n||(n[i]=0);var o=++n[i];o>1&&((e=Object.assign({},e)).displayName+="_"+o,e.layerName+="_"+o),a.file(t(e)+"."+e.format,e.data)}),a}function Re(e,t){var n;return Pe(e,t).then(function(t){return n="all"===e?"assets_"+am.name:t[0].displayName,Ue(t,function(e){return"drawable-"+e.density+"/"+e.displayName})}).then(function(e){return e.generateAsync({type:"blob"})}).then(function(e){return{data:URL.createObjectURL(e),name:n+"_"+(new Date).toISOString().substr(0,10)+".zip"}})}function Me(e,t){var n;return Promise.all([Pe(e,t),Zr.a.get(Qd.pid,"assetNamingConvention")]).then(function(a){var i=a[0],o=a[1];if(1===i.length){var r=i[0];return n=Ae(r,o)+"."+r.format,new Blob([r.data],{type:zm[t]})}var s=(new Date).toISOString().substr(0,10),l=Ue(i,function(e){return Ae(e,o)});return n=("all"===e?"assets_"+am.name:Xe(i[0],o))+"_"+s+".zip",l.generateAsync({type:"blob"})}).then(function(e){return{data:URL.createObjectURL(e),name:n}})}function ze(e){var t=document.createElement("a");t.href=e.data,t.download=e.name||"assets.zip",t.classList.add("hidden"),document.body.appendChild(t),t.addEventListener("click",function(n){n.stopPropagation(),setTimeout(function(){URL.revokeObjectURL(e.data)},1500),t.remove()}),t.click()}function Ze(e,t,n){ms.a({projectId:jr.id,projectType:jr.type,format:t,assets:e,namingConvention:n})}function He(e){if(document.body.classList.contains("canDownload")&&e.button===Zeplin.MOUSE_BUTTON.LEFT&&e.target.classList.contains("exportAssets")){e.stopPropagation();var t,n=e.target.parentElement.dataset.format,a=e.target.parentElement.dataset.aid;if(Yr.a&&Yr.a.features&&Yr.a.features.downloadAssets){var i;if(0===(i="all"===a?im.snapshot.assets:[im.snapshot.assets.find(function(e){return e._id===a})]).length)return;"android"===jr.type?Zr.a.get(Qd.pid,"androidResFolderReminderSeen").then(function(e){e?Ze(i,n):(Zr.a.set(Qd.pid,"androidResFolderReminderSeen",!0),zd.addEventListener("click",function(e){e.stopPropagation(),Ze(i,n)}),Md.showModal())}):Zr.a.get(Qd.pid,"assetNamingConvention").then(function(e){Ze(i,n,e)})}else{switch(jr.type){case"android":if("svg"!==n){t=Re(a,n);break}case"ios":case"osx":case"web":default:t=Me(a,n)}t.then(ze)}}}function Ve(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){if(e.target.classList.contains("exportAssets"))return He(e);var t=e.target.closest(".asset");if(t){var n=t.nextElementSibling;n.style.height=t.classList.contains("expanded")?"0":Array.from(n.children).reduce(function(e,t){return e+t.getBoundingClientRect().height},0)+"px",t.classList.toggle("expanded")}}}function We(e){switch(e){case"mdpi":case"1x":case"web":case"unknown":default:return"1x";case"hdpi":return"1.5x";case"xhdpi":case"2x":return"2x";case"xxhdpi":case"3x":return"3x";case"xxxhdpi":case"4x":return"4x"}}function Ye(e){return new Promise(function(t,n){var a=document.createElement("img"),i=document.createElement("canvas").getContext("2d");a.addEventListener("load",function(){i.drawImage(a,0,0);for(var e=i.getImageData(0,0,a.width,a.height).data,n="light",o=0;o<e.length;o+=4)if(!(e[o+3]<45)&&(e[o]<"210"||e[o+1]<"210"||e[o+2]<"210")){n="dark";break}t({size:te(a.width,a.height,jr.dimensionSuffix),lightness:n})}),a.addEventListener("error",function(e){n(e)}),a.crossOrigin="anonymous",a.src=e.url})}function Ke(e){return e.find(function(e){return e.density===jr.baseDensity&&"png"===e.format})}function Ge(e){return e.filter(function(e){return"png"===e.format&&e.density!==jr.baseDensity}).map(function(e){return e.url+" "+We(e.density)}).join(", ")}function Je(e,t){var n=document.importNode(yg.content,!0),a=n.querySelector(".assetExporter");if(a.dataset.aid=e.aid,a.dataset.format=e.format,a.querySelector(".assetType").textContent=e.format,a.querySelector(".assetCount").textContent=e.count,"jpg"===e.format||"png"===e.format)a.querySelector(".assetCount").title=Array.from(e.densities).join(", ");else if("svg"===e.format){var i=a.querySelector(".assetStats");e.percent>0&&(i.textContent=e.percent),Zr.a.get(jr.id,"showOptimizedSVG").then(function(e){i.classList.toggle("hidden",!e)})}e.count>1&&a.querySelector(".assetCount").classList.add("plural"),t.appendChild(n)}function Xe(e,t){return"default"===t?e.displayName:"original"===t?e.layerName:Object(us.a)(e.layerName,t)}function $e(e,t,n){var a=document.importNode(bg.content,!0);return Promise.all([Ye(t),na()]).then(function(i){var o=i[0],r=i[1],s=a.querySelector(".assetPreview img"),l=a.querySelector(".assetExports");a.querySelector(".asset").dataset.id=e._id,a.querySelector(".assetPreview").classList.add(o.lightness),a.querySelector(".assetSize").textContent=o.size,s.src=t.url,s.srcset=Ge(e.contents),a.querySelector(".assetName").textContent=Xe(e,r);var c={},u=new Set;e.contents.forEach(function(e){e.format in c?c[e.format]++:c[e.format]=1,u.add(e.density)}),l.innerHTML="";for(var d in c){var m;"svg"===d&&(m=e.contents.find(function(e){return"svg"===e.format})),Je({aid:e._id,format:d,count:c[d],densities:u,percent:m&&m.optimized.percent},l)}n.appendChild(a)}).catch(function(e){console.error(e)})}function Qe(e){var t=new Xr.a(e).toHexString();$d.has(t)||(Ie(e,Ll),$d.add(t))}function et(e){var t=document.importNode(vg.content,!0),n=t.querySelector(".layer"),a=ee(e.rect.width),i=ee(e.rect.height),o=im.snapshot.width,r=im.snapshot.height;n.dataset.id=e._id,n.classList.toggle("wideEnough",a>120),n.classList.toggle("longEnough",i>120),n.classList.toggle("tooNarrow",a<3),n.classList.toggle("tooShort",i<3),n.style.width=ae(e.rect.width,o),n.querySelector(".layerWidth").textContent=ne(e.rect.width),n.style.height=ae(e.rect.height,r),n.querySelector(".layerHeight").textContent=ne(e.rect.height),n.style.left=ae(e.rect.x,o),n.style.top=ae(e.rect.y,r),tu.appendChild(t),"text"===e.type&&e.textStyles&&e.textStyles.forEach(function(e){e.style.color&&Qe(e.style.color)}),e.fills.forEach(function(e){switch(e.fillType){case"color":Qe(e.color);break;case"gradient":e.gradient.colorStops.forEach(function(e){Qe(e.color)})}}),Cl.classList.toggle("empty",!Ll.childElementCount)}function tt(e){e.classList.remove("open","resolved")}function nt(e){e.classList.remove("yellow","orange","peach","green","turquoise")}function at(e){var t=document.createElement("div"),n=Hm[new Xr.a(e.color).hexBase()];return t.classList.add("dot",n),t.dataset.id=e._id,t.textContent=e.name||"?",t.dataset.color=n,t.dataset.position=e.x<=.5?"left":"right",t.style.left="calc("+100*e.x+"% - 13px)",t.style.top="calc("+100*e.y+"% - 13px)",e.creator===Zeplin.user._id&&t.classList.add("dotOwner"),t.classList.add(e.status||"open"),Zc.appendChild(t),Zc.lastElementChild}function it(e,t){var n=gs.formatEmojiString($c.value.trim(),!0);if(n){km=!1;var a=e._id,i=Oa({author:Zeplin.user._id,note:n,created:Date.now(),updated:Date.now()},a);Da(t),i.style.opacity=.5,Na(),Kc.classList.remove("composing"),pm.comments=[{note:n}];var o=pm;delete o.name,fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+a+"/dots",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(o)}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Hr.a(e.status,t)})}).then(function(n){(om=n).x=o.x,om.y=o.y,om.color=o.color,om.comments[0].note=o.comments[0].note,Zr.a.set(Qd.pid,"lastNoteColorUsed",o.color.name),t.dataset.id=om._id,t.dataset.name=om.name,t.classList.add("dotOwner"),Hc.dataset.id=om._id,e.dots.push(om),Ee(e.dots),Xc.innerHTML="&nbsp;",$c.value="",Cm[a]&&Cm[a].comment&&(Cm[a].comment=null),i.dataset.id=om.comments[0]._id,i.querySelector(".commentLink").href=zr.I("project-screen",{url:{pid:jr.id,sid:a},query:{did:om._id,cmid:om.comments[0]._id}}),i.removeAttribute("style"),km=!0,mixpanel.track("Created dot")}).catch(function(e){i.remove(),Kc.classList.add("composing"),$c.focus(),Hr.b(e)})}}function ot(e,t,n,a){var i=document.querySelector(".dot[data-id='"+t+"']"),o=i.dataset.color;if(nt(i),i.classList.add(e),i.dataset.color=e,nt(Hc),Hc.classList.add(e),"undefined"!==t){var r=n._id;fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+r+"/dots/"+t,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({color:Vm[e]})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).then(function(){a.color=Vm[e],Ee(n.dots),Zr.a.set(Qd.pid,"lastNoteColorUsed",e),mixpanel.track("Changed dot color")}).catch(function(e){nt(i),i.classList.add(o),i.dataset.color=o,nt(Hc),Hc.classList.add(o),Hr.b(e)})}else pm.color=Vm[e]}function rt(e){dl.innerHTML="",e.tags=e.tags||[],e.tags.sort().forEach(function(e){var t=document.createElement("a");t.classList.add("tag"),t.dataset.tag=zr.g(e),t.textContent=e,t.href=zr.I("project-dashboard",{url:{pid:jr.id},query:{tag:[e]}}),t.dataset.linkType="inApp",dl.appendChild(t)});var t=document.importNode(Ru.content,!0),n=zr.w.canManageScreens(Er),a=t.querySelector("#manageTagsButton");a.classList.toggle("disabled",!n),n?(a.dataset.tooltip="Manage tags.",a.dataset.tooltipType="text"):(a.dataset.tooltip=u(Er,"organize screens using tags."),a.dataset.tooltipType="html"),a.addEventListener("click",function(){bo(e._id)}),dl.appendChild(t)}function st(e){if(e===am){if(ig.scrollTop=0,ig.innerHTML="",e.versions.reduce(pe,{}),im){var t=document.querySelector(".version[data-id='"+im._id+"']");t&&t.classList.add("selected")}Pc.classList.toggle("oldVersion",e.versions[0]._id!==im._id);var n=e.totalVersionCount-jr.allowedVersionCount;if(n>0){var a=document.importNode(document.getElementById("versionLimitExceeded").content,!0),i=a.querySelector(".versionLimitExceeded");i.classList.toggle("plural",n>1),i.querySelector(".remainingVersionCount").textContent=n,i.querySelector("a").addEventListener("click",function(){mixpanel.track("Clicked version limits learn more button")}),ig.appendChild(a)}else{var o=document.importNode(document.getElementById("initialCommit").content,!0);ig.appendChild(o)}Ku.classList.remove("loading")}}function lt(){am.totalVersionCount?st(am):he(am).then(st),pd.classList.add("hidden"),Zr.b.set("versionsTutorialSeen",!0),document.querySelector(".versionsToggle").classList.remove("hasNewVersions"),Zr.a.set(jr.id,am._id,"versionsLastSeen",new Date(am.versions[0].created)),Pc.classList.add("versionsShown"),Ku.classList.remove("collapsed"),xt()}function ct(){Ku.classList.toggle("collapsed")?Pc.classList.contains("oldVersion")?Ku.classList.add("compact"):Pc.classList.remove("versionsShown"):Ku.classList.contains("compact")?Ku.classList.remove("compact"):Pc.classList.remove("versionsShown"),xt()}function ut(e){var t=!("updateSelectedIndex"in(e=e||{}))||e.updateSelectedIndex,n=!("saveZoomLevel"in e)||e.saveZoomLevel;if(Bc.textContent=(100*mm).toFixed(),Fc.disabled=mm>=5,Nc.disabled=mm<=.25,yu.classList.toggle("pixelated",mm>=2),t){for(var a=0;a<Ac.childElementCount;a++)if(parseFloat(Ac.children[a].value)===mm){Ac.selectedIndex=a;break}Ac.childElementCount===a&&(Ac.selectedIndex=-1)}Eg||(requestAnimationFrame(function(){im&&bt(im.snapshot,"zoom"),Rc.classList.contains("zooming")?Mc.addEventListener("transitionend",function e(){Mc.removeEventListener("transitionend",e),Rc.classList.remove("zooming"),im&&bt(im.snapshot,"zoom"),xa()}):xa(),Eg=!1}),Eg=!0),n&&(clearTimeout(Sg),Sg=setTimeout(function(){Zr.a.set(Qd.pid,"zoomLevel",mm)},1e3))}function dt(e){if(ml.classList.toggle("hidden",!e),e){if(e.vertical){var t=e.vertical,n=t.numberOfCols,a=t.columnWidth+t.gutterWidth,i=Math.min(230*t.columnWidth/a,206);yl.style.width=Math.floor(i)+"px",bl.style.width=Math.ceil(230-i)+"px",fl.textContent=ne(t.columnWidth),hl.textContent=ne(t.gutterWidth),jl.textContent=ne(n*t.columnWidth+(n-!t.guttersOnOutside)*t.gutterWidth),El.textContent=""+n}else yl.removeAttribute("style"),bl.removeAttribute("style"),jl.textContent="",El.textContent="";if(e.horizontal){var o=e.horizontal,r=o.rowHeight+o.gutterHeight,s=Math.min(48*o.rowHeight/r,32);vl.style.height=Math.floor(s)+"px",Sl.style.height=Math.ceil(48-s)+"px",vl.textContent=ne(o.rowHeight),Sl.textContent=ne(o.gutterHeight)}pl.classList.toggle("v",!!e.vertical),pl.classList.toggle("h",!!e.horizontal)}}function mt(e){var t=wg.getContext("2d");if(t.clearRect(0,0,wg.width,wg.height),e.grid){wg.width=ee(e.width),wg.height=ee(e.height);var n=e.grid,a="rgba(238, 103, 35, 0.3)";if(n.vertical){var i,o=n.vertical,r=ee(o.columnWidth+o.gutterWidth),s=o.numberOfCols,l=ee(n.horizontalOffset+(o.guttersOnOutside?o.gutterWidth/2:0));n.horizontal&&!n.horizontal.gutterHeight||!n.vertical.gutterWidth?(a="rgba(0, 255, 255, 0.7)",i=1):i=ee(o.columnWidth),s=1===i?s+1:s,t.fillStyle=a;for(var c=l||r,u=0;u<s;u++)t.fillRect(c,0,i,wg.height),c+=r}if(n.horizontal){var d,m=n.horizontal,g=ee(m.rowHeight+m.gutterHeight),p=Math.round(wg.height/g),f=0|ee(n.horizontalOffset);n.vertical&&!n.vertical.gutterWidth||!n.horizontal.gutterHeight?(a="rgba(0, 255, 255, 0.7)",d=1):d=ee(m.rowHeight),p=wg.height-p*g>g-d?p+1:p,t.fillStyle=a;for(var h=1===d?g:0,y=0;y<p;y++)t.fillRect(f,h,wg.width-2*f,d),h+=g}}}function gt(e,t){var n={_id:t._id,name:e,opacity:1,borderRadius:0,blendMode:"normal",rect:{x:0,y:0,width:t.width,height:t.height},type:"shape",fills:[],borders:[],shadows:[]};return t.backgroundColor&&n.fills.push({fillType:"color",color:t.backgroundColor}),n}function pt(e){tu.innerHTML="",yu.width/mm===e.width&&yu.height/mm===e.height||(yu.src=""),yu.src=e.url}function ft(e){var t=20*mm;Rc.style.width=ee(e.width,{padding:240,unit:"px"}),Rc.style.height=ee(e.height,{padding:120,unit:"px"}),Rc.style.backgroundImage="linear-gradient(to bottom, transparent 0px, transparent "+2*mm+"px, #FFF "+2*mm+"px, #FFF "+t+"px), linear-gradient(to right, #C8C3C7 0, #C8C3C7 "+2*mm+"px, #FFF "+2*mm+"px, #FFF "+t+"px)",Rc.style.backgroundPosition=window.innerWidth/2-151-mm*e.width/2+"px "+(-3*t+58)+"px",Rc.style.backgroundSize=t+"px "+t+"px",Mc.style.width=ee(e.width,{unit:"px"}),Mc.style.height=ee(e.height,{unit:"px"}),yu.style.width=ee(e.width,{unit:"px"}),yu.style.height=ee(e.height,{unit:"px"})}function ht(e){if($d=new Set,Ll.innerHTML="",vd.innerHTML="",tu.innerHTML="",e.layers&&(e.layers.forEach(et),xr)){var t=e.layers.find(function(e){return e.sourceId===xr});xr=null,t&&(t=document.querySelector(".layer[data-id='"+t._id+"']"))&&aa(t)}Sd.classList.toggle("hidden",!e.backgroundColor),e.backgroundColor&&Ie(e.backgroundColor,vd),mt(e)}function yt(e){if(xl.innerHTML="",kl.innerHTML="",void 0===e.assets);else if(Array.isArray(e.assets)&&!e.assets.length)Dl.classList.remove("loading"),Dl.classList.add("empty"),Dl.dataset.source=am.source;else{sl.classList.toggle("densityMismatch",e.density!==jr.density),Dl.classList.add("loading"),Dl.classList.remove("empty");var t={},n=new Set,a=[];e.assets.forEach(function(e){var i=Ke(e.contents);i&&(a.push(ia(e).then(function(){return $e(e,i,xl)})),e.contents.forEach(function(e){e.format in t?t[e.format]++:t[e.format]=1,n.add(e.density)}))}),Promise.race(a).then(function(){Dl.classList.remove("loading","empty")});for(var i in t)Je({aid:"all",format:i,count:t[i],densities:n},kl)}}function bt(e,t){Cg[t=t||"layers"].forEach(function(t){t(e)})}function vt(e,t){Lg?zr.C("Already sent!",t):(Lg=!0,fetch(Zeplin.urls.baseURL+"/organizations/"+e+"/requests/join",{method:"POST",headers:Zeplin.headers}).then(function(){zr.C("Invitation sent!",t)}).catch(function(){zr.C("Invitation sent!",t)}))}function St(e){"dismissed"!==sessionStorage.getItem("transitionBannerStatus"+jr.id)&&Ur.b({content:"This project now belongs to an organization but looks like you're not a member yet. For "+(1===e?"a day":e+" days")+", you'll be able to access resources but if you're a designer or a developer, <a href='#'>request an invite</a> from admins.",type:"info",contentType:"html",group:"transition",closeCallback:function(){sessionStorage.setItem("transitionBannerStatus"+jr.id,"dismissed")},bodyCallbacks:{a:function(e){e.preventDefault(),vt(wr._id,document.querySelector("main")),sessionStorage.setItem("transitionBannerStatus"+jr.id,"dismissed"),Ur.a("transition")}}})}function jt(){Zr.a.get(jr.id,"noResourceInfoDismissed").then(function(e){var t=document.getElementById("infoContent");if(!e&&!t.querySelector(".noResourceInfo")){var n=Mr.a({content:"This project belongs to an organization but looks like you're not a member.If you're a developer or a designer and want to access these resources, please <a href='#'>request an invite</a> from admins!",type:"html",hideCallback:function(){Zr.a.set(jr.id,"noResourceInfoDismissed",!0)},bodyCallbacks:{a:function(e){e.preventDefault(),vt(wr._id,Gu)}}});n.classList.add("noResourceInfo"),t.insertBefore(n,document.querySelector(".screenDescriptionContainer"))}})}function Et(e){(e.totalVersionCount?Promise.resolve(e):he(e)).then(function(e){Pc.classList.contains("versionsShown")?(st(e),Zr.a.set(jr.id,e._id,"versionsLastSeen",new Date(e.versions[0].created))):Dt(e)})}function wt(e){clearTimeout(Dg),Dg=setTimeout(Et,300,e)}function Ct(e,t){clearTimeout(xg);var n=(t=t||e.versions[0]).snapshot,a=n?"layers":"initial";if(n&&im._id===t._id&&bt(n,"partial"),"pawn"===Er.role&&wr&&wr.transitionFinished)return n&&(delete n.layers,delete n.assets),bt(n,a),jt(),Cl.classList.remove("loading","empty"),Cl.classList.add("restricted"),Dl.classList.remove("loading","empty"),void Dl.classList.add("restricted");me(t._id),n&&"layers"in n?(dt(n.grid),bt(n,a),oe()):xg=setTimeout(function(){ie(),re(e,t).then(function(e){e&&im._id===t._id&&(dt(e.grid),bt(e,a),oe())})},300)}function Lt(e){var t;return Zc.innerHTML="","dots"in e?(e.dots.forEach(at),t=Zr.a.get(jr.id,"dotListingsStatusFilter").then(function(t){document.querySelector('input[type="radio"][name="dotListingsStatusFilter"][value="'+t+'"]').checked=!0,Zc.dataset.statusFilter=t,Ee(e.dots)})):t=new Promise(function(t){clearTimeout(kg),kg=setTimeout(function(){we(e).then(function(){t()})},300)}),t}function Dt(e){var t=document.querySelector(".versionsAuntie");t&&t.remove(),t=null,Zr.a.get(jr.id,e._id,"versionsLastSeen").then(function(n){if(!n)return Zr.a.set(jr.id,e._id,"versionsLastSeen",new Date(e.versions[0].created));var a=e.versions.filter(function(e){return new Date(e.created)>n});if(document.querySelector(".versionsToggle").classList.toggle("hasNewVersions",a.length),a.length){var i=a.filter(function(e){return e.creator===Er.user._id}),o=i.find(function(e){return!e.commit||!e.commit.message}),r=a.length-i.length;o&&"dismissed"!==sessionStorage.getItem("versionsCommitAuntieStatus")?t=Mr.a({content:new Date-new Date(o.created)>36e5?"Looks like you uploaded a version <time is='time-ago' datetime='"+o.created+"'></time>. Add a commit message and share what has changed!":"New version! Add a commit message and share what has changed.",type:"html",buttonText:"Got it!",popover:!0,hideCallback:function(){sessionStorage.setItem("versionsCommitAuntieStatus","dismissed")}}):r&&"dismissed"!==sessionStorage.getItem("newVersionsAuntieStatus")&&(t=Mr.a({content:"There "+(r>1?"are ":"is ")+(r>1?r:"a")+" new version"+(r>1?"s":"")+" since you last visited!",buttonText:"Got it!",popover:!0,hideCallback:function(){sessionStorage.setItem("newVersionsAuntieStatus","dismissed")}})),t&&(t.classList.add("versionsAuntie"),document.body.appendChild(t))}})}function xt(){return!(!Bm||!Nm)&&("dashboard"===sm||"styleguide"===sm?Kr.a.setViewMenuContext(sm):Pc.classList.contains("versionsShown")?Kr.a.setViewMenuContext("screen-view",{versionsShown:!0}):Kr.a.setViewMenuContext("screen-view"),!0)}function kt(){Bm&&Nm&&(Kr.a.addRecentProject(jr),Kr.a.bindProjectPreferences(jr))}function qt(){if(Bm&&Nm){var e=jr.findUser(Zeplin.user._id),t=[],n=[];zr.w.canDeleteProject(e)?t.push("deleteProject"):n.push("deleteProject"),zr.w.canLeaveProject(e)?t.push("leaveProject"):n.push("leaveProject"),am?(zr.w.canManageScreens(e)&&(t.push("renameScreen","deleteScreen"),am.tags.length?(t.push("manageTags"),n.push("addTag")):(n.push("manageTags"),t.push("addTag"))),!zr.w.canUpdateProject(e)||jr.thumbnail&&jr.thumbnail===am.versions[0].snapshot.url?n.push("setAsThumbnail"):t.push("setAsThumbnail")):n.push("renameScreen","deleteScreen","setAsThumbnail","addTag","manageTags"),Kr.a.updateEditCapabilities({on:t,off:n})}}function Tt(e){CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||(clearTimeout(cg),window.removeEventListener("resize",Le)),window.removeEventListener("resize",hn);var t=Q(e);if(!t&&(It().length>0&&(bn(),yn(),t=Q(e)),!t))return Rr.a({message:"Screen not available anymore.",defer:!0}),void R(jr.id,vn());Cr=t,nm=parseInt(t.dataset.viewIndex,10),_n(),(am=jr.screens.find(function(e){return e._id===Cr.dataset.id})).description=am.description||"",sm="screen",Hs.dataset.selection="screen",Ys.disabled=0===nm,Ks.disabled=nm===mn()-1,cl.value=am.description,Va(am),ul.setAttribute("datetime",am.updated||jr.updated),rt(am);var n=vn();return Ed.value.length&&(n.q=Ed.value),Ws.href=zr.I("project-dashboard",{url:{pid:jr.id},query:n}),Ws.querySelector("span").textContent="Dashboard",Gs.textContent=am.name,Gs.title=am.name,j(),w(),L(),im=am.versions[0],Ct(am),wt(am),!xt()&&_m&&Yr.a.ipcRenderer.send("popout:menuitem:enabled",!0),qt(),Lt(am).then(gr)}function It(){return Array.from(document.querySelectorAll(".tag.selected:not(.untagged)"),function(e){return zr.G(e.dataset.tag)})}function _t(){return document.querySelector(".tag.untagged.selected")}function Ft(e){return function(t){return e.reduce(function(e,n){return e&&t.tags&&t.tags.includes(n)},!0)}}function Bt(e,t){var n;return t?("tags"in t?n=Ft(t.tags):"untagged"in t&&(n=function(e){return!e.tags||!e.tags.length}),e.map(function(e){return Object.assign(e,{screens:e.screens.filter(n)})}).filter(function(e){return!!e.screens.length})):e}function At(e,t,n,a){e&&zr.w.canManageScreens(Er)&&fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/sections/"+e+"/screens/order",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(n)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).catch(function(n){Hr.b(n),Pt(e,t,a)})}function Nt(e,t,n){e&&zr.w.canManageScreens(Er)&&(jr.addScreensToSection(e,t,n),yn())}function Ot(e,t,n){if(e&&zr.w.canManageScreens(Er)){var a=JSON.parse(JSON.stringify(jr.sections));Nt(e,t,n),fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/sections/"+e+"/screens",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({index:n,screens:t})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).catch(function(e){jr.sections=a,yn(),Hr.b(e)})}}function Pt(e,t,n){if(e){jr.updateScreenOrder(e,t,n);var a=sn(e),i=a.querySelector(".screenGrid"),o=parseInt(a.dataset.viewIndexOffset,10);jr.findSection(e).screens.forEach(function(e,t){var n=Q(e);n.dataset.index=t,n.dataset.viewIndex=o+t,i.appendChild(n)})}}function Ut(){var e=document.querySelector(".screenMenu");e&&e.remove()}function Rt(){var e=document.querySelector(".sectionMenu");e&&e.remove()}function Mt(e){if(e)return fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/sections/"+e,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})})}function zt(e,t){if(e){var n=jr.removeSection(e);return yn(),Mt(e).catch(function(e){Hr.b(e),jr.addSection(n,t),yn()})}}function Zt(e,t){var n=e.querySelector(".sectionHeader"),a=document.importNode(Ig.content,!0),i=a.querySelector(".sectionMenu");n.getBoundingClientRect().top+150>window.innerHeight&&i.classList.add("toTop"),i.classList.add("open");var o=n.querySelector(".sectionActions");o.parentElement.insertBefore(a,o),i.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".menuitem");if(t){var n=e.target.closest(".section");switch(n.classList.contains("collapsed")&&Wt(n),t.dataset.action){case"edit-description":var a=n.querySelector(".sectionHeader .sectionDescription"),i=a.closest(".sectionDescriptionForm");n.classList.contains("hasDescription")||(cn(a,"A sweet, short description"),n.classList.add("hasDescription")),i.classList.add("editing"),i.querySelector(".counter").textContent=a.maxLength-a.value.length,zr.n(a);break;case"rename":zr.n(n.querySelector(".sectionHeader .sectionName"));break;case"delete":zt(n.dataset.id,n.dataset.index)}}}})}function Ht(e,t,n){n=void 0===n||n;var a="collapse"===t;e.classList.toggle("collapsed",a);var i=e.dataset.id;i&&n&&(Xd[i]=a,Zr.a.set(jr.id,"sectionsCollapseState",Xd))}function Vt(e,t){Ht(e,"collapse",t)}function Wt(e,t){Ht(e,"expand",t)}function Yt(e){return e&&Xd[e]}function Kt(e){if(zr.w.canManageScreens(Er)&&!document.querySelector(".tag.selected")&&1!==jr.screens.length&&!Ed.value.toLowerCase().trim()&&!Rd.querySelector("input:checked"))if(e.target.classList.contains("screen")){var t,n=e.target.getBoundingClientRect();if(e.clientX<=n.left)Vd.style.left=n.left-24+"px",t=e.target.dataset.id;else{if(!(e.clientX>=n.right))return;Vd.style.left=n.right+"px",t=$(parseInt(e.target.dataset.viewIndex,10)+1).dataset.id}Vd.dataset.nextScreenId=t,Vd.style.top=Ls.scrollTop+n.top-30+"px",Vd.classList.remove("hidden")}else Vd.classList.add("hidden")}function Gt(e){if(Do(e)){var t=It(),n=JSON.parse(JSON.stringify(jr.sections)),a={name:e,screens:jr.screens.filter(Ft([e])).map(function(e){return e._id})};jr.addSection(a,1),t.length>0&&(bn(),jn()),Promise.all([yn().then(function(){var e=Hd.querySelector(".section:not(.default)");return e&&zr.n(e.querySelector(".sectionName")),e}),Jt(a,1)]).then(function(t){var n=t[0],i=t[1];a._id=i._id,n&&(n.dataset.id=i._id),Co(e)}).catch(function(e){jr.sections=n,R(jr.id,t.length>0?{tag:t}:{}),Hr.b(e)})}}function Jt(e,t){return fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/sections/",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({name:e.name,screens:e.screens,index:t})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Hr.a(e.status,t)})})}function Xt(e,t){if(e){var n=JSON.parse(JSON.stringify(jr.sections)),a=jr.splitSection(e,t,"Untitled section");a.new=!0,yn().then(function(){var t=sn(e),i=t?t.nextElementSibling:Hd.firstElementChild,o=jr.sections.findIndex(function(t){return t._id===e})+1;zr.n(i.querySelector(".sectionName")),Jt(a,o).then(function(e){a._id=e._id,i.dataset.id=e._id}).catch(function(e){jr.sections=n,yn(),Hr.b(e)})})}}function $t(e,t){if(e)return fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/sections/"+e,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(t)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})})}function Qt(e,t){if(e._id){var n=e.name;e.name=t,$t(e._id,{name:t}).catch(function(t){e.name=n,yn().then(function(){Hr.b(t,{dialogCallback:function(){var t=sn(e._id);zr.n(t.querySelector(".sectionName"))}})})})}}function en(e,t){if(e._id){var n=e.description;e.description=t,$t(e._id,{description:t}).catch(function(t){e.description=n,yn().then(function(){Hr.b(t,{dialogCallback:function(){var t=sn(e._id);zr.n(t.querySelector(".sectionDescription"))}})})})}}function tn(e){var t=e.querySelector(".screenGrid"),n=e.querySelector(".sectionHeader");n.addEventListener("click",function(t){if(t.target.matches(".sectionDescriptionForm .mirror")){var n=t.target.closest(".sectionDescriptionForm"),a=t.target.nextElementSibling;return ln(a),n.classList.add("editing"),n.querySelector(".counter").textContent=a.maxLength-a.value.length,void a.focus()}var i=t.target.closest("button[data-action]");if(i)switch(zo(),t.stopPropagation(),i.dataset.action){case"open-menu":Zt(e,i);break;case"collapse":e.classList.contains("collapsed")?Wt(e):Vt(e)}else e.classList.contains("collapsed")&&(Wt(e),t.stopPropagation())}),n.addEventListener("blur",function(t){if(zr.w.canManageScreens(Er)&&"input"===t.target.tagName.toLowerCase()){t.preventDefault();var n=e.dataset.id,a=jr.findSection(n);if(a)if(t.target.classList.contains("sectionName")){var i=t.target.value.trim();if(!0===a.new&&delete a.new,i===a.name)return;i?(cn(t.target,i),Qt(a,i)):cn(t.target,a.name)}else if(t.target.classList.contains("sectionDescription")){var o=t.target.value.trim();if(e.classList.toggle("hasDescription",o.length>0),t.target.closest(".sectionDescriptionForm").classList.remove("editing"),cn(t.target,o),o===a.description)return;en(a,o)}}},!0),n.addEventListener("submit",function(e){if(zr.w.canManageScreens(Er)){e.preventDefault();var t=e.target.querySelector("input");t&&t.blur()}}),n.addEventListener("keydown",function(t){if(zr.w.canManageScreens(Er)){t.stopPropagation();var n=t.target.closest("input");if(n&&-1!==["sectionName","sectionDescription"].indexOf(n.name))switch(t.keyCode){case Zeplin.KEY_CODE.ESC:var a=jr.findSection(e.dataset.id);if(!a)return;if(!0===a.new)return void zt(a._id,parseInt(e.dataset.index,10));cn(n,a["sectionName"===n.name?"name":"description"]),n.blur()}}});var a=n.querySelector(".sectionDescriptionForm .counter");n.addEventListener("input",function(e){ln(e.target),e.target.classList.contains("sectionDescription")&&(a.textContent=e.target.maxLength-e.target.value.length)}),t.addEventListener("mouseover",Kt),t.addEventListener("mouseover",function(e){var t=e.target.closest(".screenLink");t&&(t.classList.add("hover"),t.classList.remove("highlight"))}),t.addEventListener("mouseout",function(e){var t=e.target.closest(".screenLink");t&&t.classList.remove("hover")}),t.addEventListener("keydown",function(e){if(zr.w.canManageScreens(Er)&&(e.stopPropagation(),e.target.classList.contains("screenName")))switch(e.keyCode){case Zeplin.KEY_CODE.ESC:var t=e.target.closest(".screen").dataset.id;e.target.value=jr.screens.find(function(e){return e._id===t}).name,e.target.blur()}}),t.addEventListener("submit",function(e){zr.w.canManageScreens(Er)&&(e.preventDefault(),e.target.querySelector(".screenName").blur())}),t.addEventListener("blur",function(e){if(zr.w.canManageScreens(Er)&&(e.preventDefault(),e.target.classList.contains("screenName"))){var t=e.target.closest(".screen").dataset.id,n=jr.screens.find(function(e){return e._id===t}),a=e.target.closest(".screen").querySelector(".screenNameMirror");if(!e.target.value)return a.classList.remove("hidden"),void(e.target.value=n.name);if(n.name!==e.target.value){a.classList.add("hidden");var i=n.name;n.name=e.target.value,yn(),Ui(t,n.name,i)}else a.classList.remove("hidden")}},!0),t.addEventListener("contextmenu",function(e){zo();var t=e.target.closest(".screenLink");if(t){var n=t.parentElement;e.preventDefault();var a=document.importNode(_g.content,!0),i=a.querySelector(".screenMenu");i.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".menuitem");if(t){switch(e.stopPropagation(),t.dataset.action){case"thumbnail":Mi(n.dataset.id);break;case"delete":Rr.a({title:'Delete  "'+n.querySelector(".screenName").value+'"?',message:"Deleted screens cannot be restored.",done:{name:"DELETE",cb:function(){n.classList.remove("menuOpen"),Hi(n.dataset.id).then(function(){qe(),Sn(It())})}},cancel:{name:"CANCEL"}});break;case"manageTags":bo(n.dataset.id);break;case"download":Zi(n.dataset.id);break;case"move-screen":var a=wr?wr._id:null,i=n.getBoundingClientRect(),o=Ss.a.h(js.a,{top:i.top+i.height/2,left:i.left+172,oid:a,sourceProject:{id:jr.id,name:jr.name},sids:[n.dataset.id],projectType:jr.type,density:jr.density,onMove:function(){var e=jr.findScreenSection(n.dataset.id);jr.removeScreen(e._id,n.dataset.id),qe(),Sn(It())},onClose:function(){n.classList.remove("menuOpen"),Ls.classList.remove("noScroll")}});n.classList.add("menuOpen"),Ls.classList.add("noScroll"),Ss.a.render(o,document.body)}setTimeout(function(){Ut()},80)}}});var o=zr.w.canUpdateProject(Er),r=zr.w.canManageScreens(Er),s=zr.w.canMoveScreens(Er);i.querySelector(".menuitem[data-action='thumbnail']").classList.toggle("hidden",!o),i.querySelector(".menuitem[data-action='manageTags']").classList.toggle("hidden",!r),i.querySelector(".menuitem[data-action='delete']").classList.toggle("hidden",!r),i.querySelector(".menuitem[data-action='move-screen']").classList.toggle("hidden",!s);var l=yo(n.dataset.id);i.classList.toggle("taglessScreen",!l.tags||0===l.tags.length),n.appendChild(a),nr(i,Wu,n,e)}})}function nn(e){return{screens:e,type:"default"}}function an(e){var t=[],n={};return e.forEach(function(e){var a,i=zr.l(new Date(e.updated));i in n?a=n[i]:(t.push(i),a=n[i]=[]),a.push(e)},{}),t.map(function(e){return{name:zr.H(e),screens:n[e],type:"timeline"}})}function on(){if(!jr.screens.length)return[];var e=jr.sections.map(function(e){return e=Object.assign({},e),e.screens=e.screens.map(function(e){return jr.findScreen(e)}),e.type="user",e});return e[0].screens.length>0?e[0].type="default":e.splice(0,1),e}function rn(e){if((e=e||{}).searchTerm){var t={},n=jr.screens.filter(function(n){var a=zr.c(e.searchTerm,n.name);return t[n._id]=a.score,n.hasFuzzyMatch=a.hasFuzzyMatch,a.score>0}).sort(function(e,n){return t[e._id]<t[n._id]?1:t[e._id]>t[n._id]?-1:0});return n.length>0?[nn(n)]:[]}var a;return a=e.sortBy?"lastUpdated"===e.sortBy?an(jr.screens.sort(zr.D[e.sortBy])):[nn(jr.screens.sort(zr.D[e.sortBy]))]:on(),e.tagFilter&&(a=Bt(a,e.tagFilter)),a}function sn(e){return Hd.querySelector(".section[data-id='"+e+"']")}function ln(e,t){var n=e.parentElement.querySelector(".mirror");t?n.innerHTML=Fa(e.value.replace(/ /g," ")):n.textContent=e.value.replace(/ /g," ")}function cn(e,t){e.value=t||"",ln(e,!0)}function un(e,t,n){var a=document.importNode(Zd.content,!0),i=a.querySelector(".section"),o=a.querySelector(".screenGrid"),r=a.querySelector(".sectionName"),s=a.querySelector(".sectionDescription"),l=a.querySelector(".screenCount"),c=zr.w.canManageScreens(Er);cn(r,e.name),e._id&&(i.dataset.id=e._id),"user"===e.type&&(r.readOnly=!c,s.readOnly=!c,e.description&&e.description.length&&(cn(s,e.description),i.classList.add("hasDescription")),e.screens.length>1&&(l.textContent=e.screens.length),i.classList.toggle("empty",0===e.screens.length)),Yt(e._id)&&!i.classList.contains("empty")?Vt(i):Wt(i),i.classList.add(e.type),i.dataset.index=t,i.dataset.viewIndexOffset=n,e.screens.forEach(function(e,t){De(o,e,t,n)}),Hd.appendChild(a),tn(i)}function dn(){var e={};Ed.value&&(e.searchTerm=Ed.value.toLowerCase().trim());var t=Rd.querySelector("input:checked");t&&(e.sortBy=t.name);var n=It();return n.length?e.tagFilter={tags:n}:_t()&&(e.tagFilter={untagged:!0}),e}function mn(){return Hd.querySelectorAll(".screen").length}function gn(e,t,n){if(e)return jr.updateSectionOrder(e,t),yn(),fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/sections/order",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({sections:[{_id:e,to:parseInt(t,10)}]})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).catch(function(t){jr.updateSectionOrder(e,n),yn(),Hr.b(t)})}function pn(e,t){var n=e.getBoundingClientRect();Fg.style.top=Ls.scrollTop+n.top-30+"px",Fg.style.left=t?n.right+11+"px":n.left-13+"px",Fg.classList.remove("hidden")}function fn(){if(Array.from(Hd.querySelectorAll(".screenGrid")).forEach(function(e){fs.a.disable(e.dataset.dragId)}),Hd.innerHTML="",Vd.classList.add("hidden"),!jr.screens||!jr.screens.length)return document.querySelector(".projectOverview").classList.add("empty"),void(wu.disabled=!0);document.querySelector(".projectOverview").classList.remove("empty"),document.querySelector(".noIntersection").removeAttribute("data-empty-for"),wu.disabled=!1;var e=dn(),t=rn(e);"tagFilter"in e&&!t.length&&(document.querySelector(".noIntersection").dataset.emptyFor=_t()?"untagged":"tagged"),Hd.classList.toggle("locked","sortBy"in e);var n=0;t.forEach(function(e,t){un(e,t,n),n+=e.screens.length}),fs.a.enable({containers:Array.from(Hd.querySelectorAll(".screenGrid")),dropTargets:Array.from(Hd.querySelectorAll(".section")),root:Ls,canGrab:function(){return zr.w.canManageScreens(Er)&&1!==jr.screens.length},onGrab:function(e,t){t.style.height="",xe();var n=e.getBoundingClientRect(),a=t.getBoundingClientRect();Tg=parseInt(e.dataset.index,10),qg=e.closest(".section").dataset.id,pn(e,a.left>n.left),document.body.classList.add("dragging")},onDrop:function(e,t,n){Fg.classList.add("hidden"),document.body.classList.remove("dragging");var a=t.dataset.id,i=t.closest(".section").dataset.id;if(qg&&i){if(i===qg){var o=parseInt(t.dataset.index,10);if(o===Tg)return;var r={screens:[{_id:a,to:parseInt(Tg,10)}]};Pt(qg,a,Tg),At(qg,a,r,o)}else Ot(qg,[a],Tg);qg=null,Tg=null}},onMove:function(e,t,n,a,i){var o;if("sortBy"in dn()?o="Unselect sort option to reorder":document.querySelector(".tag.selected")?o="Unselect tags to reorder":Ed.value.toLowerCase().trim()&&(o="Reset search to reorder"),o)document.querySelector(".toastContainer")||zr.C(o,document.querySelector("main"));else{Array.from(Hd.querySelectorAll(".section.dropTarget")).forEach(function(e){e.classList.remove("dropTarget")});var r=i.getBoundingClientRect();if(a){var s=a.getBoundingClientRect(),l=parseInt(a.dataset.index,10),c=parseInt(t.dataset.index,10),u=r.left>s.left,d=0;n===e?d=u?l<c?1:0:l<=c?0:-1:u&&(d=1),Tg=l+d,qg=n.closest(".section").dataset.id,pn(a,u)}else if(n){var m=n.querySelectorAll(".screen").length-1;if(n.classList.contains("section")&&(n.classList.contains("empty")||n.classList.contains("collapsed")))return qg=n.dataset.id,Tg=n.classList.contains("collapsed")?m+1:0,Fg.classList.add("hidden"),void n.classList.add("dropTarget");var g=n.querySelector('.screen[data-index="'+m+'"]'),p=g.getBoundingClientRect();r.bottom>p.top&&r.left>p.left&&(qg=n.closest(".section").dataset.id,Tg=m,n!==e&&(Tg+=1),pn(g,!0))}}}}),A(),hn()}function hn(){var e=Hd.querySelector(".section:not(.collapsed) .screenLink");if(e){var t=e.getBoundingClientRect();Og=Math.max(36,t.left)+"px"}Array.from(Hd.querySelectorAll(".sectionHeader")).forEach(function(e){e.style.paddingLeft=Og,e.style.paddingRight=Og})}function yn(e){var t=!0;return e&&"immediate"in e&&(t=e.immediate),new Promise(function(e,n){t?(fn(),e()):(clearTimeout(Ng),Ng=setTimeout(function(){fn(),e()},300))})}function bn(){em="",Array.from(document.querySelectorAll(".tag.selected")).forEach(function(e){e.classList.remove("selected")})}function vn(){return _t()?{untagged:"true"}:em||{}}function Sn(e){bn(),e&&(em={tag:e},(e=[].concat(e).filter(function(e){return jr.tags.indexOf(e)>-1})).forEach(function(e){document.querySelector(".tag[data-tag='"+decodeURIComponent(zr.g(e)+"']")).classList.add("selected")})),yn()}function jn(){var e=It();em=e.length?{tag:e}:{},_t()?Qd.untagged="true":delete Qd.untagged,R(jr.id,vn())}function En(){return!Vr.c()||!Hc.classList.contains("hidden")||!Su.classList.contains("hidden")||!qu.classList.contains("hidden")||Cd.classList.contains("focus")}function wn(){_n(),Bn(),La(),Li(),zo(),cl.submitEdits(),vo(),ps.close(),gs.close()}function Cn(){Tm=!1,qm?(zc.src=Zeplin.urls.appURL+"/img/grab.svg",document.body.classList.contains("mac")||(Rc.classList.remove("panMode"),Rc.classList.add("holdingSpace"))):Rc.classList.remove("panMode"),document.removeEventListener("mouseup",Cn)}function Ln(){_n(),zo(),Ug=0,Ir=0,_r=0,Su.classList.remove("hidden"),ju.value="",ju.focus(),Object.assign(ym,jr.screens),ym.sort(zr.D.name),Cu.classList.toggle("noScreen",!ym.length),Eu.innerHTML="",ym.forEach(Ci),ym.length&&(Tr=ym[0],Eu.querySelector(".screenSuggestion[data-id='"+Tr._id+"']").classList.add("selected"))}function Dn(){if(Li(),!Q(Tr._id))return bn(),Ed.value="",wd.classList.remove("searching"),Cd.classList.remove("focus"),void yn();z(jr.id,Tr._id)}function xn(e){var t;document.querySelector(".screenSuggestion.selected").classList.remove("selected"),Ug=e,Tr=ym[e],(t=document.querySelector(".screenSuggestion[data-id='"+Tr._id+"']")).classList.add("selected"),zr.z(t)}function kn(){Gs.style.width=getComputedStyle(Gs).width,Vs.addEventListener("mouseleave",qn)}function qn(){Vs.removeEventListener("mouseleave",qn),Gs.removeAttribute("style")}function Tn(){ps.close(),gs.close(),gm&&!om&&km&&(gm.remove(),pm=null),Uc.removeEventListener("scroll",xa),om=null,gm=null,Yc.innerHTML="",Yc.scrollTop=0,Hc.classList.add("hidden")}function In(){!Hc.classList.contains("hidden")&&am&&(Cm[am._id]=Cm[am._id]||{},om?(Cm[am._id].reply=Cm[am._id].reply||{},Cm[am._id].reply[om._id]=$c.value):Cm[am._id].comment=$c.value)}function _n(){In(),Tn()}function Fn(){if(gm){var e=gm;Tn(),Wn(e)}}function Bn(e){e=e||{},An(),nu.classList.add("hidden"),e.willReselect||(sl.classList.add("resourceView"),sl.classList.remove("layerView")),Mc.removeEventListener("mouseover",zn),document.removeEventListener("keydown",Zn),document.removeEventListener("keyup",Zn),document.removeEventListener("keydown",Hn),Rc.removeEventListener("mousemove",Vn),um=!1,Mc.classList.remove("measuring"),lm&&(lm.classList.remove("selected"),lm=null,Dr=null,Lr=null,Lm=null,Dm=null),Array.from(document.querySelectorAll(".assetStyle")).forEach(function(e){e.dataset.exportType=""})}function An(){su.classList.add("hidden"),cu.classList.add("hidden"),du.classList.add("hidden"),gu.classList.add("hidden")}function Nn(e,t){return e.rect.x===t.rect.x&&e.rect.y===t.rect.y&&e.rect.width===t.rect.width&&e.rect.height===t.rect.height}function On(e,t){if(!t)return[e];var n={left:Math.min(e.rect.x,t.rect.x),top:Math.min(e.rect.y,t.rect.y),right:Math.max(e.rect.x+e.rect.width,t.rect.x+t.rect.width),bottom:Math.max(e.rect.y+e.rect.height,t.rect.y+t.rect.height)},a=im.snapshot.layers.filter(function(a){var i=a.rect.x+a.rect.width,o=a.rect.y+a.rect.height;return a.rect.x<=n.left&&a.rect.y<=n.top&&i>=n.right&&o>=n.bottom&&(e!==t||!Nn(a,e))});return a.length?a.sort(function(e,t){return e.rect.width*e.rect.height-t.rect.width*t.rect.height}):[im.snapshot.layers[0]]}function Pn(e){var t=document.querySelector(".parent");t&&t.classList.remove("parent"),(t=e?document.querySelector(".layer[data-id='"+e+"']"):Mc)&&t.classList.add("parent")}function Un(e,t,n){var a=im.snapshot.width,i=e.rect,o=i.x,r=o+i.width,s=t.rect,l=s.x,c=l+s.width,u=!1,d=-1,m=-1;if(c<o)d=o-c,su.style.left=ae(c,a);else if(l<o&&c>r)d=o-l,su.style.left=ae(l,a),m=c-r,cu.style.left=ae(r,a),du.style.left=ae((o+r)/2,a),gu.style.left=ae((o+r)/2,a),u=!0;else if(l>o&&c<r)d=l-o,su.style.left=ae(o,a),m=r-c,cu.style.left=ae(c,a);else if(c>o&&c<r)d=o-l,su.style.left=ae(l,a),(g=c-o)>7&&(du.style.left=ae((c+o)/2,a),gu.style.left=ae((c+o)/2,a),u=!0);else if(l>o&&l<r){d=l-o,su.style.left=ae(o,a);var g=r-l;g>7&&(du.style.left=ae((l+r)/2,a),gu.style.left=ae((l+r)/2,a),u=!0)}else l>r&&(m=l-r,cu.style.left=ae(r,a));-1!==d&&(su.style.width=ae(d,a),lu.textContent=dm?ne(d/n.rect.width,"%"):ne(d),su.classList.remove("hidden")),-1!==m&&(cu.style.width=ae(m,a),uu.textContent=dm?ne(m/n.rect.width,"%"):ne(m),cu.classList.remove("hidden")),u||(du.style.left=ae((l+c)/2,a),gu.style.left=ae((l+c)/2,a))}function Rn(e,t,n){var a=im.snapshot.height,i=e.rect,o=i.y,r=o+i.height,s=t.rect,l=s.y,c=l+s.height,u=!1,d=-1,m=-1;if(c<o)d=o-c,du.style.top=ae(c,a);else if(l<o&&c>r)d=o-l,du.style.top=ae(l,a),m=c-r,gu.style.top=ae(r,a),su.style.top=ae((o+r)/2,a),cu.style.top=ae((o+r)/2,a),u=!0;else if(l>o&&c<r)d=l-o,du.style.top=ae(o,a),m=r-c,gu.style.top=ae(c,a);else if(c>o&&c<r)d=o-l,du.style.top=ae(l,a),(g=c-o)>7&&(su.style.top=ae((c+o)/2,a),cu.style.top=ae((c+o)/2,a),u=!0);else if(l>o&&l<r){d=l-o,du.style.top=ae(o,a);var g=r-l;g>7&&(su.style.top=ae((l+r)/2,a),cu.style.top=ae((l+r)/2,a),u=!0)}else l>r&&(m=l-r,gu.style.top=ae(r,a));-1!==d&&(du.style.height=ae(d,a),mu.textContent=dm?ne(d/n.rect.height,"%"):ne(d),du.classList.remove("hidden")),-1!==m&&(gu.style.height=ae(m,a),pu.textContent=dm?ne(m/n.rect.height,"%"):ne(m),gu.classList.remove("hidden")),u||(su.style.top=ae((l+c)/2,a),cu.style.top=ae((l+c)/2,a))}function Mn(e,t,n){An();var a=document.querySelector(".parent");a&&a.classList.remove("parent"),e&&t&&(e&&t&&e===t&&(lm.querySelector(".layerWidth").textContent=dm?ne(e.rect.width/n.rect.width,"%"):ne(e.rect.width),lm.querySelector(".layerHeight").textContent=dm?ne(e.rect.height/n.rect.height,"%"):ne(e.rect.height)),n&&Pn(n._id),Un(e,t,n),Rn(e,t,n))}function zn(e){if(e.stopPropagation(),dm=e.altKey,Dr=null,An(),Mc.classList.remove("measuring"),e.target.classList.contains("layer")){if(e.target.classList.contains("selected")||Mc.classList.add("measuring"),Dr=im.snapshot.layers.find(function(t){return t._id===e.target.dataset.id}),dm){var t=On(Lr,Dr);zr.a(cm,t,function(e,t){return e===t})||(cm=t,Rg=0)}else cm=[],Rg=0;Mn(Lr,Dr,cm[Rg])}else{var n=document.querySelector(".parent");n&&n.classList.remove("parent")}}function Zn(e){if(e.keyCode===Zeplin.KEY_CODE.ALT)if(e.preventDefault(),dm=e.altKey,um&&kr)Vn(kr);else{var t;dm?t=(cm=On(Lr,Dr))[Rg]:(cm=[],Rg=0),Mn(Lr,Dr,t)}}function Hn(e){e.keyCode===Zeplin.KEY_CODE.ArrowUp?(e.preventDefault(),Rg=(Rg+1)%cm.length,Mn(Lr,Dr,cm[Rg])):e.keyCode===Zeplin.KEY_CODE.ArrowDown&&(e.preventDefault(),Rg=(Rg-1+cm.length)%cm.length,Mn(Lr,Dr,cm[Rg]))}function Vn(e){var t=Mc.getBoundingClientRect(),n=im.snapshot.width,a=im.snapshot.height,i=Lr.rect.x,o=i+Lr.rect.width,r=Lr.rect.y,s=r+Lr.rect.height;e!==kr&&(dm=e.altKey),An(),Dr=null,kr=e,e.clientX<t.left&&(su.style.left=0,su.style.width=ae(i,n),lu.textContent=dm?ne(i/n,"%"):ne(i),su.style.top=ae((r+s)/2,a),su.classList.remove("hidden")),e.clientY<t.top&&(du.style.top=0,du.style.height=ae(r,a),mu.textContent=dm?ne(r/a,"%"):ne(r),du.style.left=ae((i+o)/2,n),du.classList.remove("hidden")),e.clientX>t.right&&(cu.style.left=ae(o,n),cu.style.width=ae(n-o,n),uu.textContent=dm?ne((n-o)/n,"%"):ne(n-o),cu.style.top=ae((r+s)/2,a),cu.classList.remove("hidden")),e.clientY>t.bottom&&(gu.style.top=ae(s,a),gu.style.height=ae(a-s,a),pu.textContent=dm?ne((a-s)/a,"%"):ne(a-s),gu.style.left=ae((i+o)/2,n),gu.classList.remove("hidden"))}function Wn(e,t){function n(e){if(zr.p(e,Uc))ka();else{var n=e.getBoundingClientRect(),a=Uc.scrollLeft,i=Uc.scrollTop;n.left<0?a=Uc.scrollLeft+n.left-60:n.right>Uc.offsetWidth&&(a=n.right-Uc.offsetWidth+60),n.top<92?i=Uc.scrollTop+n.top-60-cp-60:n.bottom>window.innerHeight&&(i=Uc.scrollTop+(n.bottom-window.innerHeight)+60),"scrollTo"in Element.prototype?(Uc.scrollTo({left:a,top:i,behavior:"smooth"}),setTimeout(function(){ka()},450)):(Uc.scrollLeft=a,Uc.scrollTop=i,ka())}t?v(t):Yc.lastElementChild.scrollIntoView()}if(e&&jr.users){Array.isArray(t)&&1===t.length&&(t=t[0]);var a="string"==typeof e?document.querySelector(".dot[data-id='"+e+"']"):e;a?a!==gm?(Oc.checked=!0,Zc.classList.remove("invisible"),Tn(),a.classList.remove("hover"),gm=a,nt(Hc),tt(Hc),Hc.classList.remove("left","right"),Hc.classList.add(Hm[new Xr.a(Vm[gm.dataset.color]).hexBase()],gm.dataset.position),Hc.classList.toggle("canRemoveNotes",zr.w.canRemoveNotes(Er)),Xc.innerHTML="&nbsp;",$c.value="",Kc.classList.remove("hidden"),"undefined"===gm.dataset.id?(Hc.classList.add("open"),Hc.dataset.id="undefined",Kc.classList.add("composing"),Cm[am._id]&&Cm[am._id].comment&&(Xc.innerHTML=zr.g(Cm[am._id].comment)+"&nbsp;",$c.value=Cm[am._id].comment),setTimeout(function(){$c.focus(),$c.setSelectionRange($c.value.length,$c.value.length)},4)):(om=am.dots.find(function(e){return e._id===gm.dataset.id}),Hc.classList.add(om.status),gm.classList.remove("highlight"),om.comments.forEach(function(e){Oa(e,am._id,om._id)}),v(t),Hc.dataset.id=om._id,Cm[am._id]&&Cm[am._id].reply&&Cm[am._id].reply[om._id]?(Kc.classList.add("composing"),Xc.innerHTML=zr.g(Cm[am._id].reply[om._id])+"&nbsp;",$c.value=Cm[am._id].reply[om._id],setTimeout(function(){$c.focus(),$c.setSelectionRange($c.value.length,$c.value.length)},4)):(Na(),Kc.classList.remove("composing"))),"undefined"!==gm.dataset.id?setTimeout(function(){n(gm)},200):ka()):v(t):Rr.a({message:"Note not available anymore."})}}function Yn(e){var t=document.importNode(Mg.content,!0);switch(t.querySelector(".borderPosition").textContent=e.position,t.querySelector(".borderThickness").textContent=ne(e.thickness),Vl.appendChild(t),e.fillType){case"color":Ie(e.color,Vl);break;case"gradient":_e(e.gradient,Vl)}}function Kn(e){if(Lr){var t=new Qr.a(Lr),n=Array.from(Ul.children);if("text"===t.type)return"string"==typeof e?Ul.querySelector('.textStyleWrapper[data-id="'+e+'"]'):"object"==typeof e?n.find(function(n){var a=t.textStyles[n.dataset.index];return a&&new $r.a(e).equals(a.font)}):void 0}}function Gn(e,t){function n(e,t){e.textContent=ne(t,"text")}var a={name:{selector:".layerTextStyle .textStyleName",cb:function(e,t){e.value=t}},fontFace:{selector:".layerFontFace .fontFace"},fontSize:{selector:".layerFontSize",cb:n},textAlign:{selector:".layerTextAlign",cb:function(e,t){e.textContent=t?zr.H(t):""}},lineHeight:{selector:".layerLineHeight",cb:n},letterSpacing:{selector:".layerLetterSpacing",cb:function(e,t){t&&(e.textContent="android"===jr.type?zr.y(t/jr.densityDivisor,2):ne(t,"text"))}},color:{selector:".layerTextColor",cb:function(e,t){e.innerHTML="",t&&Ie(t,e)}},header:{selector:".typefaceHeader > h2 > span:nth-child(2)"}};for(var i in t){var o=a[i];if(o){var r=e.querySelector(o.selector);o.cb?o.cb(r,t[i]):r.textContent=t[i]}}}function Jn(e){var t=document.getElementById("layerTextStyleTemplate"),n=document.importNode(t.content,!0).querySelector(".textStyleWrapper"),a=n.querySelector(".addTextStyle"),i=jr.findTextStyleEqual(e);i&&(n.classList.add("added"),n.dataset.id=i.id,e.name=i.name),Gn(n,e);var o=zr.w.canManageTextStyles(Er);return n.querySelector(".textStyleName").readOnly=!o,a.classList.toggle("disabled",!o),x(a,!!i),n}function Xn(e){return["turquoise","cornflower-blue","light-green","yellow","peach"][parseInt(e,10)]||"warm-gray-"+e}function $n(e,t){function n(e,t){return'<span class="highlightedLayerContent" data-color-group="'+Xn(t)+'">'+zr.g(e)+"</span>"}if(!t.length)return e;var a="",i=0;return t.forEach(function(t){var o=t.range,r=e.substring(o.start,o.end);if(o.start>i)a+=zr.g(e.substring(i,o.start));else if(o.start<i)return;-1===t.groupId?a+=zr.g(r):a+=n(r,t.groupId),i=o.end}),a+=zr.g(e.substring(i,e.length))}function Qn(e){var t,n=e.getDefaultTextStyle(),a=[],i=0;return e.textStyles.forEach(function(e){if(n&&n.equals(e.font))t=-1;else{var o=a.find(function(t){return t.font.equals(e.font)});o?t=o.groupId:(t=i,i+=1)}a.push(Object.assign({},e,{groupId:t}))}),a}function ea(e){function t(t,n,a){var i=Jn(t);return i.dataset.index=e.textStyles.findIndex(function(e){return e.font.equals(t)}),n>-1&&(Gn(i,{header:a}),i.dataset.colorGroup=Xn(n)),Ul.appendChild(i),i}var n=Qn(e),a=[];if(Ul.innerHTML="",1===n.length){var i=jr.findTextStyleEqual(n[0].font);"web"===jr.type&&i&&Wr.b(i.name)?pa(i.name,e.content):xd.classList.add("hidden")}else xd.classList.add("hidden");n.sort(function(e,t){return e.range.start-t.range.start}).forEach(function(n,i){if(!(a.indexOf(n.groupId)>-1)){var o=n.range,r=e.content.substring(o.start,o.end);t(n.font,n.groupId,r),a.push(n.groupId)}}),Ml.innerHTML=$n(e.content,n)}function ta(e,t,n,a){if(e){Ye(t).then(function(e){$l.className=e.lightness}),$l.src=t.url,$l.srcset=Ge(n.contents),$l.style.height=Math.min(e.rect.height/jr.densityDivisor+4,160)+"px",Ql.textContent=Xe(n,a),Ql.title=Xe(n,a);for(var i={},o=new Set,r=0;r<n.contents.length;r++){var s=n.contents[r];s.format in i?i[s.format]++:i[s.format]=1,o.add(s.density)}ec.innerHTML="";for(var l in i){if("svg"===l)var c=n.contents.find(function(e){return"svg"===e.format});Je({aid:n._id,format:l,count:i[l],densities:o,percent:c&&c.optimized.percent},ec)}Xl.classList.remove("hidden"),!("jpg"in i)||"svg"in i||"pdf"in i||(n.percent&&(Xl.querySelector(".assetExporter[data-format='"+n.percent.type+"'][data-aid='"+n._id+"']").querySelector(".assetStats").textContent=n.percent.diff),Zr.b.get("hideNoVectorAssetInfo").then(function(e){if(!e){var t=Mr.a({content:"This layer contains bitmap images, so no vector assets were generated.",hideCallback:function(){Zr.b.set("hideNoVectorAssetInfo",!0)}});ec.appendChild(t)}})),"web"===jr.type&&fa(e,n,i,a)}}function na(){return"android"===jr.type?Promise.resolve("snakeCase"):Zr.a.get(Qd.pid,"assetNamingConvention")}function aa(e){if(getSelection().removeAllRanges(),!qm&&e!==lm&&(Array.from(document.querySelectorAll(".assetStyle")).forEach(function(e){e.dataset.exportType=""}),An(),Mc.classList.remove("measuring"),lm&&lm.classList.remove("selected"),lm=null,im.snapshot.layers&&(Lr=im.snapshot.layers.find(function(t){return t._id===e.dataset.id})))){lm=e,Dr=Lr,xr=Lr.sourceId;var t=Lr.rect.width,n=Lr.rect.height,a=Lr.rect.x,i=Lr.rect.y,o=Lr.rotation,r=Lr.opacity,s=Lr.borderRadius,l=Lr.blendMode;if(lm.classList.add("selected"),au.style.top=ae(i,im.snapshot.height),ou.style.top="calc("+ae(i+n,im.snapshot.height)+" - 1px)",ru.style.left=ae(a,im.snapshot.width),iu.style.left="calc("+ae(a+t,im.snapshot.width)+" - 1px)",nu.classList.remove("hidden"),Mc.addEventListener("mouseover",zn),document.addEventListener("keydown",Zn),document.addEventListener("keydown",Hn),document.addEventListener("keyup",Zn),Tl.textContent=Lr.name,Il.textContent=ne(a),_l.textContent=ne(i),Fl.textContent=ne(t),Bl.textContent=ne(n),Al.textContent=o||"",Nl.textContent=1===r?"":Math.round(100*r)+"%",Ol.textContent=ne(0===s?null:s),Pl.textContent="normal"===l?"":l,Vl.innerHTML="",Lr.borders.forEach(Yn),Hl.classList.toggle("hidden",!Lr.borders.length),Yl.innerHTML="",Lr.shadows.forEach(Be),Wl.classList.toggle("hidden",!Lr.shadows.length),Lr.blur?(Gl.textContent=Lr.blur.type,Jl.textContent=ne(Lr.blur.radius),Kl.classList.remove("hidden")):Kl.classList.add("hidden"),"text"===Lr.type?ea(new Qr.a(Lr)):xd.classList.add("hidden"),ql.classList.toggle("textLayer","text"===Lr.type),jd.classList.toggle("textLayer","text"===Lr.type),Lr.exportable){var c=im.snapshot.assets.find(function(e){return e.layerId?e.layerId===Lr.sourceId:e.layerName===Lr.name});if(c){var u=Ke(c.contents);u?na().then(function(e){ta(Lr,u,c,e)}):(Xl.classList.add("hidden"),Ld.classList.add("hidden"))}else Xl.classList.add("hidden"),Ld.classList.add("hidden")}else Xl.classList.add("hidden"),Ld.classList.add("hidden");Lr.fills.length?(Zl.innerHTML="",Lr.fills.forEach(function(e){Fe(e,Zl)}),zl.classList.remove("hidden")):zl.classList.add("hidden"),ma(),sl.classList.remove("resourceView"),sl.classList.add("layerView")}}function ia(e){for(var t={},n=new Set,a=0;a<e.contents.length;a++){var i=e.contents[a];i.format in t?t[i.format]++:t[i.format]=1,n.add(i.density)}return!("jpg"in t)||"svg"in t||"pdf"in t||t.jpg!==t.png?"svg"in t?oa(e.contents.find(function(e){return"svg"===e.format})):Promise.resolve():ra(e,n)}function oa(e){return e.optimized=Object.assign({},e,{url:Zeplin.urls.imgURL+"/svgo/"+encodeURIComponent(e.url)}),Promise.all([sa(e),sa(e.optimized)]).then(function(t){e.optimized.percent=Math.round((t[0].length-t[1].length)/t[0].length*100)})}function ra(e,t){var n=0,a=0,i=0;return Promise.all(e.contents.map(sa)).then(function(o){t.forEach(function(e){var t=o.filter(function(t){return t.density===e}).reduce(function(e,t){return e[t.format]=t.length,e},{});a+=Number(t.jpg)/Number(t.png),i+=Number(t.png)/Number(t.jpg)}),a=Math.round(100-a/t.size*100),i=Math.round(100-i/t.size*100),a>=10?n={type:"jpg",diff:a}:i>=10&&(n={type:"png",diff:i}),n&&(e.percent=n)}).catch(function(){})}function sa(e){return fetch(e.url,{method:"HEAD"}).then(function(t){return{format:e.format,density:e.density,length:t.headers.get("Content-Length")}})}function la(e,t){var n=t||document.getElementById(e+"Style"),a=new ns.a(n,{lineSeparator:"\n",theme:"theme-zeplin",indentUnit:2,lineWrapping:!0,lineNumbers:!0,lineNumberFormatter:function(){return"●"},readOnly:!0,cursorBlinkRate:-1,viewportMargin:1/0,styleSelectedText:!0});"layer"===e?br=a:"guideline"===e?(Sr=a).on("update",function(){var e=vc.querySelectorAll(".cm-comment");if(e&&e.length)for(var t=[xu,ku],n=bc.getBoundingClientRect(),a=0;a<t.length;a++){var i=e[a].getBoundingClientRect();t[a].style.top=i.top-n.top+vc.scrollTop-45+"px"}}):"asset"===e?_c.push(a):"textLayer"===e&&(vr=a)}function ca(e){return Promise.all(e.map(function(e){return Zr.a.get(Qd.pid,e)}))}function ua(e,t,n,a){var i=e.toReactStyle(jr.type,jr.densityDivisor,t,n,a),o=[];return Object.keys(i).length>1&&o.unshift(i),i=o.map(function(e){return Wr.h("react",e,jr.getColorMapByFormat(n))}).join("\n\n"),{exportType:"react",content:i}}function da(e,t){if("text"===e.type)return{exportType:"xml",content:e.toAndroidXMLStyle(jr,t)}}function ma(){Lr&&Zg[jr.type](new Qr.a(Lr)).then(function(e){e&&(br.setOption("mode",zg[e.exportType]),br.setValue(e.content),gc.value=e.content,br.refresh())})}function pa(e,t){var n="<"+e+">"+t+"</"+e+">";xd.classList.remove("hidden"),vr.setOption("mode","text/html"),vr.setValue(n),kd.value=n,vr.refresh()}function fa(e,t,n,a){if(!n.pdf){var i="img/"+encodeURIComponent(Xe(t,a)),o=Wr.e(e.name).replace(".","")||"layer",r=0;Ld.classList.remove("hidden");var s=Object.keys(n);s.forEach(function(e){var t="";"png"===e?t='<img src="'+i+'.png"\n     srcset="'+i+"@2x.png 2x,\n             "+i+'@3x.png 3x"\n     class="'+o+'">':"svg"===e?t='<img src="'+i+'.svg"\n     class="'+o+'">':"jpg"===e&&(t='<img src="'+i+'.jpg"\n     srcset="'+i+"@2x.jpg 2x,\n             "+i+'@3x.jpg 3x"\n     class="'+o+'">'),ha(e,t,r),r++}),document.querySelector(".assetStyle.secondary").classList.toggle("hidden",1===s.length),document.querySelector(".assetStyle.primary").classList.toggle("singleStyle",1===s.length)}}function ha(e,t,n){var a=!1;Array.from(document.querySelectorAll(".assetStyle")).forEach(function(i){if(!(a||i.dataset.exportType&&i.dataset.exportType!==e)){a=!0,t="\x3c!-- "+e+" --\x3e\n\n"+t,i.dataset.exportType=e,i.querySelector("button").dataset.exportType=e;var o=_c[n];o.setOption("mode","text/html"),o.setValue(t),i.querySelector("textarea").value=t,o.refresh()}})}function ya(){mc.classList.remove("hidden"),Wg[1].name=Vg[jr.type],document.querySelector(".sampleColors .color:nth-child(2) .colorName").textContent=Vg[jr.type];var e,t="color palette";jr.colors&&jr.colors.length?(e=jr.colors,vc.classList.add("projectColor")):(e=Wg,t="sample "+t);var n,a="text styles";jr.textStyles&&jr.textStyles.length?(n=jr.textStyles,vc.classList.add("projectTextStyle")):(n=Yg[jr.type],a="sample "+a),Hg[jr.type](zr.H(t),e,zr.H(a),n).then(function(e){pc.value=e.colorStyle,fc.value=e.textStyle,Sr.setOption("mode",zg[e.exportType]),Sr.setValue(e.allStyles),yc.value=e.allStyles,Sr.refresh()})}function ba(){return document.querySelector('input[type="radio"][name="dotListingsStatusFilter"]:checked').value}function va(e,t){e&&(t&&(document.querySelector('input[type="radio"][name="dotListingsStatusFilter"][value="'+e+'"]').checked=!0),Zc.dataset.statusFilter=e,Ee(am.dots),Zr.a.set(Qd.pid,"dotListingsStatusFilter",e))}function Sa(e,t){document.querySelector("#colorFormat span").textContent=Km[t],Lc.querySelector("span").textContent=Km[t],document.querySelector("input[name='"+e+"'][value='"+t+"']").checked=!0,"web"===jr.type&&$o(t),Zr.a.set(Qd.pid,"styleColorFormat",t).then(function(){ma(),ya()})}function ja(e,t){document.querySelector("input[name='"+e+"'][value='"+t+"']").checked=!0,Zr.a.set(Qd.pid,"androidLineSpacingType",t).then(function(){ma(),ya()}),Array.from(document.querySelectorAll(".lineSpacingType")).forEach(function(e){e.querySelector("span").textContent=t})}function Ea(){for(var e=0;e<Ac.childElementCount;e++){var t=parseFloat(Ac.children[e].value);if(t>mm){mm=t;break}}Rc.classList.add("zooming"),ut()}function wa(){for(var e=Ac.childElementCount-1;e>=0;e--){var t=parseFloat(Ac.children[e].value);if(t<mm){mm=t;break}}Rc.classList.add("zooming"),ut()}function Ca(){Oc.checked=!0,Zc.classList.remove("invisible"),Zc.addEventListener("transitionend",function e(){Zc.removeEventListener("transitionend",e),setTimeout(function(){Zc.classList.remove("flashing")},200)}),Zc.classList.add("flashing"),Rc.classList.add("noteMode"),ap=!0}function La(){Rc.classList.remove("noteMode"),ap=!1}function Da(e){var t=e.getBoundingClientRect(),n=Hc.getBoundingClientRect(),a=rp,i=rp,o=cp,r=!1;t.right<=0?(r=!0,a=rp):t.left>=Uc.offsetWidth?(r=!0,a=Uc.offsetWidth-rp-n.width):t.left<=n.width+rp+sp?(Hc.classList.remove("left"),Hc.classList.add("right"),a=t.right+sp):t.right+sp+n.width+rp>=Uc.offsetWidth?(Hc.classList.remove("right"),Hc.classList.add("left"),a=t.left-sp-n.width):(Hc.classList.remove("left","right"),Hc.classList.add(e.dataset.position),a="left"===e.dataset.position?t.left-sp-n.width:t.right+sp),t.top<=Uc.offsetTop+lp+rp?(r=!0,i=Uc.offsetTop+rp):t.bottom>=window.innerHeight-lp?(r=!0,i=window.innerHeight-n.height-rp):t.top>=window.innerHeight-n.height+lp-rp?(i=window.innerHeight-n.height-rp,o=t.top-i+rp):t.top+n.height-cp>window.innerHeight?(r=!0,i=window.innerHeight-n.height-rp):i=t.top-lp,Hc.classList.toggle("overflown",r),Hc.style.transform="translate("+a.toFixed()+"px, "+i.toFixed()+"px)",Vc.style.top=o+"px"}function xa(){gm&&!up&&(requestAnimationFrame(function(){Da(gm),up=!1}),up=!0)}function ka(){Hc.classList.remove("hidden"),Da(gm),Uc.addEventListener("scroll",xa)}function qa(e){var t=(e=new URL(e)).origin===location.origin,n="zpl:"===e.protocol;if(t||n){var a={};if(e.hash||n){var i=(n?e.search||e.href.substring(e.href.indexOf("?")):e.hash).replace("&amp;","&").substring(1),o=zr.v(i);if(!("pid"in o))return;return a.url={pid:o.pid[0]},"sid"in o?a.url.sid=o.sid[0]:t&&"styleguide"in o||n&&(e.pathname.startsWith("//styleguide")||e.pathname.startsWith("//guideline"))?a.subpage="styleguide":a.subpage="dashboard",a}var r=g(e.pathname);if(r){Object.assign(a,{url:r});var s=e.pathname.match(/\/(dashboard|styleguide)$/);return s&&(a.subpage=s[1]),e.search&&Object.assign(a,zr.v(e.search.replace("&amp;","&"))),a}}}function Ta(e){return function(t){switch(t.getType()){case"url":if(t.protocolRelativeMatch)return!1;var n=qa(t.getUrl());if(n&&"pid"in n.url&&n.url.pid===jr.id){var a="project-dashboard",i="Dashboard",o=["link"];if("sid"in n.url){a="project-screen";var r=jr.screens.find(function(e){return e._id===n.url.sid});o.push("screenLink"),i=r?r.name:"unknown"}return"subpage"in n&&"styleguide"===n.subpage&&(a="project-styleguide",i="Styleguide"),delete n.subpage,e.push('<a href="'+zr.I(a,n)+'" class="'+o.join(" ")+'" data-link-type="inApp">'+i+"</a>"),"{{link:"+(e.length-1)+"}}"}var s=t.buildTag();return s.setAttr("rel","nofollow external noopener noreferrer"),e.push(s.toAnchorString()),"{{link:"+(e.length-1)+"}}";case"email":return e.push(t.buildTag().toAnchorString()),"{{link:"+(e.length-1)+"}}";default:return!1}}}function Ia(e){return e.replace(/#([\w-]+)/g,function(e,t){var n=jr.findColorByName(t);return n?'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+n.toCSS()+'"></span></span>':/#[\da-f]{6}/i.test(e)?(n=jr.findColorByHexAndAlpha({hex:e}))?'<span class="color">#'+n.name+'<span class="colorPreview" style="background-color:'+e+'"></span></span>':'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+e+'"></span></span>':e})}function _a(e){return e.replace(qr,function(e){return'<span class="user'+(fm.test(e)?" self":"")+'">'+e+"</span>"})}function Fa(e,t){var n=[],a=new is.a({stripPrefix:!1,className:"link",phone:!1,twitter:!1,hashtag:!1,replaceFn:Ta(n)});return(t=t||[]).reduce(function(e,t){return t(e)},a.link(zr.g(e))).replace(/{{link:(\d+)}}/g,function(e,t){return n[parseInt(t,10)]})}function Ba(e){return Fa(e,[gs.formatEmojiString,zr.E])}function Aa(e){return Fa(e,[Ia,_a,gs.formatEmojiString,zr.E])}function Na(){Jc.textContent=Yc.lastElementChild.classList.contains("commentOwner")?"POST":"REPLY"}function Oa(e,t,n){delete e.status;var a=document.importNode(dp.content,!0);Pa(a.querySelector(".comment"),e,t,n),Yc.appendChild(a);var i=Yc.lastElementChild,o=i.querySelector(".commentNote"),r=i.querySelector(".commentMirror");return o.addEventListener("input",function(){za(o,r,i)}),o.addEventListener("keyup",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:za(o,r,i)}}),i}function Pa(e,t,n,a){var i=ve(t.author,!0);zr.B(e.querySelector(".commentAuthorImage"),i&&i.user),e.querySelector(".commentAuthorName").textContent=i?i.user.username:"Anonymous",e.dataset.id=t._id,t.author&&t.author!==Zeplin.user._id?e.classList.remove("commentOwner"):e.classList.add("commentOwner");var o=new Date(t.created),r=new Date(t.updated);e.querySelector(".commentLink").href=zr.I("project-screen",{url:{pid:jr.id,sid:n},query:{did:a,cmid:t._id}}),e.querySelector(".commentCreated").setAttribute("datetime",o);var s=e.querySelector(".commentMirror");s.innerHTML=Aa(t.note),s.classList.toggle("jumboEmojis",ye(s,t.note)),e.querySelector(".commentEdited").setAttribute("datetime",r-o>3e5?r:"")}function Ua(e,t,n){var a=gs.formatEmojiString($c.value.trim(),!0);if(gs.close(),ps.close(),a){var i=e._id,o=t._id,r=Oa({author:Zeplin.user._id,note:a,created:Date.now(),updated:Date.now()},i,o);Da(document.querySelector(".dot[data-id='"+o+"']")),r.style.opacity=.5,zr.z(r),Na(),Kc.classList.remove("composing"),fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+i+"/dots/"+o+"/comments",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({note:a})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Hr.a(e.status,t)})}).then(function(i){t.comments.push(i),Ee(e.dots),Xc.innerHTML="&nbsp;",$c.value="",r.dataset.id=i._id,r.removeAttribute("style"),n?mixpanel.track("Created comment with reaction",{reaction:a}):mixpanel.track("Created comment")}).catch(function(e){r.remove(),Kc.classList.add("composing"),$c.focus(),Hr.b(e)})}}function Ra(e,t,n,a){var i=e.querySelector(".commentMirror"),o=e.querySelector(".commentNote"),r=gs.formatEmojiString(o.value.trim(),!0);if(gs.close(),ps.close(),r&&(i.innerHTML=Aa(r),i.classList.toggle("jumboEmojis",ye(i,r)),e.classList.remove("editing"),Kc.classList.remove("hidden"),Da(gm),a.note!==r)){var s=t._id,l=n._id,c=e.dataset.id;e.style.opacity=.5,fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+s+"/dots/"+l+"/comments/"+c+"/note",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({note:r})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).then(function(){a.note=r,Ee(t.dots),Pa(e,a,s,l),e.removeAttribute("style"),mixpanel.track("Edited comment")}).catch(function(t){e.removeAttribute("style"),e.classList.remove("jumboEmojis"),e.classList.add("editing"),Kc.classList.add("hidden"),o.focus(),Hr.b(t)})}}function Ma(e,t,n){var a=t._id,i=n._id,o=e.dataset.id,r=Zc.querySelector(".dot[data-id='"+i+"']");1===n.comments.length?(Tn(),r.classList.add("hidden")):(e.style.height=getComputedStyle(e).height,e.style.height=0,e.style.padding="0 6px 0 12px"),fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+a+"/dots/"+i+"/comments/"+o,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).then(function(){1===n.comments.length?(yi(t,i),r.remove(),om=null,gm=null,Yc.innerHTML="",Yc.scrollTop=0):(bi(n,o),e.remove(),Na(),Da(r)),Ee(t.dots),mixpanel.track("Deleted comment")}).catch(function(t){1===n.comments.length?(Hc.classList.remove("hidden"),r.classList.remove("hidden")):e.removeAttribute("style"),Hr.b(t)})}function za(e,t,n){if(t.innerHTML=zr.g(e.value)+"&nbsp;",e.selectionStart===e.selectionEnd){var a=zr.i(e.value.substring(0,e.selectionStart),!0),i=e.value.charAt(a);if("@"===i){var o=ps.manageSuggestedUsers(e,t,jr);o&&Za(o,n,ps)}else if(":"===i){var r=gs.manageSuggestedEmojis(e,t);r&&Za(r,n,gs)}else ps.close(),gs.close()}}function Za(e,t,n){e.style.top="",e.style.bottom="",t.appendChild(e),n.open(),e.getBoundingClientRect().bottom+12>=window.innerHeight?(e.style.bottom=Hc.getBoundingClientRect().bottom-t.getBoundingClientRect().bottom+t.offsetHeight+"px",e.style.top=""):(e.style.top=t.getBoundingClientRect().top-Hc.getBoundingClientRect().top+t.offsetHeight+"px",e.style.bottom="")}function Ha(e){var t=new URL(e.url);Ya(t.toString()).then(function(t){var n=new URL(t);e.shortUrl=t,Us.textContent=n.host+n.pathname,Us.classList.remove("fetching")}).catch(function(){e.shortUrl=t.toString(),Us.textContent=t.host+t.pathname,Us.classList.remove("fetching")})}function Va(e){var t=e._id,n=new URL(zr.I("project-screen",{url:{pid:jr.id,sid:t}}));(e.url?Promise.resolve(e.url):Ya(n.toString()).catch(function(){return n.toString()})).then(function(t){var n=new URL(t);e.url=t,Od.querySelector(".screenLink.web").classList.remove("fetching"),Od.querySelector(".screenLink.web").textContent=n.host+n.pathname}),Od.querySelector(".screenLink.app").classList.remove("fetching"),Od.querySelector(".screenLink.app").textContent="zpl://screen?pid="+jr.id+"&sid="+t,Od.querySelector(".openInApp").href="zpl://screen?pid="+jr.id+"&sid="+t}function Wa(){Ya(jr.sceneUrl,"scene").then(function(e){jr.sceneUrl=e,od.textContent=e,rd.href=e}).then(function(){ed.classList.remove("loading"),td.disabled=!1,id.classList.add("hidden"),ad.classList.remove("hidden")})}function Ya(e,t){var n=Zeplin.urls.baseURL+"/urls"+(t?"?path="+t:"");return fetch(n,{method:"POST",headers:Zeplin.headers,body:JSON.stringify({url:e})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Hr.a(e.status,t)})}).then(function(e){return e.url}).catch(function(e){throw Hr.b(e),e})}function Ka(e){var t="#text"===e.target.nodeName?e.target.nextElementSibling?e.target.nextElementSibling:e.target.parentElement:e.target,n=(t.id?t.id:t.className).replace(/[A-Z]/g,function(e){return" "+e.toLowerCase()}).replace(/^./,function(e){return e.toUpperCase()}).replace(/ with label$/,"");n&&-1===["Sidebar row","No border","No screen colors","No screen assets","No color message"].indexOf(n)&&mixpanel.track("Copied something from "+e.currentTarget.id.replace(/[A-Z]/g,function(e){return" "+e.toLowerCase()}),{type:n})}function Ga(){"web"===jr.type?mixpanel.track("Copied layer style",{type:document.querySelector("input[name='webStyleExportType']:checked").value,showDimensions:oc.checked,unitlessLineHeight:rc.checked,useMixin:sc.checked,showDefaultValues:lc.checked}):"ios"!==jr.type&&"osx"!==jr.type||mixpanel.track("Copied attributed string style",{type:document.querySelector("input[name='"+jr.type+"StyleExportType']:checked").value,deploymentTarget:document.querySelector("input[name='"+jr.type+"DeploymentTarget']:checked").value})}function Ja(e){mixpanel.track("Copied asset style",{type:e})}function Xa(){mixpanel.track("Copied text layer style html")}function $a(e){mixpanel.track("Selected asset naming convention",{projectType:jr.type,convention:e})}function Qa(){var e=document.querySelector(".colorMenu");e&&e.remove()}function ei(e,t){var n=new Date;return"//\n//  UI"+t+"+"+nl.value+"."+e+"\n//  "+jr.name+"\n//\n//  Generated on Zeplin. (by "+Zeplin.user.username+" on "+n.toLocaleDateString()+").\n//  Copyright (c) "+n.getFullYear()+" __MyCompanyName__. All rights reserved.\n//\n\n"}function ti(e,t){var n=new Date;return"//\n//  NS"+t+"+"+il.value+"."+e+"\n//  "+jr.name+"\n//\n//  Generated on Zeplin. (by "+Zeplin.user.username+" on "+n.toLocaleDateString()+").\n//  Copyright (c) "+n.getFullYear()+" __MyCompanyName__. All rights reserved.\n//\n\n"}function ni(e,t){return"@implementation UIColor ("+t+")\n\n"+e.map(function(e){var t="+ (UIColor * _Nonnull)"+(jr.prefix?jr.prefix+"_":"")+zr.s(e.name)+"Color { \n";return e.r===e.g&&e.g===e.b?t+="    return [UIColor colorWithWhite:"+zr.t(e.r):t+="    return [UIColor colorWithRed:"+zr.t(e.r)+"green:"+zr.t(e.g)+"blue:"+zr.t(e.b),t+"alpha:"+pp.format(e.a)+"f];\n}"}).join("\n\n")+"\n\n@end"}function ai(e,t){return"extension UIColor {\n"+e.map(function(e){var n,a=(jr.prefix||"")+(jr.prefix?zr.H(e.name):zr.s(e.name));return n="swift2"===t?"  class func "+a+"Color() -> ":"  @nonobjc class var "+a+": ",n+="UIColor {\n",e.r===e.g&&e.g===e.b?n+="    return UIColor(white: "+zr.u(e.r):n+="    return UIColor(red: "+zr.u(e.r)+"green: "+zr.u(e.g)+"blue: "+zr.u(e.b),n+"alpha: "+pp.format(e.a)+")\n  }"}).join("\n\n")+"\n}"}function ii(e,t,n){var a={deploymentTarget:n,prefix:jr.prefix,densityDivisor:jr.densityDivisor};return"@implementation UIFont ("+t+")\n\n"+e.map(function(e){return e.generateTextStyleCode("ios",a,"objc")}).join("\n\n")+"\n\n@end"}function oi(e,t,n){var a={deploymentTarget:t,prefix:jr.prefix,densityDivisor:jr.densityDivisor,type:n};return"extension UIFont {\n"+e.map(function(e){return e.generateTextStyleCode("ios",a,"swift")}).join("\n\n")+"\n};"}function ri(e,t){return"@implementation NSColor ("+t+")\n\n"+e.map(function(e){var t="+ (NSColor * _Nonnull)"+(jr.prefix?jr.prefix+"_":"")+zr.s(e.name)+"Color {\n";return e.r===e.g&&e.g===e.b?t+="    return [NSColor colorWithCalibratedWhite:"+zr.t(e.r):t+="    return [NSColor colorWithCalibratedRed:"+zr.t(e.r)+"green:"+zr.t(e.g)+"blue:"+zr.t(e.b),t+"alpha:"+pp.format(e.a)+"f];\n}"}).join("\n\n")+"\n\n@end"}function si(e,t){return"extension NSColor {\n"+e.map(function(e){var n,a=(jr.prefix||"")+(jr.prefix?zr.H(e.name):zr.s(e.name));return n="swift2"===t?"  class func "+a+"Color() -> ":"  class var "+a+": ",n+="NSColor {\n",e.r===e.g&&e.g===e.b?n+="    return NSColor(calibratedWhite: "+zr.u(e.r):n+="    return NSColor(calibratedRed: "+zr.u(e.r)+"green: "+zr.u(e.g)+"blue: "+zr.u(e.b),n+"alpha: "+pp.format(e.a)+")\n  }"}).join("\n\n")+"\n}"}function li(e,t,n){var a={deploymentTarget:n,prefix:jr.prefix,densityDivisor:jr.densityDivisor};return"@implementation NSFont ("+t+")\n\n"+e.map(function(e){return e.generateTextStyleCode("osx",a,"objc")}).join("\n\n")+"\n\n@end"}function ci(e,t,n){var a={deploymentTarget:t,prefix:jr.prefix,densityDivisor:jr.densityDivisor,type:n};return"extension NSFont {\n"+e.map(function(e){return e.generateTextStyleCode("osx",a,"swift")}).join("\n\n")+"\n}"}function ui(e,t,n){return t.map(function(t){return fp[e].prefix+t.name+fp[e].midfix+t.toCSS(n)+fp[e].suffix}).join("")}function di(e,t,n,a){var i={type:e,densityDivisor:jr.densityDivisor,unitlessLineHeight:t,colorMap:jr.getColorMapByFormat(a),colorFormat:a};return n.filter(function(e){return!Wr.b(e.name)}).map(function(e){return e.generateMixinCode(i)}).join("\n")}function mi(e,t,n,a,i,o){var r={type:e,densityDivisor:jr.densityDivisor,unitlessLineHeight:t,colorFormat:i,colorMap:jr.getColorMapByFormat(i),defaultValues:o},s=n;return a&&(s=s.filter(function(e){return Wr.b(e.name)})),s.map(function(e){return e.generateTextStyleCode("web",r)}).join("\n\n")}function gi(e,t){return"const colors = {\n"+e.map(function(e){return"  "+e.name+': "'+e.toCSS(t)+'"'}).join(",\n")+"\n};"}function pi(e,t,n){var a={densityDivisor:jr.densityDivisor,colorFormat:t,defaultValues:n},i=e.reduce(function(e,t){var n;if(t.color){var i=jr.findColorEqual(t.color);n=Object.assign({},a,{projectColor:i})}else n=a;var o=t.generateTextStyleCode("ios",n,"react");return Object.assign(e,o)},{});return"const textStyles = StyleSheet.create("+(i=JSON.stringify(i,null,2)).replace(/"(.+)":/g,"$1:").replace(/: "colors\.(.*)"/g,": colors.$1")+");"}function fi(e){return"<resources>\n"+e.map(function(e){return'  <color name="'+e.name.replace(/([A-Z])/g,function(e,t,n){return(n?"_":"")+e.toLowerCase()})+'">'+e.toHexString(!0)+"</color>"}).join("\n")+"\n</resources>"}function hi(e,t){var n={lineSpacingType:t,dimensionSuffix:jr.textDimensionSuffix,densityDivisor:jr.densityDivisor};return"<resources>\n"+e.map(function(e){var t;if(e.color){var a=jr.findColorEqual(e.color);t=Object.assign({},n,{projectColor:a})}else t=n;return e.generateTextStyleCode("android",t)}).join("\n")+"\n</resources>"}function yi(e,t){return zr.b(e.dots,function(e){return e._id===t})}function bi(e,t){return zr.b(e.comments,function(e){return e._id===t})}function vi(e){jr.removeTextStyle(e);var t=Kn(e);if(t&&(t.removeAttribute("data-id"),t.classList.remove("added"),Gn(t,{name:""}),x(t.querySelector(".addTextStyle"),!1)),jr.textStyles.length){var n=hu.querySelector(".font[data-id='"+e+"']");n&&n.remove()}else hu.innerHTML="";ya(),ma(),ke()}function Si(e){window.Notification&&"granted"===Notification.permission&&Zr.b.get("notificationStatus").then(function(t){if(t){var n=new Notification(e.title,{body:e.body,icon:"https://secure.gravatar.com/avatar/"+ls()(e.notifier.email)+"?s=160",name:0});n.addEventListener("show",function(){setTimeout(n.close.bind(n),5e3)}),"handler"in e&&n.addEventListener("click",e.handler)}})}function ji(e){jr.name=e,N(),Ts.value=e}function Ei(e){_(e),am&&(bt(im.snapshot,"density"),dt(im.snapshot.grid)),ma(),ya(),ke()}function wi(e){e=e.toLowerCase();var t,n=[],a=[],i=[],o=[];jr.screens.forEach(function(r){var s=r.name.toLowerCase();s.startsWith(e)?n.push(r):zr.F(s,e)?a.push(r):(t=Di(r,e))?i.push(Object.assign({filterTag:t},r)):s.includes(e)&&o.push(r)}),ym=n.sort(zr.D.name).concat(a.sort(zr.D.name)).concat(i.sort(zr.D.name)).concat(o.sort(zr.D.name)),Cu.classList.toggle("noScreen",!ym.length),Eu.innerHTML="",ym.forEach(Ci),ym.length&&(Tr=ym[0],Eu.querySelector(".screenSuggestion[data-id='"+Tr._id+"']").classList.add("selected"))}function Ci(e,t){var n=document.importNode(hp.content,!0),a=n.querySelector(".screenSuggestion");a.dataset.id=e._id,a.dataset.index=t,n.querySelector(".screenName").textContent=e.name,n.querySelector(".tagName").textContent=e.filterTag||"",Eu.appendChild(n)}function Li(){ju.value="",ju.blur(),Eu.innerHTML="",Su.classList.add("hidden")}function Di(e,t){return e.tags&&e.tags.find(function(e){return e.toLowerCase().includes(t)})}function xi(e){e.target.parentElement.classList.contains("added")?ki(e.target.parentElement):qi(e)}function ki(e){if(zr.w.canManageColors(Er)){var t=e.dataset.id;"colorPalette"===e.parentElement.id?e.classList.add("hidden"):e.classList.remove("added"),fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/colors/"+t,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).then(function(){bm=!0,Ii(e.dataset.id)}).catch(function(t){Hr.b(t),bm=!0,"colorPalette"===e.parentElement.id?e.classList.remove("hidden"):(e.querySelector(".colorName").classList.remove("hidden"),e.classList.add("added"))})}}function qi(e){if(zr.w.canManageColors(Er)){var t=e.target.parentElement,n=new Xr.a(JSON.parse(t.dataset.rgbcolor)),a={r:n.r,g:n.g,b:n.b,a:n.a,name:jr.getColorName(n)};t.querySelector(".colorName").value="#"+a.name,t.classList.add("added"),fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/colors",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(a)}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Hr.a(e.status,t)})}).then(function(e){bm=!0,a._id=e._id,Ti(a),zr.C("Added to Styleguide!",sl)}).catch(function(e){Hr.b(e),bm=!0,t.querySelector(".colorName").value="",t.classList.remove("added")})}}function Ti(e){var t=new Xr.a(e);jr.addColor(t),Te(t);var n=document.querySelectorAll(".color[data-color='"+t.toHexString()+"']");Array.from(n).forEach(function(e){e.dataset.id=t.id,e.querySelector(".colorName").value="#"+t.name,e.querySelector(".colorName").classList.remove("hidden"),e.classList.add("added"),D(e.querySelector(".addColor"),!0)}),ma(),ya(),ke(),Fn()}function Ii(e){jr.removeColor(e);var t=sl.querySelectorAll(".color[data-id='"+e+"']");if(Array.from(t).forEach(function(e){e.querySelector(".colorName").value="",e.classList.remove("added"),D(e.querySelector(".addColor"),!1)}),jr.colors.length){var n=rl.querySelector(".color[data-id='"+e+"']");n&&n.remove()}else rl.innerHTML="";ma(),ya(),ke(),Fn()}function _i(e,t){jr.updateColor(e,t);var n=rl.querySelector(".color[data-id='"+e+"']");if("name"in t){var a=sl.querySelectorAll(".color[data-id='"+e+"'] .colorName");Array.from(a).forEach(function(e){e.value="#"+t.name}),n.querySelector(".colorName").value=t.name}if("r"in t||"g"in t||"b"in t||"a"in t){var i=jr.findColorById(e),o=sl.querySelectorAll(".color[data-id='"+e+"']");Array.from(o).forEach(function(e){e.querySelector(".colorName").textContent="",e.classList.remove("added"),e.removeAttribute("data-id"),D(e.querySelector(".addColor"),!1)}),o=sl.querySelectorAll(".color[data-color='"+i.toHexString()+"']"),Array.from(o).forEach(function(t){t.querySelector(".colorName").value="#"+i.name,t.classList.add("added"),t.dataset.id=e,D(t.querySelector(".addColor"),!0)}),n.querySelector(".colorPreview").style.backgroundColor=i.toCSS(),n.querySelector(".colorHex").value=i.hexBase(),n.querySelector(".colorAlpha").value=Math.round(100*i.a),n.querySelector(".colorRGB").textContent=i.toRGBAString()}ma(),ya(),ke(),Fn()}function Fi(e,t,n){if(zr.w.canManageColors(Er)){var a=n.dataset.id;fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/colors/"+a,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(e)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).then(function(){_i(a,e)}).catch(function(e){Hr.b(e),n.querySelector(".colorName").value=(n.querySelector(".colorNameForm")?"#":"")+t.name,n.querySelector(".colorHex").value=t.hexBase(),n.querySelector(".colorAlpha").value=t.a?100*t.a:100})}}function Bi(e){zo();var t=document.importNode(yp.content,!0),n=t.querySelector(".memberMenu"),a=e.dataset.id;n.addEventListener("click",function(t){if(t.button===Zeplin.MOUSE_BUTTON.LEFT){var n=t.target.closest(".menuitem");if(n){switch(t.stopPropagation(),n.dataset.action){case"assign":Ni(a,"admin",e);break;case"unassign":Ni(a,"user",e);break;case"transfer":Rr.a({message:'Transfer ownership of "'+jr.name+'" to '+e.querySelector(".memberName").textContent+"?",done:{name:"TRANSFER",cb:function(){Pi(a)}},cancel:{name:"CANCEL"}});break;case"remove":var i,o;a===Zeplin.user._id?(i='Leave "'+jr.name+'"?',o="LEAVE"):(i='Remove "'+e.querySelector(".memberName").textContent+'" ?',o="REMOVE"),Rr.a({message:i,done:{name:o,cb:function(){Oi(a)}},cancel:{name:"CANCEL"}})}setTimeout(function(){Ai()},80)}}});var i=ve(a);zr.q(jr)?(n.querySelector(".menuitem[data-action='assign']").classList.add("hidden"),n.querySelector(".menuitem[data-action='unassign']").classList.add("hidden"),n.querySelector(".menuitem[data-action='transfer']").classList.add("hidden")):(n.querySelector(".menuitem[data-action='assign']").classList.toggle("hidden","user"===Er.role||"user"!==i.role),n.querySelector(".menuitem[data-action='unassign']").classList.toggle("hidden","user"===Er.role||"admin"!==i.role),n.querySelector(".menuitem[data-action='transfer']").classList.toggle("hidden",!zr.w.canTransferOwnership(Er))),n.querySelector(".menuitem[data-action='remove']").classList.toggle("hidden","owner"===i.role||zr.w.isSuperior(i,Er)),e.classList.add("memberMenuOpen"),e.appendChild(t)}function Ai(){var e=document.querySelector(".memberMenu");e&&(e.parentElement.classList.remove("memberMenuOpen"),e.remove())}function Ni(e,t,n){fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/users/"+e+"/role",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({role:t})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).then(function(){n.dataset.role=t,jr.changeUserRole(e,t),m(jr.users)}).catch(Hr.b)}function Oi(e){fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/users/"+e,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).then(function(){jr.removeUser(e),e===Zeplin.user._id?(Tn(),P()):(m(jr.users),Vr.d(jr.id,e),Fn())}).catch(Hr.b)}function Pi(e){fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/users/"+e+"/ownership",{method:"POST",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).then(function(){jr.changeUserRole(Zeplin.user._id,"admin"),jr.changeUserRole(e,"owner"),m(jr.users)}).catch(Hr.b)}function Ui(e,t,n){zr.w.canManageScreens(Er)&&fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+e,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({name:t})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).catch(function(t){jr.screens.find(function(t){return t._id===e}).name=n,yn().then(function(){Hr.b(t,{dialogCallback:function(){var t=Q(e);t.querySelector(".screenNameMirror").classList.add("hidden"),zr.n(t.querySelector(".screenName"))}})})})}function Ri(e){zr.w.canUpdateProject(Er)&&fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/name",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({name:e})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Hr.a(e.status,t)})}).then(function(e){ji(e.name),B(e.prefix,!0)}).catch(function(e){Hr.b(e,{dialogCallback:function(){zr.n(Ts)}})})}function Mi(e){if(zr.w.canUpdateProject(Er)){var t=yo(e),n=Q(e),a=Hd.querySelector(".screen.thumbnail");return fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/thumbnail",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({thumbnail:t.versions[0].snapshot.url})}).then(function(){jr.thumbnail=t.versions[0].snapshot.url,a&&a.classList.remove("thumbnail"),n&&n.classList.add("thumbnail")})}}function zi(e){var t=yo(e);return Ne(t.versions[0].snapshot).then(function(e){var n=new Blob([e.data],{type:zm.png}),a=t.name+".png";return{data:URL.createObjectURL(n),name:a}})}function Zi(e){if(document.body.classList.contains("canDownload"))zi(e).then(ze);else{var t=yo(e).versions[0].snapshot.url;t.includes("raven-warehouse")||(t="https://cdn.zeplin.io"+new URL(t).pathname),r(t)}}function Hi(e){var t=Q(e),n=jr.findScreenSection(e);return t&&t.classList.add("hidden"),fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+e,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).then(function(){jr.removeScreen(n._id,e)},function(e){Hr.b(e),t&&t.classList.remove("hidden")})}function Vi(e,t){var n=Jd.querySelector(".integration[data-id='"+t+"']");n&&n.classList.add("hidden"),fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/integrations/"+e+"/"+t,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).then(function(){n&&n.remove(),jr.removeIntegration(e,t),jr.integration[e].length||(Jd.classList.add("hidden"),Nd.classList.remove("hidden"))}).catch(function(e){Hr.b(e),n&&n.classList.remove("hidden")})}function Wi(){var e=document.querySelector(".slackSettingsMenu");e&&(e.parentElement.classList.remove("slackMenuOpen"),e.remove())}function Yi(e){Jd.innerHTML="",e.reverse().forEach(Ki),Nd.classList.add("hidden"),Jd.classList.remove("hidden")}function Ki(e){var t=document.importNode(vp.content,!0).querySelector(".integration"),n=t.querySelector(".slackChannel"),a=new URL(e.incomingWebHook.configurationURL),i=t.querySelector(".slackSettingsButton"),o=zr.w.canUpdateProject(Er);i.classList.toggle("disabled",!o),o?(i.removeAttribute("data-tooltip"),i.removeAttribute("data-tooltip-type")):(i.dataset.tooltip=u(Er,"update Slack integration."),i.dataset.tooltipType="html"),n.textContent=e.incomingWebHook.channel,n.href=a.origin+"/messages/"+(e.incomingWebHook.channelId||e.incomingWebHook.channel.replace("#","")),t.dataset.id=e._id,Jd.appendChild(t)}function Gi(e,t){t.value=t.value.trim();var n=jr.findTextStyleById(e),a=t.value;a.length?n.name!==a&&go(e,{name:a}):t.value=n.name}function Ji(e,t,n){if(t.name!==e){var a=(n.querySelector(".colorNameForm")?"#":"")+t.name;e&&!Ym[jr.type].test(e)?jr.checkDuplicateColorName(e,t)?(Rr.a({title:e+" already exists",message:"Please enter another name for this color.",done:{name:"GOT IT"}}),n.querySelector(".colorName").value=a):Fi({name:e},t,n):n.querySelector(".colorName").value=a}}function Xi(e,t,n){mixpanel.track("Exported styleguide "+e,{projectType:Pr.b[t],type:Zm[n]})}function $i(e){Zr.a.get(Qd.pid,"webStyleExportType").then(function(t){e.stopPropagation(),ze({data:URL.createObjectURL(new Blob(["/*\n"+Wm+"*/\n\n"+pc.value],{type:"text/"+t})),name:"colors."+t}),Xi("color",jr.type,t)})}function Qi(e){Zr.a.get(Qd.pid,"webStyleExportType").then(function(t){e.stopPropagation(),ze({data:URL.createObjectURL(new Blob(["/*\n"+Wm+"*/\n\n"+fc.value],{type:"text/"+t})),name:"fonts."+t}),Xi("text styles",jr.type,t)})}function eo(){Zr.a.get(Qd.pid,"androidStyleExportType").then(function(e){var t,n;"xml"===e?(t='<?xml version="1.0" encoding="utf-8"?>\n\x3c!--\n'+Wm+"--\x3e\n\n"+pc.value,n="xml"):(t="/*\n"+Wm+"*/\n\n"+pc.value,n="js"),ze({data:URL.createObjectURL(new Blob([t],{type:zm[n]})),name:"colors."+n}),Xi("color",jr.type,e)})}function to(){Zr.a.get(Qd.pid,"androidStyleExportType").then(function(e){var t,n;"xml"===e?(t='<?xml version="1.0" encoding="utf-8"?>\n\x3c!--\n'+Wm+"--\x3e\n\n"+fc.value,n="xml"):(t="/*\n"+Wm+"*/\n\n"+fc.value,n="js"),ze({data:URL.createObjectURL(new Blob([t],{type:zm[n]})),name:"textstyles."+n}),Xi("text styles",jr.type,e)})}function no(e){Zr.a.get(Qd.pid,"osxStyleExportType").then(function(t){if(e.stopPropagation(),"objc"===t){var n=ti("h","Color")+"#import <Cocoa/Cocoa.h>\n\n@interface NSColor ("+il.value+")\n\n"+jr.colors.map(function(e){return"+ (NSColor * _Nonnull)"+(jr.prefix?jr.prefix+"_":"")+zr.s(e.name)+"Color;"}).join("\n")+"\n\n@end",a=ti("m","Color")+'#import "NSColor+'+il.value+'.h"\n\n'+pc.value,i=new rs.a;i.file("NSColor+"+il.value+".h",n),i.file("NSColor+"+il.value+".m",a),i.generateAsync({type:"blob"}).then(function(e){ze({data:URL.createObjectURL(e),name:"colors_"+jr.name+".zip"})})}else{var o=ti("swift","Color")+"import Cocoa\n\n"+pc.value;ze({data:URL.createObjectURL(new Blob([o])),name:"NSColor+"+il.value+".swift"})}Xi("color",jr.type,t)})}function ao(e){Zr.a.get(Qd.pid,"osxStyleExportType").then(function(t){if(e.stopPropagation(),"objc"===t){var n=ti("h","Font")+"#import <Cocoa/Cocoa.h>\n\n@interface NSFont ("+il.value+")\n\n"+jr.textStyles.map(function(e){var t=Object(us.a)(e.name,"camelCase");return t=t.trim().length?zr.s(t.replace(/\s(\w)/g,function(e,t){return t.toUpperCase()}))+"Font":"textStyleFont","+ (NSFont *)"+(jr.prefix?jr.prefix+"_":"")+t+";"}).join("\n")+"\n\n@end",a=ti("m","Font")+'#import "NSFont+'+il.value+'.h"\n\n'+fc.value,i=new rs.a;i.file("NSFont+"+il.value+".h",n),i.file("NSFont+"+il.value+".m",a),i.generateAsync({type:"blob"}).then(function(e){ze({data:URL.createObjectURL(e),name:"textstyles_"+jr.name+".zip"})})}else{var o=ti("swift","Font")+"import Cocoa\n\n"+fc.value;ze({data:URL.createObjectURL(new Blob([o])),name:"NSFont+"+il.value+".swift"})}Xi("text styles",jr.type,t)})}function io(e){Zr.a.get(Qd.pid,"iosStyleExportType").then(function(t){if(e.stopPropagation(),"objc"===t){var n=ei("h","Color")+"#import <UIKit/UIKit.h>\n\n@interface UIColor ("+nl.value+")\n\n"+jr.colors.map(function(e){return"+ (UIColor * _Nonnull)"+(jr.prefix?jr.prefix+"_":"")+zr.s(e.name)+"Color;"}).join("\n")+"\n\n@end",a=ei("m","Color")+'#import "UIColor+'+nl.value+'.h"\n\n'+pc.value,i=new rs.a;i.file("UIColor+"+nl.value+".h",n),i.file("UIColor+"+nl.value+".m",a),i.generateAsync({type:"blob"}).then(function(e){ze({data:URL.createObjectURL(e),name:"colors_"+jr.name+".zip"})})}else if("react"===t){var o="/*\n"+Wm+"*/\n\n"+pc.value;ze({data:URL.createObjectURL(new Blob([o],{type:zm.js})),name:"colors.js"})}else{var r=ei("swift","Color")+"import UIKit\n\n"+pc.value;ze({data:URL.createObjectURL(new Blob([r])),name:"UIColor+"+nl.value+".swift"})}Xi("color",jr.type,t)})}function oo(e){Zr.a.get(Qd.pid,"iosStyleExportType").then(function(t){if(e.stopPropagation(),"objc"===t){var n=ei("h","Font")+"#import <UIKit/UIKit.h>\n\n@interface UIFont ("+nl.value+")\n\n"+jr.textStyles.map(function(e){var t=Object(us.a)(e.name,"camelCase");return t=t.trim().length?zr.s(t.replace(/\s(\w)/g,function(e,t){return t.toUpperCase()}))+"Font":"textStyleFont","+ (UIFont *)"+(jr.prefix?jr.prefix+"_":"")+t+";"}).join("\n")+"\n\n@end",a=ei("m","Font")+'#import "UIFont+'+nl.value+'.h"\n\n'+fc.value,i=new rs.a;i.file("UIFont+"+nl.value+".h",n),i.file("UIFont+"+nl.value+".m",a),i.generateAsync({type:"blob"}).then(function(e){ze({data:URL.createObjectURL(e),name:"textstyles_"+jr.name+".zip"})})}else if("react"===t){var o="/*\n"+Wm+"*/\n\n"+fc.value;ze({data:URL.createObjectURL(new Blob([o],{type:zm.js})),name:"textstyles.js"})}else{var r=ei("swift","Font")+"import UIKit\n\n"+fc.value;ze({data:URL.createObjectURL(new Blob([r])),name:"UIFont+"+nl.value+".swift"})}Xi("text styles",jr.type,t)})}function ro(e){jr.addTextStyle(e),ya(),ma(),ke();var t=Kn(e);t&&(t.classList.add("added"),Gn(t,{name:e.name}),t.dataset.id=e._id,x(t.querySelector(".addTextStyle"),!0))}function so(e){if(zr.w.canManageTextStyles(Er))return fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/textStyles",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(function(e){var t={};return["name","fontFace","fontSize","lineHeight","letterSpacing","textAlign","color"].forEach(function(n){t[n]=e[n]}),t}(e))}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Hr.a(e.status,t)})}).then(function(t){e._id=t._id,ro(e)})}function lo(e){if(zr.w.canManageTextStyles(Er)){var t=new Qr.a(Lr).textStyles[e.dataset.index],n=t&&t.font;return n.name=jr.getTextStyleName(),vm=!1,e.classList.add("added"),Gn(e,{name:n.name}),so(n).then(function(e){vm=!0,zr.C("Added to Styleguide!",sl),ma()}).catch(function(t){Hr.b(t),vm=!0,e.classList.remove("added"),Gn(e,{name:""})})}}function co(e){if(zr.w.canManageTextStyles(Er))return fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/textStyles/"+e,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).then(function(){vi(e)})}function uo(e){return co(e).catch(function(e){Hr.b(e)})}function mo(e){return vm=!1,e.classList.remove("added"),co(e.dataset.id).then(function(){vm=!0}).catch(function(t){Hr.b(t),e.classList.add("added"),vm=!0})}function go(e,t){zr.w.canManageTextStyles(Er)&&fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/textStyles/"+e,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(t)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).then(function(){jr.updateTextStyle(e,t),ya(),ma(),ke(),"name"in t&&Ul&&1===Ul.querySelectorAll(".textStyleWrapper").length&&Wr.b(t.name)?pa(t.name,Ml.textContent):xd.classList.add("hidden")}).catch(function(n){Hr.b(n);var a=document.querySelector(".font[data-id='"+e+"']");"name"in t&&zr.n(a.querySelector(".styleName")),"color"in t&&a.querySelector(".colorContainer").classList.remove("hidden")})}function po(){var e=document.querySelector(".textStyleMenu");e&&e.remove()}function fo(e,t){for(var n=0;n<e.length;n++)if(e[n].toLowerCase()===t.toLowerCase())return!0;return!1}function ho(e,t,n){if(!qu.classList.toggle("taglessProject",0===e.length&&!n)){t=t||[],Ou.innerHTML="";var a=0;jp=0,e.forEach(function(e){if(-1===t.indexOf(e)&&(!n||-1!==e.toLowerCase().indexOf(n.toLowerCase()))){var i=document.importNode(Au.content,!0);0===Ou.childElementCount&&i.querySelector(".tagSuggestion").classList.add("selected"),i.querySelector(".tagSuggestion").dataset.tag=zr.g(e),i.querySelector(".tagSuggestion").dataset.suggestionIndex=a,a++,i.querySelector(".tagSuggestion .tagSuggestionText").textContent=e,Ou.appendChild(i)}}),!n||fo(e,n)?(Tu.classList.add("hidden"),Tu.classList.remove("selected")):(Tu.classList.remove("hidden"),Tu.dataset.suggestionIndex=a,Tu.dataset.tag=zr.g(n),Iu.textContent=n,Tu.classList.toggle("selected",0===Ou.childElementCount)),qu.classList.toggle("taglessScreen",0===t.length)||(Nu.innerHTML="",t.forEach(function(e){var t=document.importNode(Bu.content,!0);t.querySelector(".tagOfScreen").dataset.tag=zr.g(e),t.querySelector(".tagButtonText").textContent=e,Nu.appendChild(t)}))}}function yo(e){if(jr.screens)return jr.screens.find(function(t){return t._id===e})}function bo(e){zr.w.canManageScreens(Er)&&(Ir=0,_r=0,_n(),zo(),qu.classList.remove("hidden"),qu.dataset.sid=e,Uu.value="",Uu.focus(),ho(jr.tags,yo(e).tags))}function vo(){Uu.value="",Uu.blur(),qu.classList.add("hidden")}function So(e){am&&rt(yo(am._id)),qe(),e&&("dashboard"===sm?jn():yn()),qu.classList.contains("hidden")||ho(jr.tags,yo(qu.dataset.sid).tags,Uu.value)}function jo(e){zr.w.canManageScreens(Er)&&fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/tags",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({screens:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).catch(function(t){Hr.b(t),e.forEach(function(e){var t=yo(e._id);"add"===e.operation?t.tags=t.tags.filter(function(t){return-1===e.tags.indexOf(t)}):t.tags=t.tags.concat(e.tags),qt()}),So()})}function Eo(e,t,n){zr.w.canManageScreens(Er)&&(Uu.value="",jo([{_id:e._id,operation:n,tags:[t]}]),"add"===n?(e.tags=e.tags||[],e.tags.push(t)):e.tags=e.tags.filter(function(e){return e!==t}),qt(),So(_t()||"remove"===n&&!!xs.querySelector(".tag.selected[data-tag='"+zr.g(t)+"']")))}function wo(e){var t=Fu.querySelector(".tagSuggestion[data-suggestion-index='"+e+"']");t&&(Fu.querySelector(".tagSuggestion.selected").classList.remove("selected"),t.classList.add("selected"),zr.z(t),jp=e)}function Co(e){zr.w.canManageScreens(Er)&&(jo(jr.deleteTag(e)),So(_t()||!!xs.querySelector(".tag.selected[data-tag='"+zr.g(e)+"']")))}function Lo(){var e=document.querySelector(".tagMenu");e&&e.remove()}function Do(e){var t=jr.screens.filter(Ft([e]));return 0!==t.length&&t.every(function(e){var t=jr.findScreenSection(e._id);return jr.isDefaultSection(t._id)})}function xo(e,t,n,a){var i=parseInt(t.dataset.minWidth,10);if(t.classList.contains("collapsed")){if(!(e>i/2))return;t.classList.remove("collapsed"),a&&a(t)}t.style.width=e+"px",e<i?(document.body.classList.add("minResizing"),t.classList.toggle("collapsed",e<i/2)&&n&&n(t)):e>t.clientWidth?(t.classList.add("maxSizebar"),document.body.classList.add("maxResizing")):(t.classList.remove("maxSizebar"),document.body.classList.remove("maxResizing","minResizing"))}function ko(e,t,n){function a(t){t.preventDefault&&t.preventDefault(),xo(i="left"===e.dataset.side?t.clientX||t.changedTouches[0].clientX:window.innerWidth-(t.clientX||t.changedTouches[0].clientX),e,n.onCollapse,n.onExpand),n.onResize&&n.onResize()}n=n||{};var i;document.body.classList.add("resizing","resizing"+e.dataset.side),e.classList.add("resizing"),document.addEventListener(Nr,a),document.addEventListener(Or,function n(){e.style.width=e.clientWidth+"px",Zr.a.set(Qd.pid,t,i),document.body.classList.remove("resizing","resizing"+e.dataset.side,"maxResizing","minResizing"),e.classList.remove("resizing"),setTimeout(function(){Sr.refresh(),Object.keys(_c).forEach(function(e){_c[e].refresh()}),br&&br.refresh()},8),document.removeEventListener(Nr,a),document.removeEventListener(Or,n)})}function qo(e,t){var n=t.dataset.id;t.classList.add("hidden"),fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+e._id+"/dots/"+n,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).then(function(){yi(e,n),Ee(e.dots),t.remove(),mixpanel.track("Deleted dot")}).catch(function(e){t.classList.remove("hidden"),Hr.b(e)})}function To(){var e=document.querySelector(".dotMenu"),t=document.querySelector(".dot.menuOpen");e&&(e.remove(),t&&t.classList.remove("menuOpen"))}function Io(e){function t(t){var a=e.getBoundingClientRect();if(r){t.preventDefault();var l=Zc.getBoundingClientRect();Tn(),e.classList.add("moving"),e.style.zIndex=wm+5,Em=!0,s.x=Math.max(0,Math.min((t.clientX-l.left)/l.width,1)),s.y=Math.max(0,Math.min((t.clientY-l.top)/l.height,1)),e.dataset.position=s.x<=.5?"left":"right",e.style.left="calc("+100*s.x+"% - 13px)",e.style.top="calc("+100*s.y+"% - 13px)",n=requestAnimationFrame(function(){e.classList.toggle("overlap",No(e))})}else o={x:Math.abs(t.clientX-a.left+13),y:Math.abs(t.clientY-a.top+13)},Math.hypot(o.x,o.y)>i&&(r=!0)}var n,a={},i=12,o={},r=!1;To();var s=am.dots.find(function(t){return t._id===e.dataset.id});a.x=s.x,a.y=s.y,document.addEventListener("mousemove",t),document.addEventListener("mouseup",function i(o){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",i),r?(cancelAnimationFrame(n),r=!1,o.target.classList&&o.target.classList.contains("dot")||(Em=!1),e.classList.remove("moving","overlap"),e.style.zIndex=++wm,No(e)?(e.addEventListener("transitionend",function t(){e.removeEventListener("transitionend",t),e.classList.remove("backToFuture")}),e.classList.remove("hover"),e.classList.add("backToFuture"),e.dataset.position=a.x<=.5?"left":"right",e.style.left="calc("+100*a.x+"% - 13px)",e.style.top="calc("+100*a.y+"% - 13px)",s.x=a.x,s.y=a.y):a.x===s.x&&a.y===s.y||Ao({x:s.x,y:s.y},a,e),a=null):Hc.classList.remove("hidden")})}function _o(e){var t=wl.lastElementChild.getBoundingClientRect();e.style.left=t.left-233+"px",e.style.top=t.top+32+"px",e.style.bottom="initial"}function Fo(){Gu.classList.contains("collapsed")&&xo(300,Gu);var e,t;t=new MutationObserver(function(t){t.forEach(function(t){_o(e)})}),_o(e=Mr.a({content:"Ping ping! You can access the resolved notes from this tab.",popover:!0,anchor:"top",noControls:!0,hideCallback:function(){t.disconnect(),Zr.b.set("resolvedDotsTutorialSeen",!0)}})),t.observe(Gu,{attributes:!0,attributeFilter:["style"]}),document.body.appendChild(e),setTimeout(function(){t.disconnect(),e.remove(),Zr.b.set("resolvedDotsTutorialSeen",!0)},1e4)}function Bo(e,t){var n=am.dots.find(function(t){return t._id===e}),a=n.status;n.status=t;var i=document.querySelector(".dot[data-id='"+e+"']");Hc.dataset.id===e&&Tn(),tt(i),i.classList.add(t),Ee(am.dots),Zr.b.get("resolvedDotsTutorialSeen").then(function(e){!e&&"resolved"===t&&sl.classList.contains("resourceView")&&"dot"!==wl.dataset.selection&&Fo()}),fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+am._id+"/dots/"+e,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({status:t})}).then(function(e){if(!e.ok)return e.json().then(function(t){return Hr.a(e.status,t)});mixpanel.track("Re"+("open"===t?"open":"solv")+"ed dot")}).catch(function(e){n.status=a,i.classList.remove(t),i.classList.add(a),Ee(am.dots),Hr.b(e)})}function Ao(e,t,n){fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+am._id+"/dots/"+n.dataset.id,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(e)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).then(function(){mixpanel.track("Moved dot",{distance:Math.hypot(Mc.offsetWidth*(e.x-t.x),Mc.offsetHeight*(e.y-t.y))/mm})}).catch(function(e){n.dataset.position=t.x<=.5?"left":"right",n.style.left="calc("+100*t.x+"% - 13px)",n.style.top="calc("+100*t.y+"% - 13px)",Hr.b(e)})}function No(e){if(document.elementsFromPoint){for(var t=e.getBoundingClientRect(),n=document.elementsFromPoint(t.left+13,t.top+13),a=0;a<n.length;a++)if(n[a].classList.contains("dot")&&n[a]!==e)return!0;return!1}return Oo(e)}function Oo(e){for(var t=e.getBoundingClientRect(),n=document.querySelectorAll(".dot"),a=t.left+13,i=t.top+13,o=0;o<n.length;o++){var r=n[o].getBoundingClientRect();if(n[o]!==e&&a>r.left&&a<r.right&&i>r.top&&i<r.bottom)return!0}return!1}function Po(e){e.stopPropagation(),zo();var t,n,a=document.importNode(Xu.content,!0).querySelector(".shortLinkMenu");t=jr.shortUrl,n="zpl://project?pid="+jr.id,Ju.classList.add("menuOpen"),a.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var a=e.target.closest(".menuitem");if(a){e.stopPropagation();var i;switch(a.dataset.action){case"copy-app-uri":i=n;break;case"copy-web-link":i=t}zr.d({content:i,toastContainer:Wu}),setTimeout(function(){Uo()},80)}}}),Ju.appendChild(a)}function Uo(){var e=document.querySelector(".shortLinkMenu");e&&e.remove(),Ju.classList.remove("menuOpen")}function Ro(e){fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/public",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({public:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).then(function(){jr.public=e,e?Wa(jr):zr.C("Unshared the Scene link.",Wu)}).catch(Hr.b)}function Mo(){var e=document.querySelector(".shareSceneMenu");e&&e.remove()}function zo(){Array.from(document.querySelectorAll(".sidebarOptionsButton")).forEach(or),Vr.a(),Wu.removeEventListener("scroll",sr),Yu.removeEventListener("listRefreshed",lr),Qa(),po(),Ut(),Lo(),Ai(),To(),Uo(),Mo(),Xo(),Wi(),Rt(),ps.close(),gs.close()}function Zo(){var e=arguments[arguments.length-1];jr.screens.find(function(t){return t._id===e.body._id})||(e.body.dots=e.body.dots||[],e.body.tags=e.body.tags||[],e.body.versions=[e.body.latestVersion],delete e.body.latestVersion,delete e.body.versions[0].snapshot.layers,jr.addScreen(e.body),yn(),"dashboard"!==sm||CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||Ce())}function Ho(){var e=arguments[arguments.length-1],t=jr.screens.find(function(t){return t._id===e.params.sid});if(t&&!t.versions.find(function(t){return t._id===e.body._id})){var n=t.versions[0]._id,a=jr.addVersion(e.params.sid,e.body),i=Q(e.params.sid);i&&(zr.x(i.querySelector(".screenImage"),e.body.snapshot,"url"),i.querySelector(".screenLastUpdated").setAttribute("datetime",t.updated),am===t&&(ul.setAttribute("datetime",t.updated),(im._id===n||a&&a._id===im._id)&&(sl.classList.add("resourceView"),sl.classList.remove("layerView"),im=t.versions[0],Ct(t),a&&a._id===im._id&&zr.C("Displayed version is not available anymore.",document.querySelector("main"))),Pc.classList.contains("versionsShown")?(st(t),Zr.a.set(jr.id,t._id,"versionsLastSeen",new Date(t.versions[0].created))):Dt(t)))}}function Vo(){var e=arguments[arguments.length-1].body.integration.slacks.filter(function(e){return!jr.integration.slacks.find(function(t){return t._id===e._id})});e.length&&(e.forEach(function(e){jr.addIntegration("slacks",e)},jr),Yi(jr.integration.slacks),q())}function Wo(){var e=W("slackEmojis");return(e?Promise.resolve(e):fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/integrations/slacks/emojis",{headers:Zeplin.headers}).then(function(e){if(e.ok)return e.json()}).catch(function(){})).then(function(e){e&&"emoji"in e&&ys.a.addCustomEmojis(e.emoji)})}function Yo(e){return{createScreen:"project:"+e+":createScreen",createVersion:"project:"+e+":createVersion",authSlack:"project:"+e+":authSlack"}}function Ko(){wp&&(Yr.a.ipcRenderer.removeAllListeners(wp.createScreen),Yr.a.ipcRenderer.removeAllListeners(wp.createVersion),Yr.a.ipcRenderer.removeAllListeners(wp.authSlack)),jr&&jr.id&&(wp=Yo(jr.id),Yr.a.ipcRenderer.on(wp.createScreen,Zo),Yr.a.ipcRenderer.on(wp.createVersion,Ho),Yr.a.ipcRenderer.on(wp.authSlack,Vo))}function Go(e){jr.updateUserInfo(e.params.uid,e.body),m(jr.users),Fn(),am&&Ee(am.dots)}function Jo(e){function t(t){if(t.params.mid===Zeplin.user._id){if(t.params.uid===Zeplin.user._id)return void P();var n=ve(t.params.uid,!0),a=n?n.user.username:"Anonymous";Rr.a({title:a+' removed you from "'+e.name+'".',message:"You won't be able to access its resources from now on.\nIf you think this is a mistake, please contact "+a},{defer:!0}),P()}else e.removeUser(t.params.mid),m(e.users),Fn()}Fr&&Pr.c.unsubscribe(Fr),Fr="private-project@"+e.id;var n=Pr.c.subscribe(Fr);n.bind("UpdateProjectDensity",function(e){Ei(e.body.density)}),n.bind("UpdateProjectName",function(e){ji(e.body.name),B(e.body.prefix,!0)}),n.bind("UpdateProjectPrefix",function(e){B(e.body.prefix,!0)}),n.bind("ArchiveProject",function(t){if(t.params.uid!==Zeplin.user._id){var n=ve(t.params.uid,!0),a=n?n.user.username:"Anonymous";Rr.a({title:a+' archived "'+e.name+'".',message:"You won't be able to access its resources from now on."+(n?"\nIf you think this is a mistake, please contact "+a:"")},{defer:!0})}P()}),n.bind("DeleteProject",function(t){if(t.params.uid!==Zeplin.user._id){var n=ve(t.params.uid,!0),a=n?n.user.username:"Anonymous";Rr.a({title:a+' deleted "'+e.name+'".',message:"You won't be able to access its resources from now on."+(n?"\nIf you think this is a mistake, please contact "+a:"")},{defer:!0})}P()}),n.bind("InviteUser",function(t){e.addUser(t.body),m(e.users),Fn(),am&&Ee(am.dots)}),n.bind("CreateUser",function(t){e.updateUserInfo(t.params.uid,{username:t.body.username,status:"registered"}),m(e.users)}),n.bind("UpdateUsername",function(t){e.updateUserInfo(t.params.uid,t.body),m(e.users),Fn(),am&&Ee(am.dots)}),n.bind("UpdateEmail",function(t){e.updateUserInfo(t.params.uid,t.body),m(e.users)}),n.bind("UpdateUserEmotar",Go),n.bind("UpdateUserAvatar",Go),n.bind("UpdateUserSubscription",function(t){var n=e.findUser(t.params.uid);n&&(Object.assign(n.user,t.body),"owner"===n.role&&Pr.a().then(function(t){var a=t.find(function(e){return e._id===n.user.paymentPlan}),i=e.allowedVersionCount;e.allowedVersionCount=a.allowedVersionCount,i>e.allowedVersionCount?(e.screens.forEach(function(t){t.versions.length>e.allowedVersionCount&&(t.versions.length=e.allowedVersionCount)}),am&&(am.versions.some(function(e){return e._id===im._id})||(sl.classList.add("resourceView"),sl.classList.remove("layerView"),im=am.versions[0],Pc.classList.remove("oldVersion"),Ct(am),zr.C("Displayed version is not available anymore.",document.querySelector("main"))),am.versions.length===e.allowedVersionCount&&Pc.classList.contains("versionsShown")&&st(am))):i<e.allowedVersionCount&&(e.screens.forEach(function(e){e.totalVersionCount&&e.totalVersionCount>i&&delete e.totalVersionCount}),am&&(!am.totalVersionCount||am.totalVersionCount>i)&&he(am).then(function(e){Pc.classList.contains("versionsShown")&&st(e)}))}))}),n.bind("DeleteUser",function(t){Zeplin.user._id!==t.params.uid&&(e.removeUser(t.params.uid),m()),am&&Ee(am.dots)}),n.bind("CreateColor",function(e){Ti(e.body)}),n.bind("UpdateColor",function(e){_i(e.params.cid,e.body)}),n.bind("DeleteColor",function(e){Ii(e.params.cid)}),n.bind("UpdateScreen",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});Object.assign(n,t.body),"name"in t.body&&(am===n&&(N(),Gs.textContent=t.body.name,Gs.title=t.body.name),yn()),"description"in t.body&&am===n&&(cl.value=t.body.description)}),n.bind("UpdateSectionScreens",function(e){Nt(e.params.seid,e.body.screens,e.body.index)}),n.bind("UpdateSectionScreensOrder",function(t){var n=e.findScreenSection(t.body.screens[0]._id);n&&(t.body.screens.forEach(function(t){e.updateScreenOrder(n._id,t._id,t.to)}),wd.classList.contains("searching")||wd.querySelector('#sortOptions input[type="checkbox"]:checked')||yn())}),n.bind("UpdateScreensTags",function(t){t.body.screens.forEach(function(t){var n=e.screens.find(function(e){return e._id===t._id});if(n){switch(t.operation){case"add":n.tags=(n.tags||[]).concat(t.tags);break;case"remove":t.tags.forEach(function(e){n.tags.splice(n.tags.indexOf(e),1)})}am===n&&(rt(am),qt()),qu.classList.contains("hidden")||ho(e.tags,yo(qu.dataset.sid).tags,Uu.value)}}),qe(),"dashboard"===sm?jn():yn()}),n.bind("DeleteScreen",function(t){var n=e.findScreenSection(t.params.sid);if(n){var a=e.removeScreen(n._id,t.params.sid);if(a&&(qe(),"dashboard"===sm?jn():yn(),am===a)){var i=ve(t.params.uid,!0),o=i?i.user.username:"Anonymous";Rr.a({title:o+" deleted this screen",message:"You won't be able to access \""+a.name+'" from now on.'}),R(e.id,vn())}}}),n.bind("CreateSection",function(t){var n=Object.assign({},t.body);delete n.index,e.addSection(n,t.body.index),yn()}),n.bind("UpdateSectionsOrder",function(t){t.body.sections.forEach(function(t){e.updateSectionOrder(t._id,t.to)}),wd.classList.contains("searching")||wd.querySelector('#sortOptions input[type="checkbox"]:checked')||yn()}),n.bind("UpdateSection",function(t){var n=e.findSection(t.params.seid);n&&(Object.assign(n,t.body),yn())}),n.bind("DeleteSection",function(t){e.removeSection(t.params.seid),yn()}),n.bind("UpdateDot",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n&&n.dots){var a=n.dots.find(function(e){return e._id===t.params.did}),i=document.querySelector(".dot[data-id='"+a._id+"']");if(Object.assign(a,t.body),"color"in t.body){var o=Hm[new Xr.a(t.body.color).hexBase()];om===a&&(nt(Hc),Hc.classList.add(o)),i&&(nt(i),i.classList.add(o),i.dataset.color=o)}"x"in t.body&&"y"in t.body&&i&&(_n(),To(),i.addEventListener("transitionend",function e(){i.removeEventListener("transitionend",e),i.classList.remove("backToFuture")}),i.classList.add("backToFuture"),i.dataset.position=t.body.x<=.5?"left":"right",i.style.left="calc("+100*t.body.x+"% - 10px)",i.style.top="calc("+100*t.body.y+"% - 10px)"),"status"in t.body&&(om===a&&Hc.classList.contains(t.body.status)&&Tn(),i&&(tt(i),i.classList.add(t.body.status))),Ee(n.dots)}}),n.bind("DeleteDot",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n&&n.dots&&(yi(n,t.params.did),Q(t.params.sid))){var a=document.querySelector(".dot[data-id='"+t.params.did+"']");a&&(gm===a&&Tn(),a.remove()),Ee(n.dots)}}),n.bind("DeleteDotComment",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n&&n.dots){var a,i=n.dots.find(function(e){return e._id===t.params.did});i&&1!==i.comments.length?(bi(i,t.params.cmid),a=document.querySelector(".comment[data-id='"+t.params.cmid+"']")):(yi(n,t.params.did),om===i&&Tn(),a=document.querySelector(".dot[data-id='"+t.params.did+"']")),a&&a.remove(),Ee(n.dots)}}),n.bind("AuthSlack",Vo),n.bind("DeleteIntegration",function(t){if(e.removeIntegration("slacks",t.params.inid),e.integration.slacks.length){var n=Jd.querySelector(".integration[data-id='"+t.params.inid+"']");n&&n.remove()}else Jd.classList.add("hidden"),Nd.classList.remove("hidden")}),n.bind("CreateTextStyle",function(e){ro(new $r.a(e.body))}),n.bind("UpdateTextStyle",function(t){if(e.removeTextStyle(t.params.tsid),e.addTextStyle(t.body),"name"in t.body){var n=Kn(t.params.tsid);n&&Gn(n,{name:t.body.name})}ya(),ma(),ke()}),n.bind("DeleteTextStyle",function(e){vi(e.params.tsid)}),n.bind("UpdateProjectAccessibility",function(t){e.public=t.body.public,e.public&&Wa(e)}),n.bind("UpdateUserRole",function(t){e.changeUserRole(t.params.mid,t.body.role),m(e.users),k(),qt(),"pawn"!==Er.role&&Ur.a("transition")}),n.bind("TransferOwnership",function(t){document.body.classList.toggle("organizationProject",!!t.params.oid),t.body.users.forEach(function(n){e.changeUserRole(n.user._id,n.role),n.user._id===Er.user._id&&(Zeplin.user.paymentPlan=n.user.paymentPlan),n.user._id!==t.params.mid&&n.user._id!==t.params.uid||e.changeUserPaymentPlan(n.user._id,n.user.paymentPlan)}),m(e.users),k(),t.params.oid?K(e.id).then(function(){"pawn"===Er.role&&(wr.transitionFinished&&e.screens.forEach(function(e){delete e.versions[0].snapshot.layers,delete e.versions[0].snapshot.assets}),"screen"===sm&&Ct(am))}):(wr&&"screen"===sm&&Ct(am),Ur.a("transition"),wr=null)}),n.bind("RemoveUserFromProject",t),n.bind("RemoveMemberFromOrganization",t),n.bind("CreateScreen",Zo),n.bind("CreateVersion",Ho),n.bind("UpdateVersionCommitColor",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n){var a=n.versions.find(function(e){return e._id===t.params.vid});if(a&&(a.commit=a.commit||{},Object.assign(a.commit,t.body),am===n&&Pc.classList.contains("versionsShown"))){var i=document.querySelector(".version[data-id='"+t.params.vid+"']");if(!i)return;var o=Hm[new Xr.a(a.commit.color).hexBase()];nt(i),i.classList.add(o);var r=i.querySelector(".commitMessage");nt(r),r.classList.add(o)}}}),n.bind("UpdateVersionCommitMessage",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n){var a=n.versions.find(function(e){return e._id===t.params.vid});if(a&&(a.commit=a.commit||{},Object.assign(a.commit,t.body),am===n&&Pc.classList.contains("versionsShown"))){var i=document.querySelector(".version[data-id='"+t.params.vid+"']");if(!i)return;ag.get(i).value=a.commit.message}}}),n.bind("DeleteVersion",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n){var a=n.versions[0]._id;e.removeVersion(t.params.sid,t.params.vid);(!n.versions.length||n.versions.length<e.allowedVersionCount&&n.totalVersionCount>=e.allowedVersionCount?he(n):Promise.resolve(n)).then(function(e){var i=Q(t.params.sid);i&&a===t.params.vid&&zr.x(i.querySelector(".screenImage"),n.versions[0].snapshot,"url"),am===n&&(im._id===t.params.vid&&(sl.classList.add("resourceView"),sl.classList.remove("layerView"),im=e.versions[0],Ct(n,im),zr.C("Displayed version is not available anymore.",document.querySelector("main"))),Pc.classList.contains("versionsShown")?st(e):Dt(n))})}}),n.bind("CreateDot",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n&&n.dots&&(n.dots.push(t.body),am===n&&at(t.body),Ee(n.dots)),t.params.uid!==Zeplin.user._id&&fm.test(t.body.comments[0].note)){var a=ve(t.params.uid,!0);if(!a)return;Si({title:a.user.username+" mentioned you",body:t.body.comments[0].note,notifier:a.user,handler:function(){U(zr.I("project-screen",{url:{pid:t.params.pid,sid:t.params.sid},query:{did:t.body._id,cmid:t.body.comments[0]._id}}))}})}}),n.bind("CreateDotComment",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid}),a=t.params.uid!==Zeplin.user._id;if(n&&n.dots){var i=n.dots.find(function(e){return e._id===t.params.did});if(i){var o,r=i._id;i.comments.push(t.body),Ee(n.dots),om===i&&(o=Oa(t.body,n._id,r)),a&&am===n&&om===i&&(v(o),Da(document.querySelector(".dot[data-id='"+r+"']")))}}if(a&&fm.test(t.body.note)){var s=ve(t.params.uid,!0);if(!s)return;Si({title:s.user.username+" mentioned you",body:t.body.note,notifier:s.user,handler:function(){U(zr.I("project-screen",{url:{pid:t.params.pid,sid:t.params.sid},query:{did:t.params.did,cmid:t.body._id}}))}})}}),n.bind("UpdateDotCommentNote",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid}),a=t.params.uid!==Zeplin.user._id;if(n&&n.dots){var i=n.dots.find(function(e){return e._id===t.params.did});if(i){var o=i.comments.find(function(e){return e._id===t.params.cmid}),r=new Date(o.created),s=t.body.updated?new Date(t.body.updated):new Date;if(o.note=t.body.note,o.updated=s,Ee(n.dots),a&&am===n&&om===i){var l=document.querySelector(".comment[data-id='"+t.params.cmid+"']"),c=l.querySelector(".commentMirror");c.innerHTML=Aa(t.body.note),c.classList.toggle("jumboEmojis",ye(c,t.body.note)),l.querySelector(".commentEdited").setAttribute("datetime",s-r>3e5?s:""),v(l),Da(document.querySelector(".dot[data-id='"+i._id+"']"))}}}if(a&&fm.test(t.body.note)){var u=ve(t.params.uid,!0);if(!u)return;Si({title:u.user.username+" mentioned you",body:t.body.note,notifier:u.user,handler:function(){U(zr.I("project-screen",{url:{pid:t.params.pid,sid:t.params.sid},query:{did:t.params.did,cmid:t.params.cmid}}))}})}}),n.bind("UpdateProjectUpdated",function(t){e.id===t.params.pid&&(e.updated=t.body.updated)}),n.bind("RequestPaymentFail",function(e){if(!e.params.oid||"pawn"!==Er.role){var t={currentRole:Er.role};Object.assign(t,e.params),e.params.oid||"owner"===Er.role||(t.ownerEmail=e.body.email),Pr.d(t)}})}function Xo(){fd.classList.contains("hidden")||(Zr.b.set("tabTutorialSeen",!0),fd.classList.add("hidden"))}function $o(e){Array.from(sl.querySelectorAll(".color")).forEach(function(t){var n=new Xr.a(JSON.parse(t.dataset.rgbcolor));t.querySelector(".colorValue").textContent=n.toCSS(e)})}function Qo(e){if(er(),e){e.classList.add("subMenuOpen");var t=e.closest(".sidebarMenu").getBoundingClientRect().top,n=e.getBoundingClientRect().top,a=document.querySelector(".subMenu."+e.id+"s");a.style.transform="translateY("+(n-t)+"px)",a.classList.add("open")}}function er(){Array.from(document.querySelectorAll(".mainMenu.subMenuOpen")).forEach(function(e){e.classList.remove("subMenuOpen")}),Array.from(document.querySelectorAll(".subMenu.open")).forEach(function(e){e.classList.remove("open")})}function tr(e,t){if(null!==t.querySelector(".subMenu")){var n=t.getBoundingClientRect().width;e.offsetWidth>=n+56+120?(t.classList.remove("toLeft"),t.classList.add("toRight")):(t.classList.remove("toRight"),t.classList.add("toLeft"))}}function nr(e,t,n,a){var i=n.getBoundingClientRect();e.style.top=a.clientY-i.top+2+"px",e.style.left=a.clientX-i.left+2+"px",a.clientX+t.getBoundingClientRect().width+e.offsetWidth>window.innerWidth&&e.classList.add("toLeft"),a.clientY+e.offsetHeight>window.innerHeight&&e.classList.add("toTop")}function ar(e){var t="xml"===e;ac.dataset.menuOffsetX=t?"52":"12",ac.dataset.menuOffsetY=t?"6":"54"}function ir(e,t){var n,a,i=parseInt(e.dataset.menuOffsetX,10),o=parseInt(e.dataset.menuOffsetY,10),r=e.closest(".sidebarOptionRealm").getBoundingClientRect(),s=e.getBoundingClientRect(),l=t.getBoundingClientRect(),c=s.bottom-60-o,u=s.right-r.left-i;a=c<12?12:c+l.height+12>window.innerHeight-60?window.innerHeight-l.height-12-60:c,n=u+l.width+12>r.width?r.width-l.width-12:u,t.style.transform="translate3d("+n+"px, "+a+"px, 0)"}function or(e){var t=e.closest(".sidebarOptionRealm");if(t.classList.contains("optionsOpen")){t.classList.remove("optionsOpen");var n=document.getElementById(e.dataset.menuId);n.classList.remove("open"),n.dataset.submenu="",n.style.transform="",er();var a=t.closest(".optionsOpen");a||(a=t),a.classList.remove("optionsOpen"),a.style.top=0,a.scrollTop=Im,Im=0}}function rr(){var e=($s.getBoundingClientRect().height-Fp)/2,t=_p+Fp+e;xp=_p-e>qp&&t<window.innerHeight-Tp?e:Bp,sr()}function sr(){var e=Xs.getBoundingClientRect(),t=Math.max(e.top-xp,Ip)-kp;$s.style.transform="translate3d(0, "+t+"px, 0)",lr()}function lr(){var e=$s.getBoundingClientRect(),t=Xs.getBoundingClientRect(),n=t.top+t.height/2-e.top-11;Qs.classList.toggle("hidden",e.bottom<t.bottom)||(Qs.style.top=n+"px")}function cr(){Cd.classList.remove("focus"),wd.classList.toggle("searching",!!Ed.value.length)}function ur(e){Array.from(xl.querySelectorAll(".asset")).forEach(function(t){var n=im.snapshot.assets.find(function(e){return e._id===t.dataset.id});t.querySelector(".assetName").textContent=Xe(n,e)})}function dr(e){var t={web:"Web developer",android:"Android developer",ios:"iOS developer",mac:"macOS developer"};fetch(Zeplin.urls.baseURL+"/intercom/users/tags",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({name:t[e]})})}function mr(e){if(!e||!zr.J(e,"project"))return Rr.a({title:"Invalid project link",message:"There might be a typo, please try again."},{defer:!0}),void P();var t=Promise.resolve(jr);return jr&&jr.id===e||(Zr.a.get(e,"layoutGridEnabled").then(function(e){gl.checked=e,fu.classList.toggle("hidden",!e)}),Zr.a.get(e,"zoomLevel").then(function(e){mm=e,Bc.textContent=(100*mm).toFixed(),Fc.disabled=5===mm,Nc.disabled=.25===mm,ut({saveZoomLevel:!1})}),Zr.a.get(e,"noteVisibility").then(function(e){Oc.checked=e,Zc.classList.toggle("invisible",!e)}),Zr.a.get(e,"sectionsCollapseState").then(function(e){Xd=e}),t=G(e)),t}function gr(){Op||(Op=!0,es.a.measure("page.interactive"),es.a.measureFirstInteraction())}function pr(){Yd.style.width=244*Math.floor(Wd.clientWidth/244)+"px",Np=setTimeout(pr,1e3)}function fr(){Rm||(Rm=!0,document.body.classList.add("loading"),Mm.start(),CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||pr())}function hr(){Rm=!1,clearTimeout(Np),document.body.classList.remove("loading"),Mm.stop()}function yr(){setTimeout(function(){Hs.classList.remove("online")},1e4)}Object.defineProperty(t,"__esModule",{value:!0});n(34),n(27),n(23),n(29),n(35);var br,vr,Sr,jr,Er,wr,Cr,Lr,Dr,xr,kr,qr,Tr,Ir,_r,Fr,Br,Ar,Nr,Or,Pr=n(7),Ur=n(10),Rr=n(2),Mr=n(67),zr=n(0),Zr=n(9),Hr=n(1),Vr=n(36),Wr=n(12),Yr=n(8),Kr=n(20),Gr=n(68),Jr=n(69),Xr=n(14),$r=n(22),Qr=n(70),es=n(38),ts=n(76),ns=n.n(ts),as=n(77),is=n.n(as),os=n(78),rs=n.n(os),ss=n(3),ls=n.n(ss),cs=n(79),us=n(15),ds=n(80),ms=n(81),gs=n(82),ps=n(84),fs=n(85),hs=n(86),ys=n(44),bs=n(39),vs=n(18),Ss=n.n(vs),js=n(87),Es=document.getElementById("loading"),ws=document.getElementById("userMenu"),Cs=document.getElementById("notificationContainer"),Ls=document.querySelector(".projectOverview"),Ds=document.getElementById("screenCount"),xs=document.getElementById("tags"),ks=document.getElementById("taglessProjectInfoLine"),qs=document.getElementById("resetTags"),Ts=document.getElementById("projectName"),Is=document.getElementById("projectNameForm"),_s=document.getElementById("projectType"),Fs=document.getElementById("projectDensity"),Bs=document.getElementById("changeDensityButton"),As=document.getElementById("densityDialog"),Ns=document.getElementById("densityDialogSubmitButton"),Os=document.getElementById("densityHelp"),Ps=document.getElementById("densityTooltip"),Us=document.getElementById("projectLink"),Rs=document.getElementById("copyProjectLinkButton"),Ms=document.querySelector("title"),zs=document.getElementById("dashboardTab"),Zs=document.getElementById("styleguideTab"),Hs=document.querySelector("header"),Vs=document.querySelector(".headerTitle"),Ws=document.getElementById("upLink"),Ys=document.getElementById("arrowLeft"),Ks=document.getElementById("arrowRight"),Gs=document.getElementById("header"),Js=document.getElementById("headerExtra"),Xs=document.getElementById("addUserButton"),$s=document.getElementById("inviteUserPopup"),Qs=document.getElementById("inviteUserPopupAnchor"),el=document.getElementById("noOtherMembers"),tl=document.getElementById("members"),nl=document.getElementById("iosCategoryName"),al=document.getElementById("iosCategoryPrefix"),il=document.getElementById("osxCategoryName"),ol=document.getElementById("osxCategoryPrefix"),rl=document.getElementById("colorPalette"),sl=document.getElementById("rightSidebar"),ll=document.getElementById("screenDescription"),cl=new Gr.a(ll,Ba),ul=document.getElementById("screenLastUpdated"),dl=document.getElementById("screenTags"),ml=document.getElementById("layoutGridInfoContainer"),gl=document.getElementById("layoutGridCheckbox"),pl=document.getElementById("gridViz"),fl=document.getElementById("gridColumnWidth"),hl=document.getElementById("gridGutterWidth"),yl=document.getElementById("gridColumnViz"),bl=document.getElementById("verticalGutterViz"),vl=document.getElementById("gridRowHeight"),Sl=document.getElementById("gridGutterHeight"),jl=document.getElementById("gridTotalWidth"),El=document.getElementById("gridNumberOfCols"),wl=document.getElementById("resourceTabs"),Cl=document.getElementById("colorContent"),Ll=document.getElementById("screenColors"),Dl=document.getElementById("assetContent"),xl=document.getElementById("screenAssets"),kl=document.getElementById("screenAssetExports"),ql=document.getElementById("layerView"),Tl=document.getElementById("layerName"),Il=document.getElementById("layerPositionX"),_l=document.getElementById("layerPositionY"),Fl=document.getElementById("layerWidth"),Bl=document.getElementById("layerHeight"),Al=document.getElementById("layerRotation"),Nl=document.getElementById("layerOpacity"),Ol=document.getElementById("layerRadius"),Pl=document.getElementById("layerBlendMode"),Ul=document.getElementById("textLayerInfo"),Rl=document.getElementById("copyLayerContent"),Ml=document.getElementById("layerContent"),zl=document.getElementById("layerFillContainer"),Zl=document.getElementById("layerFills"),Hl=document.getElementById("layerBorderContainer"),Vl=document.getElementById("layerBorders"),Wl=document.getElementById("layerShadowContainer"),Yl=document.getElementById("layerShadows"),Kl=document.getElementById("layerBlurContainer"),Gl=document.getElementById("layerBlurType"),Jl=document.getElementById("layerBlurRadius"),Xl=document.getElementById("layerAssetContainer"),$l=document.getElementById("layerAssetPreview"),Ql=document.getElementById("layerAssetName"),ec=document.getElementById("layerAssetExports"),tc=document.querySelector("input[type='checkbox'][name='showOptimizedSVG']"),nc=document.querySelector("input[type='checkbox'][name='allAssetsShowOptimizedSVG']"),ac=document.getElementById("styleOptionsButton"),ic=document.getElementById("selectedStyleExportType"),oc=document.getElementById("showDimensionsCheckbox"),rc=document.getElementById("unitlessLineHeightCheckbox"),sc=document.getElementById("mixinCheckbox"),lc=document.getElementById("defaultValuesCheckbox"),cc=document.getElementById("guidelineDefaultValuesCheckbox"),uc=document.getElementById("copyLayerStyleContent"),dc=document.getElementById("layerStyle"),mc=document.getElementById("guidelineStyle"),gc=document.getElementById("layerStyleMirror"),pc=document.getElementById("colorStyleMirror"),fc=document.getElementById("textStyleMirror"),hc=document.getElementById("webStyleExportType"),yc=document.getElementById("styleguideStyleMirror"),bc=document.getElementById("generatorContainer"),vc=document.getElementById("guidelineStyleExportContainer"),Sc=document.getElementById("guidelineSelectedStyleExportType"),jc=document.getElementById("guidelineShowDimensionsCheckbox"),Ec=document.getElementById("guidelineUnitlessLineHeightCheckbox"),wc=document.getElementById("guidelineMixinCheckbox"),Cc=document.getElementById("styleguideWebStyleExportType"),Lc=document.getElementById("styleguideColorFormat"),Dc=document.querySelector("input[name='attributedStringShowDefaultAttributes']"),xc=document.getElementById("iosDeploymentTarget"),kc=document.getElementById("osxDeploymentTarget"),qc=document.getElementById("styleguideIosDeploymentTarget"),Tc=document.getElementById("styleguideOsxDeploymentTarget"),Ic=document.getElementById("shareSceneDialog"),_c=[],Fc=document.getElementById("zoomIn"),Bc=document.getElementById("zoomDropdownLabel"),Ac=document.getElementById("zoomDropdown"),Nc=document.getElementById("zoomOut"),Oc=document.getElementById("maymusCheckbox"),Pc=document.querySelector(".screenContent"),Uc=document.getElementById("screenView"),Rc=document.getElementById("dotgrid"),Mc=document.getElementById("screenContainer"),zc=document.getElementById("cursorImage"),Zc=document.getElementById("dots"),Hc=document.getElementById("dotPopup"),Vc=document.getElementById("dotPopupAnchor"),Wc=document.getElementById("dotColors"),Yc=document.getElementById("dotComments"),Kc=document.getElementById("newComment"),Gc=document.getElementById("newCommentButtons"),Jc=document.getElementById("newCommentButton"),Xc=document.getElementById("newCommentMirror"),$c=document.getElementById("newCommentNote"),Qc=document.getElementById("newCommentSendButton"),eu=document.getElementById("newCommentArea"),tu=document.getElementById("layers"),nu=document.getElementById("rulers"),au=document.getElementById("topRuler"),iu=document.getElementById("rightRuler"),ou=document.getElementById("bottomRuler"),ru=document.getElementById("leftRuler"),su=document.getElementById("leftDistance"),lu=document.getElementById("leftDistanceValue"),cu=document.getElementById("rightDistance"),uu=document.getElementById("rightDistanceValue"),du=document.getElementById("topDistance"),mu=document.getElementById("topDistanceValue"),gu=document.getElementById("bottomDistance"),pu=document.getElementById("bottomDistanceValue"),fu=document.getElementById("layoutGridContainer"),hu=document.getElementById("fontBook"),yu=document.getElementById("screenImage"),bu=document.getElementById("suggestedUsersContainer"),vu=document.getElementById("suggestedEmojisContainer"),Su=document.getElementById("searchScreenContainer"),ju=document.getElementById("screenSearchText"),Eu=document.getElementById("suggestedScreensContainer"),wu=document.getElementById("jumpToScreen"),Cu=document.getElementById("searchPopup"),Lu=document.getElementById("namingTip"),Du=document.getElementById("slackButton"),xu=document.getElementById("exportColors"),ku=document.getElementById("exportTextStyles"),qu=document.getElementById("manageTagsContainer"),Tu=document.getElementById("createTagContainer"),Iu=Tu.querySelector("span"),_u=document.getElementById("manageTagsPopup"),Fu=document.getElementById("selectTags"),Bu=document.getElementById("tagOfScreenTemplate"),Au=document.getElementById("tagSuggestionTemplate"),Nu=document.getElementById("tagsOfScreen"),Ou=document.getElementById("tagSuggestions"),Pu=document.getElementById("manageTagsDone"),Uu=document.getElementById("tagSearchText"),Ru=document.getElementById("manageTagsButtonTemplate"),Mu=document.getElementById("tagMenuTemplate"),zu=document.getElementById("projectInfoResizer"),Zu=document.getElementById("versionsSidebarResizer"),Hu=document.getElementById("rightSidebarResizer"),Vu=document.getElementById("generatorResizer"),Wu=document.getElementById("projectInfo"),Yu=document.getElementById("projectInfoWrapper"),Ku=document.querySelector(".versionsSidebarWrapper"),Gu=document.getElementById("rightSidebarWrapper"),Ju=document.getElementById("projectLinkRow"),Xu=document.getElementById("shortLinkMenuTemplate"),$u=document.getElementById("openSceneDialogButton"),Qu=document.getElementById("shareSceneMenuTemplate"),ed=document.getElementById("shareSceneButton"),td=document.getElementById("cancelShareSceneButton"),nd=document.getElementById("shareSceneRow"),ad=document.getElementById("sharedSceneContainer"),id=document.getElementById("unsharedSceneContainer"),od=document.getElementById("sceneShortLink"),rd=document.getElementById("openSceneNewTab"),sd=document.getElementById("copySceneShortLink"),ld=document.getElementById("dotListingTemplate"),cd=document.getElementById("dotListings"),ud=document.getElementById("dotListingsOptions"),dd=document.getElementById("dotContent"),md=document.getElementById("otherAuthorAvatarFrameTemplate"),gd=document.getElementById("tabsTutorialCircle"),pd=document.getElementById("versionsTutorialCircle"),fd=document.getElementById("tabsTutorialPopup"),hd=document.getElementById("currentUser"),yd=document.getElementById("notificationsButton"),bd=document.getElementById("exportProgressesButton"),vd=document.getElementById("screenBgColor"),Sd=document.getElementById("screenBgColorContainer"),jd=document.getElementById("styleOptionsMenu"),Ed=document.getElementById("screenSearch"),wd=document.querySelector(".menuBar"),Cd=document.querySelector(".searchArea"),Ld=document.getElementById("assetStyleExportContainer"),Dd=document.getElementById("popoutWidget"),xd=document.getElementById("textLayerStyleExportContainer"),kd=document.getElementById("textLayerStyleMirror"),qd=document.getElementById("copyTextLayerStyle"),Td=document.getElementById("textLayerStyle"),Id=document.getElementById("sourceFile"),_d=document.getElementById("sourceFileName"),Fd=document.getElementById("sourceFilePath"),Bd=document.getElementById("sourceFileActions"),Ad=document.getElementById("slackContainer"),Nd=document.getElementById("slackIntegrationRow"),Od=document.getElementById("screenLinks"),Pd=document.getElementById("allAssetsNamingConvention"),Ud=document.getElementById("assetNamingConvention"),Rd=document.getElementById("sortOptions"),Md=document.getElementById("androidResFolderReminderDialog"),zd=document.getElementById("androidResFolderReminderDoneButton"),Zd=document.getElementById("sectionTemplate"),Hd=document.getElementById("sections"),Vd=document.getElementById("sectionDivider"),Wd=document.querySelector(".projectOverviewLoading"),Yd=document.querySelector(".screenGridLoading"),Kd=document.getElementById("screenStatusIndicator"),Gd=document.getElementById("projectStatusIndicator"),Jd=document.getElementById("integrations"),Xd={},$d=new Set,Qd={},em="",tm=!1,nm=-2,am=null,im=null,om=null,rm=null,sm="",lm=null,cm=[],um=!1,dm=!1,mm=1,gm=null,pm=null,fm=new RegExp("(?:"+[Zeplin.user.username,"everyone","all","tutti"].join("|")+")\\b"),hm=!1,ym=[],bm=!0,vm=!0,Sm={},jm=!1,Em=!1,wm=75,Cm={},Lm=null,Dm=null,xm=o(1100,Kd),km=!0,qm=!1,Tm=!1,Im=0,_m=!!Yr.a&&!!Yr.a.features&&"popout"in Yr.a.features,Fm=!!Yr.a&&!!Yr.a.features&&!!Yr.a.features.integrations&&Yr.a.features.integrations.slack,Bm=!!Yr.a&&!!Yr.a.features&&!!Yr.a.features.revampedMenu,Am=!!Yr.a&&!!Yr.a.features&&!!Yr.a.features.webviews,Nm=!Am,Om=!1,Pm=_m&&Yr.a.features.popout,Um=new cs.a({mac:document.body.classList.contains("mac")}),Rm=!1,Mm=o(700,Gd),zm={jpg:"image/jpeg",js:"application/javascript",pdf:"application/pdf",png:"image/png",svg:"image/svg+xml",xml:"application/xml"},Zm={css:"CSS",sass:"Sass",scss:"SCSS",less:"Less",stylus:"Stylus",swift2:"Swift 2.3",swift:"Swift 3",objc:"Objective-C",react:"React Native",xml:"XML"},Hm={fecf33:"yellow",f69833:"orange",ee6723:"peach",c8cf2d:"green","0dcfda":"turquoise"},Vm={yellow:{name:"yellow",r:254,g:207,b:51,a:1},orange:{name:"orange",r:246,g:152,b:51,a:1},peach:{name:"peach",r:238,g:103,b:35,a:1},green:{name:"green",r:200,g:207,b:45,a:1},turquoise:{name:"turquoise",r:13,g:207,b:218,a:1}},Wm="    Generated by Zeplin\n    Copyright (C) "+(new Date).getFullYear()+' - present Zeplin\n\n    Licensed under the Apache License, Version 2.0 (the "License");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n',Ym={ios:/([^a-zA-Z0-9])/g,osx:/([^a-zA-Z0-9])/g,web:/([^a-zA-Z0-9-_])/g,android:/([^a-z0-9_])/g},Km={default:"Default",hex:"HEX",rgb:"RGB",hsl:"HSL"},Gm={default:"Default",camelCase:"camelCase",snakeCase:"snake_case",kebabCase:"kebab-case",original:"Original"};Rr.b.registerDialog(As),Rr.b.registerDialog(Ic),Rr.b.registerDialog(Md),bs.a(function(){Es.classList.remove("hidden"),fetch(Zeplin.urls.baseURL+"/projects/"+jr.id,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).then(function(){P()}).catch(function(e){Es.classList.add("hidden"),Hr.b(e)})}),document.body.classList.toggle("features-popout",_m)?Pm&&(Dd.classList.remove("disabled"),Dd.dataset.tooltip="Pop screen out",Yr.a.ipcRenderer.on("open-popout",a),Dd.addEventListener("click",a)):Dd.remove(),document.body.classList.toggle("features-integrations-slack",Fm),Bm&&(Yr.a.ipcRenderer.on("new-project",function(){location.assign(zr.I("projects",{query:{newProject:"true"}}))}),Yr.a.ipcRenderer.on("leave-project",function(){Rr.a({message:'Leave "'+jr.name+'"?',done:{name:"LEAVE",cb:function(){Oi(Zeplin.user._id)}},cancel:{name:"CANCEL"}})}),Yr.a.ipcRenderer.on("delete-project",function(){bs.b(jr.id,jr.name)}),Yr.a.ipcRenderer.on("delete-screen",function(){Rr.a({message:'Delete "'+am.name+'"?',done:{name:"DELETE SCREEN",cb:function(){Hi(am._id).then(function(){R(jr.id,vn())})}},cancel:{name:"CANCEL"}})}),Yr.a.ipcRenderer.on("set-as-thumbnail",function(){Mi(am._id).then(function(){qt()})}),Yr.a.ipcRenderer.on("add-tag",function(){bo(am._id)}),Yr.a.ipcRenderer.on("manage-tags",function(){bo(am._id)}),Yr.a.ipcRenderer.on("dashboard",function(){R(jr.id,vn())}),Yr.a.ipcRenderer.on("styleguide",function(){M(jr.id)}),Yr.a.ipcRenderer.on("zoom-in",Ea),Yr.a.ipcRenderer.on("zoom-out",wa),Yr.a.ipcRenderer.on("actual-size",function(){mm=1,Rc.classList.add("zooming"),ut()}),Yr.a.ipcRenderer.on("jump-to-screen",function(){Vd.classList.add("hidden"),jr.screens&&jr.screens.length&&Su.classList.contains("hidden")&&Ln()}),Yr.a.ipcRenderer.on("show-versions",lt),Yr.a.ipcRenderer.on("hide-versions",ct),Kr.a.bindProjectMenuPreferenceChanges(function(){Array.from(document.querySelectorAll(".sidebarOptionsButton")).forEach(or)}),Kr.a.onOpenRecentProject=function(e){U(zr.I("project",{url:{pid:e}}))},Kr.a.onProjects=P),document.body.classList.toggle("features-webviews",Am)&&(Yr.a.ipcRenderer.on("load-url",function(e,t){jr&&new URL(t).href.match(/\/project\/([0-9a-z]+)/)[1]===jr.id||(Om=!0),U(t)}),Yr.a.ipcRenderer.on("projects",O),Yr.a.ipcRenderer.on("active",function(e,t){if(!(Nm=t))return jr&&"dashboard"!==sm&&R(jr.id,vn()),wn(),void fr();Om||(hr(),i())}));var Jm={king:"Owner",queen:"Admin",rook:"Editor",knight:"Member",pawn:"",owner:"Owner",admin:"Admin",user:""},Xm=document.getElementById("memberTemplate"),$m=(new TextDecoder).decode(new Uint8Array(Array.from(crypto.getRandomValues(new Uint8Array(16)),function(e){return e%94+33})));Du.addEventListener("click",function(){zr.w.canUpdateProject(Er)&&(Fm?Yr.a.ipcRenderer.send("add-to-slack",{id:jr.id,name:jr.name}):(h(),r(Br,{inNewTab:!1})))});var Qm=document.querySelector(".styleContainer");Array.from(document.querySelectorAll("input[name='androidDensity']")).forEach(function(e){e.addEventListener("change",function(e){var t=document.querySelector("input[name='androidTabletDensity'][value='"+e.target.value+"']");t?t.checked=!0:(t=document.querySelector("input[name='androidTabletDensity']:checked"))&&(t.checked=!1)})}),Array.from(document.querySelectorAll("input[name='androidTabletDensity']")).forEach(function(e){e.addEventListener("change",function(e){document.querySelector("input[name='androidDensity'][value='"+e.target.value+"']").checked=!0})}),Bs.addEventListener("click",function(e){zr.w.canUpdateProject(Er)&&As.showModal()}),Ns.addEventListener("click",function(){var e=document.querySelector("input[name='"+I()+"']:checked");e&&e.value!==jr.density&&F(e.value)}),As.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&Ps.classList.add("hidden")}),As.addEventListener("keydown",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:Ps.classList.contains("hidden")||(e.preventDefault(),e.stopPropagation(),Ps.classList.add("hidden"));break;case Zeplin.KEY_CODE.SPACE:var t=As.querySelector("label:focus");t&&t.click();break;case Zeplin.KEY_CODE.ENTER:Ns.click()}}),Os.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(e.stopPropagation(),e.preventDefault(),Ps.classList.toggle("hidden"))}),Ps.addEventListener("click",function(e){e.stopPropagation()}),Array.from(document.querySelectorAll(".projectTab")).forEach(function(e){e.addEventListener("change",function(e){switch(e.target.value){case"styleguide":M(jr.id);break;case"dashboard":default:R(jr.id,vn())}})}),Xs.addEventListener("click",function(e){e.stopPropagation(),Vr.c()&&(zo(),Vr.e(Yu,jr.id,jr.users,wr&&"pawn"!==Er.role),rr(),Wu.addEventListener("scroll",sr),Yu.addEventListener("listRefreshed",lr),mixpanel.track("Showed invite user pop up",{type:"project"}))});var eg,tg=Intl.DateTimeFormat("en",{year:"numeric",month:"long",day:"numeric"}),ng=Intl.DateTimeFormat("en",{hour:"numeric",minute:"numeric"}),ag=new WeakMap,ig=document.querySelector(".versions"),og=document.getElementById("versionTemplate"),rg=document.getElementById("nodeColorChooserTemplate");ig.addEventListener("click",function(e){e.stopPropagation()});var sg=document.getElementById("versionHeaderTemplate"),lg={open:"noOpenDots",resolved:"noResolvedDots"};cd.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){e.stopPropagation();var t=e.target.closest(".dotListing");Wn(t.dataset.did,t.dataset.cmid)}});var cg;window.requestIdleCallback=window.requestIdleCallback||function(e,t){var n=4;return t&&"timeout"in t&&(n=t.timeout),setTimeout(e,n)},window.cancelIdleCallback=window.cancelIdleCallback||clearTimeout;var ug={},dg=new IntersectionObserver(function(e,t){e.forEach(function(e){var n=e.target;if(0===e.intersectionRatio)return cancelIdleCallback(ug[n.dataset.id]),void delete ug[n.dataset.id];var a=jr.findScreen(n.dataset.id);ug[n.dataset.id]=requestIdleCallback(function(){t.unobserve(n),delete ug[n.dataset.id],zr.x(n.querySelector(".screenImage"),a.versions[0].snapshot,"url")},{timeout:150})})},{root:Ls,threshold:[0,.01]}),mg=document.getElementById("screenTemplate"),gg=document.getElementById("textStyleTemplate"),pg=document.getElementById("guidelineColorTemplate"),fg=document.getElementById("colorTemplate"),hg=document.getElementById("layerShadowTemplate");kl.addEventListener("click",He),xl.addEventListener("click",Ve),Xl.addEventListener("click",Ve);var yg=document.getElementById("assetExportTemplate"),bg=document.getElementById("assetTemplate"),vg=document.getElementById("layerTemplate");Wc.addEventListener("click",function(e){e.target.classList.contains("dotColor")&&ot(e.target.dataset.color,Hc.dataset.id,am,om)}),document.querySelector(".versionsToggle").addEventListener("click",lt),document.querySelector(".versionsCollapser").addEventListener("click",ct);var Sg,jg,Eg=!1;gl.addEventListener("change",function(){fu.classList.toggle("hidden",!gl.checked),clearTimeout(jg),jg=setTimeout(function(){Zr.a.set(Qd.pid,"layoutGridEnabled",gl.checked)},1e3)});var wg=document.getElementById("gridCanvas"),Cg={partial:[pt,ft],initial:[pt,ft,ht,yt],zoom:[ft],density:[ft,ht,yt],layers:[ht,yt]},Lg=!1;document.querySelector(".screenColorsRestricted a").addEventListener("click",function(e){e.preventDefault(),vt(wr._id,Gu)}),document.querySelector(".screenAssetsRestricted a").addEventListener("click",function(e){e.preventDefault(),vt(wr._id,Gu)});var Dg,xg,kg,qg,Tg,Ig=document.getElementById("sectionMenuTemplate"),_g=document.getElementById("screenMenuTemplate"),Fg=document.getElementById("moveCubuk");Vd.addEventListener("click",function(){var e=Vd.dataset.nextScreenId,t=Q(e),n=jr.findScreenSection(e);Vd.classList.add("hidden"),n&&zr.w.canManageScreens(Er)&&Xt(n._id,t.dataset.index)});var Bg,Ag;Ls.addEventListener("scroll",function(){Bg||(Bg=!0,Vd.classList.add("hidden"),clearTimeout(Ag),Ag=setTimeout(function(){Bg=!1},200))}),Hd.addEventListener("dragstart",function(e){e.target.closest(".screenLink")&&e.preventDefault()});var Ng,Og="36px";fs.a.enable({containers:Hd,root:Ls,allowX:!1,canGrab:function(e,t){return!!(zr.w.canManageScreens(Er)&&e.classList.contains("user")&&t.closest(".sectionHeader"))},onGrab:function(e,t){e.classList.contains("collapsed")||(Vt(e,!1),t.classList.add("collapsed")),xe(),document.body.classList.add("dragging"),t.classList.add("grabbed")},onDrop:function(e,t,n,a,i){return new Promise(function(e){var n=t.getBoundingClientRect(),a=i.getBoundingClientRect(),o=n.left-a.left,r=n.top-a.top,s=Math.sqrt(Math.pow(o,2)+Math.pow(r,2)),l=150*Math.max(Math.sqrt(s/n.height),1);i.classList.remove("grabbed"),i.style.transition="transform "+l+"ms ease-out, box-shadow "+l+"ms ease-in",i.style.transform="translate("+o+"px, "+r+"px)",i.style.boxShadow="none",i.addEventListener("transitionend",function n(){i.removeEventListener("transitionend",n);var a=parseInt(t.dataset.index,10),o=Array.prototype.indexOf.call(t.parentNode.children,t);Hd.firstElementChild.classList.contains("default")||(a++,o++),o!==a&&gn(t.dataset.id,o,a),document.body.classList.remove("dragging"),e()})})},onMove:function(e,t,n,a,i){if(n){var o=t.getBoundingClientRect();if(n!==e){var r=n.getBoundingClientRect();t.remove(),o.bottom>r.bottom?n.appendChild(t):n.insertBefore(t,n.firstElementChild)}else if(a&&a!==t){if(a.classList.contains("default"))return;var s=a.getBoundingClientRect(),l=i.getBoundingClientRect();o.top>=s.bottom?l.height<=s.top&&l.top<s.top+s.height/2&&(t.remove(),n.insertBefore(t,a)):l.bottom>s.top+s.height/2&&s.bottom<=window.innerHeight&&(t.remove(),n.insertBefore(t,a.nextElementSibling))}}}}),xs.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&e.target.classList.contains("tag")&&!wd.classList.contains("searching")&&(e.target.classList.contains("selected")?e.target.classList.remove("selected"):(e.target.classList.contains("untagged")?bn():((document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)||bn(),document.querySelector(".tag.untagged").classList.remove("selected")),e.target.classList.add("selected")),jn())}),qs.addEventListener("click",function(){bn(),jn()}),hd.addEventListener("click",wn),bd.addEventListener("click",wn),yd.addEventListener("click",wn);var Pg={};Rc.addEventListener("mousedown",function(e){Tm=!0,Pg={x:e.clientX,y:e.clientY},document.addEventListener("mouseup",Cn),qm&&(Rc.classList.remove("holdingSpace"),Rc.classList.add("panMode"),zc.src=Zeplin.urls.appURL+"/img/grabbing.svg")}),Rc.addEventListener("mousemove",function(e){if(e.preventDefault(),qm&&Tm){La();var t=Uc.scrollTop-e.clientY+Pg.y;t=t>0?t:0;var n=Uc.scrollLeft-e.clientX+Pg.x;n=n>0?n:0,Uc.scrollTop=t,Uc.scrollLeft=n}zc.style.transform="translate("+(e.clientX-8+Uc.scrollLeft)+"px, "+(e.clientY-68+Uc.scrollTop)+"px)",Pg={x:e.clientX,y:e.clientY}}),document.addEventListener("keyup",function(e){e.keyCode===Zeplin.KEY_CODE.SPACE&&(e.preventDefault(),qm=!1,Rc.classList.remove("panMode","holdingSpace"),zc.classList.add("hidden"))}),document.addEventListener("keydown",function(e){if(e.keyCode===Zeplin.KEY_CODE.ESC)wn();else if(e.keyCode===Zeplin.KEY_CODE.ArrowLeft){if(En()||document.querySelector(".optionsOpen"))return;e.preventDefault(),wn(),window.ExportProgresses&&ExportProgresses.hideExportProgressesContainer(),nm-1>=0&&(nm--,z(jr.id,$(nm).dataset.id))}else if(e.keyCode===Zeplin.KEY_CODE.ArrowRight){if(En()||document.querySelector(".optionsOpen"))return;e.preventDefault(),wn(),window.ExportProgresses&&ExportProgresses.hideExportProgressesContainer(),nm>=0&&nm+1<mn()&&(nm++,z(jr.id,$(nm).dataset.id))}else if(e.keyCode===Zeplin.KEY_CODE.ArrowUp){if(En()||document.querySelector(".optionsOpen")||dm)return;if(!Pc.classList.contains("versionsShown"))return;e.preventDefault(),wn(),(t=am.versions.findIndex(function(e){return e._id===im._id})-1)>=0&&ue(am,am.versions[t],{scrollIfNecessary:!0})}else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown){if(En()||document.querySelector(".optionsOpen")||dm)return;if(!Pc.classList.contains("versionsShown"))return;e.preventDefault(),wn();var t=am.versions.findIndex(function(e){return e._id===im._id})+1;t<am.versions.length&&ue(am,am.versions[t],{scrollIfNecessary:!0})}else if(e.keyCode===Zeplin.KEY_CODE.SPACE){if(En()||document.querySelector(".optionsOpen"))return;e.preventDefault(),qm||(qm=!0,document.body.classList.contains("mac")?(Rc.classList.add("panMode"),zc.src=Tm?Zeplin.urls.appURL+"/img/grabbing.svg":Zeplin.urls.appURL+"/img/grab.svg",zc.classList.remove("hidden"),zc.style.transform="translate("+(Pg.x-8+Uc.scrollLeft)+"px, "+(Pg.y-68+Uc.scrollTop)+"px)"):Tm?Rc.classList.add("panMode"):Rc.classList.add("holdingSpace"))}else if(e.altKey)switch(e.keyCode){case Zeplin.KEY_CODE.KeyD:e.preventDefault(),e.stopPropagation(),R(jr.id,vn());break;case Zeplin.KEY_CODE.KeyS:e.preventDefault(),e.stopPropagation(),M(jr.id);break;case Zeplin.KEY_CODE.KeyEqualGecko:case Zeplin.KEY_CODE.KeyEqualWebkit:e.preventDefault(),e.stopPropagation(),Ea();break;case Zeplin.KEY_CODE.KeyMinusGecko:case Zeplin.KEY_CODE.KeyMinusWebkit:e.preventDefault(),e.stopPropagation(),wa();break;case Zeplin.KEY_CODE.Digit0:e.preventDefault(),e.stopPropagation(),mm=1,Rc.classList.add("zooming"),ut();break;case Zeplin.KEY_CODE.KeyJ:e.preventDefault(),e.stopPropagation(),Vd.classList.add("hidden"),jr&&jr.screens&&jr.screens.length&&Su.classList.contains("hidden")&&Ln();break;case Zeplin.KEY_CODE.KeyT:e.preventDefault(),e.stopPropagation(),jr&&jr.screens&&am&&bo(am._id)}else if(e.keyCode===Zeplin.KEY_CODE.KeyF&&(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)){if("dashboard"!==sm)return;e.preventDefault(),Vd.classList.add("hidden"),Ls.scrollTop=0,Cd.classList.add("focus"),setTimeout(function(){zr.n(Ed)},500)}});var Ug=0;Cu.addEventListener("click",function(e){e.stopPropagation(),e.target.classList.contains("screenSuggestion")&&(Tr=ym[e.target.dataset.index],Dn())}),Eu.addEventListener("mousemove",function(e){if(e.stopPropagation(),Ir!==e.clientX||_r!==e.clientY){var t=Eu.querySelector(".selected");t&&t.classList.remove("selected"),e.target.classList.add("selected"),Ug=parseInt(e.target.dataset.index),Tr=ym[e.target.dataset.index],Ir=e.clientX,_r=e.clientY}}),Cu.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),ym.length&&Ug<ym.length-1&&xn(Ug+1);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),ym.length&&Ug>0&&xn(Ug-1);break;case Zeplin.KEY_CODE.ENTER:e.preventDefault(),Dn();break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),Li()}}),ju.addEventListener("input",function(e){e.preventDefault(),wi(e.target.value)}),wu.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),jr.screens&&jr.screens.length&&Su.classList.contains("hidden")&&Ln()}),Ys.addEventListener("click",function(){nm-1>=0&&(kn(),nm--,z(jr.id,$(nm).dataset.id))}),Ks.addEventListener("click",function(){nm+1<jr.screens.length&&(kn(),nm++,z(jr.id,$(nm).dataset.id))}),document.addEventListener("click",function(e){e.button!==Zeplin.MOUSE_BUTTON.LEFT||jm||wn(),jm=!1}),document.getElementById("closeLayerView").addEventListener("click",function(){Tn(),Bn()});var Rg=0,Mg=document.getElementById("layerBorderTemplate");Ul.addEventListener("mouseover",function(e){var t=e.target.closest(".textStyleWrapper");if(t&&(!e.relatedTarget||e.relatedTarget.closest(".textStyleWrapper")!==t)){var n=Ml.querySelectorAll('span[data-color-group="'+t.dataset.colorGroup+'"]');Array.from(n).forEach(function(e){e.classList.add("hovered")})}}),Ul.addEventListener("mouseout",function(e){var t=e.target.closest(".textStyleWrapper");if(t&&(!e.relatedTarget||e.relatedTarget.closest(".textStyleWrapper")!==t)){var n=Ml.querySelectorAll('span[data-color-group="'+t.dataset.colorGroup+'"]');Array.from(n).forEach(function(e){e.classList.remove("hovered")})}});var zg={css:"css",javascript:"text/javascript",less:"text/x-less",objc:"text/x-objectivec",react:"text/javascript",sass:"sass",scss:"text/x-scss",stylus:"stylus",swift:"text/x-swift",swift2:"text/x-swift",xml:"application/xml"},Zg={android:function(e){return ca(["showDefaultValues","showDimensions","styleColorFormat","androidLineSpacingType","androidStyleExportType"]).then(function(t){var n=t[0],a=t[1],i=t[2],o=t[3];return"react"===t[4]?ua(e,a,i,n):da(e,o)})},ios:function(e){return ca(["showDefaultValues","showDimensions","styleColorFormat","iosStyleExportType","iosDeploymentTarget","attributedStringShowDefaultAttributes"]).then(function(t){var n=t[0],a=t[1],i=t[2],o=t[3],r=t[4],s=t[5];if("react"===o)return ua(e,a,i,n);if("swift"===o||"objc"===o){if(!("text"===e.type&&e.textStyles.length>1))return void document.body.classList.remove("multipleTextStyles");var l=Qn(e),c=Object(ds.a)(jr,e,l,o,r,s);return c?(document.body.classList.add("multipleTextStyles"),c):void document.body.classList.remove("multipleTextStyles")}document.body.classList.remove("multipleTextStyles")})},osx:function(e){return ca(["osxStyleExportType","osxDeploymentTarget","attributedStringShowDefaultAttributes"]).then(function(t){var n=t[0],a=t[1],i=t[2];if("swift"===n||"objc"===n){if(!("text"===e.type&&e.textStyles.length>1))return void document.body.classList.remove("multipleTextStyles");var o=Qn(e),r=Object(ds.a)(jr,e,o,n,a,i);return r?(document.body.classList.add("multipleTextStyles"),r):void document.body.classList.remove("multipleTextStyles")}document.body.classList.remove("multipleTextStyles")})},web:function(e){return ca(["showDefaultValues","showDimensions","styleColorFormat","webMixin","webStyleExportType","webUnitlessLineHeight"]).then(function(t){var n,a=t[0],i=t[1],o=t[2],r=t[3],s=t[4],l=t[5],c=e.toCSS(jr.densityDivisor,i,l,o,a),u=[];if("text"===e.type){var d=e.generateTextStyleCSS(jr,l,r,o,a);u=u.concat(d)}if(Object.keys(c).length>1&&u.unshift(c),r){var m=e.getDefaultTextStyle(),g=m&&jr.findTextStyleEqual(m);if(g&&!Wr.b(Wr.e(g.name))){var p=u[0],f=g.toCSS(jr.densityDivisor,l,o,a);for(var h in f)"selector"!==h&&delete p[h];p.mixinEntry=f.selector.substr(1)}}return n=u.map(function(e){return Wr.h(s,e,jr.getColorMapByFormat(o))}).join("\n\n"),{exportType:s,content:n}})}},Hg={android:function(e,t,n,a){var i,o,r;return ca(["showDefaultValues","styleColorFormat","androidLineSpacingType","androidStyleExportType"]).then(function(s){var l=s[0],c=s[1],u=s[2],d=s[3];return"xml"===d?(i=fi(t),o=hi(a,u),r="\x3c!-- "+e+" --\x3e\n\n"+i+"\n\n\x3c!-- "+n+" --\x3e\n\n"+o):(i=gi(t,c),o=pi(a,c,l),r="// "+e+"\n\n"+i+"\n\n// "+n+"\n\n"+o),{exportType:d,colorStyle:i,textStyle:o,allStyles:r}})},ios:function(e,t,n,a){var i,o,r;return ca(["showDefaultValues","styleColorFormat","iosCategoryName","iosDeploymentTarget","iosStyleExportType"]).then(function(s){var l=s[0],c=s[1],u=s[2],d=s[3],m=s[4];if("objc"===m){var g;u?g=u:(g=jr.prefix.toUpperCase()+"Additions",Zr.a.set(Qd.pid,"iosCategoryName",g)),i=ni(t,u),o=ii(a,g,d)}else"react"===m?(i=gi(t,c),o=pi(a,c,l)):(i=ai(t,m),o=oi(a,d,m));return r="// "+e+"\n\n"+i+"\n\n// "+n+"\n\n"+o,{exportType:m,colorStyle:i,textStyle:o,allStyles:r}})},osx:function(e,t,n,a){var i,o,r;return ca(["osxCategoryName","osxDeploymentTarget","osxStyleExportType"]).then(function(s){var l=s[0],c=s[1],u=s[2];if("objc"===u){var d;l?d=l:(d=jr.prefix.toUpperCase()+"Additions",Zr.a.set(Qd.pid,"osxCategoryName",d)),i=ri(t,d),o=li(a,d,c)}else i=si(t,u),o=ci(a,c,u);return r="// "+e+"\n\n"+i+"\n\n// "+n+"\n\n"+o,{exportType:u,colorStyle:i,textStyle:o,allStyles:r}})},web:function(e,t,n,a){var i,o,r;return ca(["showDefaultValues","styleColorFormat","webMixin","webStyleExportType","webUnitlessLineHeight"]).then(function(s){var l=s[0],c=s[1],u=s[2],d=s[3],m=s[4];i=ui(d,t,c),o=mi(d,m,a,u,c,l),r="/* "+e+" */\n\n"+("css"===d?":root {\n":"")+i+("css"===d?"}":"")+"\n\n/* "+n+" */\n\n";var g=u?di(d,m,a,c):"";return g.length&&(r+=(g=("css"===d?":root {\n":"")+g+("css"===d?"}":""))+Wr.d(d,a)+"\n\n"),r+=o,{exportType:d,colorStyle:i,textStyle:o,allStyles:r}})}},Vg={android:"light_orange",ios:"lightOrange",osx:"lightOrange",web:"light-orange"},Wg=[new Xr.a({r:254,g:207,b:51,a:1,name:"yellow"}),new Xr.a({r:253,g:189,b:57,a:1,name:"lightOrange"}),new Xr.a({r:238,g:103,b:35,a:1,name:"peach"})],Yg=Object.freeze({android:[new $r.a({name:"header",fontFace:"Roboto-Regular",fontSize:24,color:{r:87,g:71,b:81}})],ios:[new $r.a({name:"header",fontFace:"SFUIDisplay-Regular",fontSize:24,color:{r:87,g:71,b:81}})],osx:[new $r.a({name:"header",fontFace:"SFUIDisplay-Regular",fontSize:24,color:{r:87,g:71,b:81}})],web:[new $r.a({name:"header",fontFace:"system-ui",fontSize:24,color:{r:87,g:71,b:81}})]});Array.from(document.querySelectorAll('input[type="radio"][name="dotListingsStatusFilter"]')).forEach(function(e){e.addEventListener("change",function(e){va(e.target.value)})}),Array.from(document.querySelectorAll(".sidebarOptionsButton")).forEach(function(e){e.addEventListener("click",function(t){t.stopPropagation(),_n(),zo();var n=e.closest(".sidebarOptionRealm"),a=document.getElementById(e.dataset.menuId);if(n.classList.contains("optionsOpen"))or(e);else{var i=zr.j(e)||n;Im=i.scrollTop,zo(),n.classList.add("optionsOpen"),i.classList.add("optionsOpen"),i.style.top=-Im+"px",a.classList.add("open"),tr(i,a),ir(e,a)}})}),Array.from(document.querySelectorAll("input[name='colorFormat']")).forEach(function(e){e.addEventListener("change",function(e){Sa("styleguideColorFormat",e.target.value)})}),Array.from(document.querySelectorAll("input[name='styleguideColorFormat']")).forEach(function(e){e.addEventListener("change",function(e){Sa("colorFormat",e.target.value)})}),Array.from(document.querySelectorAll("input[name='lineSpacingType']")).forEach(function(e){e.addEventListener("change",function(e){ja("styleguideLineSpacingType",e.target.value)})}),Array.from(document.querySelectorAll("input[name='styleguideLineSpacingType']")).forEach(function(e){e.addEventListener("change",function(e){ja("lineSpacingType",e.target.value)})}),Array.from(document.querySelectorAll("input[name='androidStyleExportType']")).forEach(function(e){e.addEventListener("change",function(e){document.body.dataset.styleType=e.target.value,Sc.textContent=Zm[e.target.value],ic.textContent=Zm[e.target.value],ar(e.target.value),Zr.a.set(Qd.pid,"androidStyleExportType",e.target.value).then(function(){ma(),ya()})})}),Dc.addEventListener("change",function(e){Zr.a.set(Qd.pid,"attributedStringShowDefaultAttributes",e.target.checked).then(function(){ma()})}),Array.from(document.querySelectorAll("input[name='iosStyleExportType']")).forEach(function(e){e.addEventListener("change",function(e){document.body.dataset.styleType=e.target.value,Sc.textContent=Zm[e.target.value],ic.textContent=Zm[e.target.value],document.querySelector("input[name='styleguideIosStyleExportType'][value='"+e.target.value+"']").checked=!0,document.querySelector(".iosCategoryContainer .categoryNameContainer .categoryTitle").textContent=("objc"===e.target.value?"Category":"Extension")+" name:",Zr.a.set(Qd.pid,"iosStyleExportType",e.target.value).then(function(){ma(),ya()})})}),Array.from(document.querySelectorAll("input[name='styleguideIosStyleExportType']")).forEach(function(e){e.addEventListener("change",function(e){var t=e.target.value;document.body.dataset.styleType=t,Sc.textContent=Zm[t],ic.textContent=Zm[t],"swift2"!==t&&(document.querySelector("input[name='iosStyleExportType'][value='"+t+"']").checked=!0),document.querySelector(".iosCategoryContainer .categoryNameContainer .categoryTitle").textContent=("objc"===t?"Category":"Extension")+" name:",Zr.a.set(Qd.pid,"iosStyleExportType",t).then(function(){ma(),ya()})})}),Array.from(document.querySelectorAll("input[name='osxStyleExportType']")).forEach(function(e){e.addEventListener("change",function(e){document.body.dataset.styleType=e.target.value,document.querySelector(".osxCategoryContainer .categoryNameContainer .categoryTitle").textContent=("objc"===e.target.value?"Category":"Extension")+" name:",Sc.textContent=Zm[e.target.value],ic.textContent=Zm[e.target.value],document.querySelector("input[name='styleguideOsxStyleExportType'][value='"+e.target.value+"']").checked=!0,Zr.a.set(Qd.pid,"osxStyleExportType",e.target.value).then(function(){ya(),ma()})})}),Array.from(document.querySelectorAll("input[name='styleguideOsxStyleExportType']")).forEach(function(e){e.addEventListener("change",function(e){var t=e.target.value;document.body.dataset.styleType=t,document.querySelector(".osxCategoryContainer .categoryNameContainer .categoryTitle").textContent=("objc"===t?"Category":"Extension")+" name:",Sc.textContent=Zm[t],ic.textContent=Zm[t],"swift2"!==t&&(document.querySelector("input[name='osxStyleExportType'][value='"+t+"']").checked=!0),Zr.a.set(Qd.pid,"osxStyleExportType",t).then(function(){ya(),ma()})})}),Array.from(document.querySelectorAll("input[name='webStyleExportType']")).forEach(function(e){e.addEventListener("change",function(e){document.body.dataset.styleType=e.target.value,Sc.textContent=Zm[e.target.value],ic.textContent=Zm[e.target.value],hc.querySelector("span").textContent=Zm[e.target.value],Cc.querySelector("span").textContent=Zm[e.target.value],document.querySelector("input[name='styleguideWebStyleExportType'][value='"+e.target.value+"']").checked=!0,Zr.a.set(Qd.pid,"webStyleExportType",e.target.value).then(function(){ma(),ya()})})}),Array.from(document.querySelectorAll("input[name='styleguideWebStyleExportType']")).forEach(function(e){e.addEventListener("change",function(e){document.body.dataset.styleType=e.target.value,Sc.textContent=Zm[e.target.value],ic.textContent=Zm[e.target.value],hc.querySelector("span").textContent=Zm[e.target.value],Cc.querySelector("span").textContent=Zm[e.target.value],document.querySelector("input[name='webStyleExportType'][value='"+e.target.value+"']").checked=!0,Zr.a.set(Qd.pid,"webStyleExportType",e.target.value).then(function(){ma(),ya()})})}),Array.from(document.querySelectorAll("input[name='iosDeploymentTarget']")).forEach(function(e){e.addEventListener("change",function(e){xc.querySelector("span").textContent=e.target.value,qc.querySelector("span").textContent=e.target.value,document.querySelector("input[name='styleguideIosDeploymentTarget'][value='"+e.target.value+"']").checked=!0,Zr.a.set(Qd.pid,"iosDeploymentTarget",e.target.value).then(function(){ya(),ma()})})}),Array.from(document.querySelectorAll("input[name='styleguideIosDeploymentTarget']")).forEach(function(e){e.addEventListener("change",function(e){qc.querySelector("span").textContent=e.target.value,xc.querySelector("span").textContent=e.target.value,document.querySelector("input[name='iosDeploymentTarget'][value='"+e.target.value+"']").checked=!0,Zr.a.set(Qd.pid,"iosDeploymentTarget",e.target.value).then(function(){ya(),ma()})})}),Array.from(document.querySelectorAll("input[name='osxDeploymentTarget']")).forEach(function(e){e.addEventListener("change",function(e){kc.querySelector("span").textContent=e.target.value,Tc.querySelector("span").textContent=e.target.value,document.querySelector("input[name='styleguideOsxDeploymentTarget'][value='"+e.target.value+"']").checked=!0,Zr.a.set(Qd.pid,"osxDeploymentTarget",e.target.value).then(function(){ya(),ma()})})}),Array.from(document.querySelectorAll("input[name='styleguideOsxDeploymentTarget']")).forEach(function(e){e.addEventListener("change",function(e){Tc.querySelector("span").textContent=e.target.value,kc.querySelector("span").textContent=e.target.value,document.querySelector("input[name='osxDeploymentTarget'][value='"+e.target.value+"']").checked=!0,Zr.a.set(Qd.pid,"osxDeploymentTarget",e.target.value).then(function(){ya(),ma()})})});var Kg;oc.addEventListener("change",function(){jc.checked=oc.checked,clearTimeout(Kg),Kg=setTimeout(function(){Zr.a.set(Qd.pid,"showDimensions",oc.checked).then(function(){ma(),ya()})})});var Gg;jc.addEventListener("change",function(){oc.checked=jc.checked,clearTimeout(Gg),Gg=setTimeout(function(){Zr.a.set(Qd.pid,"showDimensions",jc.checked).then(function(){ma(),ya()})})});var Jg;rc.addEventListener("change",function(){Ec.checked=rc.checked,clearTimeout(Jg),Jg=setTimeout(function(){Zr.a.set(Qd.pid,"webUnitlessLineHeight",rc.checked).then(function(){ma(),ya()})})});var Xg;Ec.addEventListener("change",function(){rc.checked=Ec.checked,clearTimeout(Xg),Xg=setTimeout(function(){Zr.a.set(Qd.pid,"webUnitlessLineHeight",Ec.checked).then(function(){ma(),ya()})})});var $g;sc.addEventListener("change",function(){wc.checked=sc.checked,clearTimeout($g),$g=setTimeout(function(){Zr.a.set(Qd.pid,"webMixin",sc.checked).then(function(){ma(),ya()})})});var Qg;wc.addEventListener("change",function(){sc.checked=wc.checked,clearTimeout(Qg),Qg=setTimeout(function(){Zr.a.set(Qd.pid,"webMixin",wc.checked).then(function(){ma(),ya()})})});var ep;lc.addEventListener("change",function(){cc.checked=lc.checked,clearTimeout(ep),ep=setTimeout(function(){Zr.a.set(Qd.pid,"showDefaultValues",lc.checked).then(function(){ma(),ya()})})});var tp;cc.addEventListener("change",function(){lc.checked=cc.checked,clearTimeout(tp),tp=setTimeout(function(){Zr.a.set(Qd.pid,"showDefaultValues",cc.checked).then(function(){ma(),ya()})})});var np;tc.addEventListener("change",function(){clearTimeout(np),np=setTimeout(function(){nc.checked=tc.checked,Zr.a.set(Qd.pid,"showOptimizedSVG",tc.checked).then(function(){Array.from(document.querySelectorAll(".assetExporter[data-format='svg']")).forEach(function(e){e.querySelector(".assetStats").classList.toggle("hidden",!tc.checked)})})})}),nc.addEventListener("change",function(){clearTimeout(np),np=setTimeout(function(){tc.checked=nc.checked,Zr.a.set(Qd.pid,"showOptimizedSVG",nc.checked).then(function(){Array.from(document.querySelectorAll(".assetExporter[data-format='svg']")).forEach(function(e){e.querySelector(".assetStats").classList.toggle("hidden",!nc.checked)})})})});var ap=!1;if(Mc.addEventListener("click",function(e){if(zo(),Em)Em=!1;else{var t=!1;if(e.target.classList.contains("dot"))e.stopPropagation(),t=!0,In(),Wn(e.target);else if(ap||(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)){e.stopPropagation(),t=!0,La(),Oc.checked=!0,Zc.classList.remove("invisible"),Zr.a.set(Qd.pid,"noteVisibility",!0),In(),Tn(),va("open",!0);var n=Zc.getBoundingClientRect(),a=am.dots&&am.dots.length?""+(parseInt(am.dots[am.dots.length-1].name,10)+1):"1";om=null,Zr.a.get(Qd.pid,"lastNoteColorUsed").then(function(t){Wn(at(pm={name:a,x:Math.max(0,Math.min((e.clientX-n.left)/n.width,1)),y:Math.max(0,Math.min((e.clientY-n.top)/n.height,1)),color:Vm[t]}))})}else if(e.target.classList.contains("layer")){e.stopPropagation(),t=!0,_n();var i=e.target;if(document.elementsFromPoint){var o=document.elementsFromPoint(e.clientX,e.clientY).filter(function(e){return e.classList.contains("layer")});if(Lm&&Dm){var r=document.elementsFromPoint(Lm,Dm).filter(function(e){return e.classList.contains("layer")}),s=function(e,t){if(e.dataset.index===t.dataset.index)return!0};i=Math.hypot(Lm-e.clientX,Dm-e.clientY)>40||!zr.a(o,r,s)?o[0]:o[(o.findIndex(function(e){return e.classList.contains("selected")})+1)%o.length]}else i=o[0];Lm=e.clientX,Dm=e.clientY}aa(i)}t&&(ws.classList.add("hidden"),Cs.classList.add("hidden"),or(ac),cl.submitEdits())}}),Mc.addEventListener("mouseleave",function(){if(lm){Rc.addEventListener("mousemove",Vn),Mc.classList.add("measuring"),um=!0;var e=document.querySelector(".parent");e&&e.classList.remove("parent")}}),Mc.addEventListener("mouseenter",function(e){Rc.removeEventListener("mousemove",Vn),um=!1}),Rc.addEventListener("mouseenter",function(){qm&&document.body.classList.contains("mac")&&zc.classList.remove("hidden"),Mc.classList.add("measuring"),um=!0}),Rc.addEventListener("mouseleave",function(){zc.classList.add("hidden"),um=!1,Mc.classList.remove("measuring"),An()}),Fc.addEventListener("click",function(e){e.stopPropagation(),Ea()}),Nc.addEventListener("click",function(e){e.stopPropagation(),wa()}),Ac.addEventListener("click",function(e){e.stopPropagation()}),Ac.addEventListener("change",function(){mm=parseFloat(Ac.value),Rc.classList.add("zooming"),ut({updateSelectedIndex:!1})}),Rc.addEventListener("wheel",function(e){e.ctrlKey&&(e.preventDefault(),mm=Math.max(.25,Math.min(mm-e.deltaY/100,5)),ut())}),"GestureEvent"in window){var ip;Rc.addEventListener("gesturestart",function(e){e.preventDefault(),ip=mm}),Rc.addEventListener("gesturechange",function(e){e.preventDefault(),mm=Math.max(.25,Math.min(ip*e.scale,5)),ut()})}var op;Oc.addEventListener("change",function(){Zc.classList.toggle("invisible",!Oc.checked),clearTimeout(op),op=setTimeout(function(){Zr.a.set(Qd.pid,"noteVisibility",Oc.checked)},1e3)}),document.getElementById("addNoteButton").addEventListener("click",function(e){e.stopPropagation(),Ca()}),Array.from(document.querySelectorAll(".addFirstNoteButton")).forEach(function(e){e.addEventListener("click",function(e){e.stopPropagation(),Ca()})});var rp=6,sp=13,lp=26,cp=29,up=!1,dp=document.getElementById("commentTemplate");Hc.addEventListener("click",function(e){e.stopPropagation();var t=e.target.closest(".comment"),n=am.dots.find(function(e){return e._id===Hc.dataset.id});if(e.target.classList.contains("dotResolveButton"))Bo(Hc.dataset.id,"resolved");else if(e.target.classList.contains("dotReopenButton"))Bo(Hc.dataset.id,"open");else if(e.target.classList.contains("commentEditButton")){var a=Hc.querySelector(".comment.editing");if(a){var i=a.querySelector(".commentMirror");i.innerHTML=Aa(rm.note),i.classList.toggle("jumboEmojis",ye(i,rm.note)),a.classList.remove("editing")}ps.close(),gs.close(),Kc.classList.add("hidden"),Kc.classList.remove("composing"),Xc.innerHTML="&nbsp;",$c.value="";var o=t.querySelector(".commentMirror"),r=t.querySelector(".commentNote");rm=n.comments.find(function(e){return e._id===t.dataset.id}),o.innerHTML=zr.g(rm.note)+"&nbsp",o.classList.remove("jumboEmojis"),r.value=rm.note,t.classList.add("editing"),r.setSelectionRange(rm.note.length,rm.note.length),r.focus(),Da(gm)}else if(e.target.classList.contains("commentDeleteButton")){var s="Delete comment?";t.classList.contains("commentOwner")||(s="Delete "+t.querySelector(".commentAuthorName").textContent+"'s comment?"),Rr.a({title:s,message:"Deleted comments cannot be restored.",done:{name:"DELETE",cb:function(){Ma(t,am,n)}},cancel:{name:"CANCEL",cb:function(){Tn()}}})}else e.target.classList.contains("commentDoneButton")&&Ra(t,am,n,rm)}),Hc.addEventListener("keydown",function(e){if(e.target.classList.contains("commentNote")){e.stopPropagation();var t=e.target.closest(".comment"),n=am.dots.find(function(e){return e._id===Hc.dataset.id});switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&Ra(t,am,n,rm);break;case Zeplin.KEY_CODE.ESC:ps.close(),gs.close(),t.classList.remove("editing"),Kc.classList.remove("hidden");var a=t.querySelector(".commentMirror");a.innerHTML=Aa(rm.note),a.classList.toggle("jumboEmojis",ye(a,rm.note)),e.target.blur(),Da(gm)}}});var mp={positive:"👍",neutral:"🤔",negative:"😩"};Gc.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){if(Hc.classList.contains("resolved")){var t=document.querySelector("#dotPopup .comment:first-child .commentButtons");return t.classList.add("flashing"),void(t.animate([{opacity:0},{opacity:1},{opacity:0}],{duration:1e3,easing:"ease-in-out"}).onfinish=function(){t.classList.remove("flashing")})}if(e.target.closest("#newCommentButton"))return Kc.classList.add("composing"),void $c.focus();var n=e.target.closest(".newCommentReaction"),a=am.dots.find(function(e){return e._id===Hc.dataset.id}),i=a.comments[a.comments.length-1];if(i.author!==Zeplin.user._id||i.note!==mp[n.dataset.reaction]){var o=$c.value;$c.value=mp[n.dataset.reaction],Ua(am,a,!0),$c.value=o}}}),$c.addEventListener("input",function(){za($c,Xc,eu)}),$c.addEventListener("click",function(e){e.stopPropagation(),za($c,Xc,eu)}),Qc.addEventListener("click",function(){om?Ua(am,om):it(am,gm)}),$c.addEventListener("keyup",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:za($c,Xc,eu)}}),$c.addEventListener("keydown",function(e){if(e.stopPropagation(),bu.classList.contains("hidden")&&vu.classList.contains("hidden"))switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&(om?Ua(am,om):it(am,gm));break;case Zeplin.KEY_CODE.ESC:Cm[am._id]&&(om?Cm[am._id].reply&&(Cm[am._id].reply[om._id]=null):Cm[am._id].comment=null),Kc.classList.remove("composing"),Xc.innerHTML="&nbsp;",$c.value="",om||Tn()}}),Yc.addEventListener("mouseover",function(e){e.target!==Yc&&e.target.closest(".comment").classList.remove("highlight")}),Od.querySelector(".screenLink.app").addEventListener("mouseleave",function(e){e.target.scrollLeft=0}),document.queryCommandSupported("copy")?(Rl.addEventListener("click",function(){Lr&&zr.d({content:Lr.content,toastContainer:sl})}),Ml.addEventListener("focus",function(){Lr&&(zr.d({content:Lr.content,toastContainer:sl}),setTimeout(function(){zr.A(Ml)},40))}),Us.addEventListener("focus",function(){zr.d({content:jr.shortUrl,toastContainer:Wu}),setTimeout(function(){zr.A(Us)},40)}),sd.addEventListener("click",function(e){e.stopPropagation(),zr.d({content:jr.sceneUrl,toastContainer:Wu,container:ad}),sd.classList.add("copied")}),Rs.addEventListener("click",function(e){Po(e)}),Od.addEventListener("click",function(e){var t;if(e.button===Zeplin.MOUSE_BUTTON.LEFT&&(t=e.target.closest(".copyLink"))){var n=t.classList.contains("web")?am.url:Od.querySelector(".screenLink.app").textContent;zr.d({content:n,toastContainer:sl})}}),Od.querySelector(".screenLink.web").addEventListener("focus",function(e){zr.d({content:am.url,toastContainer:sl}),setTimeout(function(){zr.A(e.target)},4)}),Od.querySelector(".screenLink.app").addEventListener("focus",function(e){zr.d({content:e.target.textContent,toastContainer:sl}),setTimeout(function(){zr.A(e.target)},4)}),uc.addEventListener("click",function(){zr.d({content:gc.value,toastContainer:sl}),Ga(),dr(jr.type)}),Ld.addEventListener("click",function(e){if(e.target.classList.contains("copyAssetStyleButton")){var t=document.querySelector(".assetStyle[data-export-type='"+e.target.dataset.exportType+"'] textarea").value;t=t.split("--\x3e")[1],zr.d({content:t.trim(),toastContainer:sl}),Ja(e.target.dataset.exportType),dr("web")}}),qd.addEventListener("click",function(){zr.d({content:kd.value,toastContainer:sl}),Xa(),dr("web")})):(Rs.remove(),Rl.remove(),uc.remove(),sd.remove(),qd.remove(),Array.from(document.querySelector(".copyAssetStyleButton")).forEach(function(e){e.remove()}),Array.from(Od.querySelectorAll(".copyLink")).forEach(function(e){e.remove()}),Array.from(Od.querySelectorAll(".screenLink")).forEach(function(e){e.addEventListener("click",function(e){zr.A(e.target)}),e.parentElement.dataset.tooltip="Click to select all",e.parentElement.dataset.tooltipType="text"})),sl.addEventListener("click",function(e){if(e.stopPropagation(),zo(),_n(),e.target.classList.contains("addColor"))bm&&(bm=!1,xi(e));else if(e.target.classList.contains("addTextStyle")){if(!vm)return;var t=e.target.closest(".textStyleWrapper");if(!t)return;t.classList.contains("added")?mo(t):lo(t)}window.ExportProgresses&&ExportProgresses.hideExportProgressesContainer(),ws.classList.add("hidden"),Cs.classList.add("hidden"),or(ac),cl.submitEdits(),zo()}),sl.addEventListener("contextmenu",function(e){e.stopPropagation()}),sl.addEventListener("blur",function(e){if(e.preventDefault(),e.target.classList.contains("textStyleName")){if(!zr.w.canManageTextStyles(Er))return;var t=e.target.closest(".textStyleWrapper");t&&Gi(t.dataset.id,e.target)}else if(e.target.classList.contains("colorName")){if(!zr.w.canManageColors(Er))return;var n=e.target.closest(".color");if(!n)return;var a=jr.findColorById(n.dataset.id);Ji(e.target.value.substr(1),a,n)}},!0),sl.addEventListener("submit",function(e){e.preventDefault(),e.target.classList.contains("textStyleNameForm")?e.target.querySelector(".textStyleName").blur():e.target.classList.contains("colorNameForm")&&e.target.querySelector(".colorName").blur()}),sl.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ESC:if(e.target.classList.contains("textStyleName")){var t=e.target.closest(".textStyleWrapper");if(t){var n=jr.findTextStyleById(t.dataset.id);e.target.value=n.name,e.target.blur()}}else if(e.target.classList.contains("colorName")){var a=e.target.closest(".color");if(!a)return;var i=jr.findColorById(a.dataset.id);e.target.value="#"+i.name,e.target.blur()}}}),sl.addEventListener("input",function(e){if(e.preventDefault(),e.target.classList.contains("colorName")){var t=e.target.selectionStart,n=e.target.selectionEnd;"#"!==e.target.value.charAt(0)&&(t+=1,n+=1);var a=e.target.value;e.target.value="#"+e.target.value.replace(Ym[jr.type],"");var i=a.length-e.target.value.length;i>0&&(t-=i,n-=i),e.target.setSelectionRange(t,n)}}),ll.addEventListener("autocomplete",function(){var e=gs.manageSuggestedEmojis(ll.querySelector("textarea"),ll.querySelector(".mirror"));e&&(e.style.top=ll.getBoundingClientRect().top+ll.offsetHeight-90+"px",sl.appendChild(e),gs.open())}),sl.addEventListener("copy",Ka),rl.addEventListener("copy",Ka),dc.addEventListener("copy",Ga),Ld.addEventListener("copy",function(e){Ja(e.target.closest(".assetStyle").dataset.exportType)}),Td.addEventListener("copy",Xa);var gp=document.getElementById("colorMenuTemplate");rl.addEventListener("contextmenu",function(e){if(zr.w.canManageColors(Er)){zo();var t=e.target.closest(".color");if(t){e.preventDefault();var n=t.querySelector(".colorName").value,a=document.importNode(gp.content,!0),i=a.querySelector(".colorMenu");Array.from(i.querySelectorAll(".actionSubject")).forEach(function(e){e.textContent=n}),i.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var n=e.target.closest(".menuitem");if(n){switch(e.stopPropagation(),n.dataset.action){case"delete":ki(t)}setTimeout(function(){Qa()},80)}}}),t.appendChild(a),nr(i,bc,t,e)}}}),rl.addEventListener("mouseover",function(e){e.target!==rl&&e.target.closest(".color").classList.remove("highlight")}),rl.addEventListener("input",function(e){var t=e.target.selectionStart,n=e.target.selectionEnd,a=e.target.value;if(e.preventDefault(),e.target.classList.contains("colorName"))e.target.value=e.target.value.replace(Ym[jr.type],"");else if(e.target.classList.contains("colorHex"))e.target.value=e.target.value.replace(/([^a-fA-F0-9])/g,"");else{if(!e.target.classList.contains("colorAlpha"))return;e.target.value=e.target.value.replace(/([^0-9])/g,"")}t-=a.length-e.target.value.length,n-=a.length-e.target.value.length,e.target.setSelectionRange(t,n)}),rl.addEventListener("submit",function(e){e.target.classList.contains("colorInfoForm")&&e.target.checkValidity()&&(e.preventDefault(),e.target.querySelector("input[type='text']").blur())}),rl.addEventListener("blur",function(e){if(zr.w.canManageColors(Er)){e.preventDefault();var t=e.target.closest(".color");if(t){var n,a=t.dataset.id,i=e.target,o=e.target.value,r=jr.findColorById(a);if(i.classList.contains("colorName"))Ji(o,r,t);else if(i.classList.contains("colorHex")){if(r.hexBase()===o)return;if(!o||!/^[\da-f]{6}$/i.test(o))return void(e.target.value=r.hexBase());(n=jr.checkDuplicateColorHex(o,r))?(Rr.a({title:"This color already exists: "+n.name,message:"Please check the values and try again!",done:{name:"GOT IT"}}),e.target.value=r.hexBase()):Fi(Xr.a.fromHex(o),r,t)}else if(i.classList.contains("colorAlpha")){if(100*r.a===o)return;if(!o||/\D/.test(o)||o/100>1)return void(e.target.value=Math.round(100*r.a));(n=jr.checkDuplicateColorAlpha(o,r))?(Rr.a({title:"This color already exists: "+n.name,message:"Please check the values and try again!",done:{name:"GOT IT"}}),e.target.value=Math.round(100*r.a)):Fi({a:o/100},r,t)}}}},!0),rl.addEventListener("keydown",function(e){e.stopPropagation();var t=e.target.closest(".color");if(t)switch(e.keyCode){case Zeplin.KEY_CODE.ESC:var n=jr.findColorById(t.dataset.id);e.target.classList.contains("colorName")?e.target.value=n.name:e.target.classList.contains("colorHex")?e.target.value=n.hexBase():e.target.classList.contains("colorAlpha")&&(e.target.value=Math.round(100*n.a)),e.target.blur()}else e.target.blur()});var pp=new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2}),fp={css:{prefix:"  --",midfix:": ",suffix:";\n"},sass:{prefix:"$",midfix:": ",suffix:"\n"},scss:{prefix:"$",midfix:": ",suffix:";\n"},less:{prefix:"@",midfix:": ",suffix:";\n"},stylus:{prefix:"",midfix:" = ",suffix:"\n"}};document.body.classList.contains("canDownload")&&(xu.addEventListener("click",function(e){"web"===jr.type?($i(e),dr("web")):"android"===jr.type?(eo(),dr("android")):"ios"===jr.type?(io(e),dr("ios")):"osx"===jr.type&&(no(e),dr("mac"))}),ku.addEventListener("click",function(e){"web"===jr.type?(Qi(e),dr("web")):"android"===jr.type?(to(),dr("android")):"ios"===jr.type?(oo(e),dr("ios")):"osx"===jr.type&&(ao(e),dr("mac"))})),al.addEventListener("blur",function(){zr.w.canUpdateProject(Er)&&al.value!==jr.prefix&&fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/prefix",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({prefix:al.value})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Hr.a(e.status,t)})}).then(function(e){jr.prefix=e.prefix,ya()}).catch(Hr.b)}),al.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),al.blur();break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),al.value=jr.prefix,Sm.iosCategoryPrefix=jr.prefix,al.blur()}}),al.addEventListener("input",function(e){e.stopPropagation(),/^([a-z](?=[\da-z]*?)[\da-z]*|)$/i.test(e.target.value)?Sm.iosCategoryPrefix=e.target.value:e.target.value=Sm.iosCategoryPrefix}),nl.addEventListener("blur",function(e){e.preventDefault(),e.target.value?Zr.a.set(Qd.pid,"iosCategoryName",e.target.value).then(ya):Zr.a.get(Qd.pid,"iosCategoryName").then(function(e){nl.value=e,Sm.iosCategoryName=e})}),nl.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:nl.blur();break;case Zeplin.KEY_CODE.ESC:Zr.a.get(Qd.pid,"iosCategoryName").then(function(e){nl.value=e,Sm.iosCategoryName=e,nl.blur()})}}),nl.addEventListener("input",function(e){e.stopPropagation(),/^[a-z](?=[\da-z]*?)[\da-z]*$/i.test(e.target.value)?Sm.iosCategoryName=e.target.value:e.target.value=Sm.iosCategoryName}),ol.addEventListener("blur",function(){zr.w.canUpdateProject(Er)&&ol.value!==jr.prefix&&fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/prefix",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({prefix:ol.value})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Hr.a(e.status,t)})}).then(function(e){jr.prefix=e.prefix,ya()}).catch(Hr.b)}),ol.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),ol.blur();break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),ol.value=jr.prefix,Sm.osxCategoryPrefix=jr.prefix,ol.blur()}}),ol.addEventListener("input",function(e){e.stopPropagation(),/^([a-z](?=[\da-z]*?)[\da-z]*|)$/i.test(e.target.value)?Sm.osxCategoryPrefix=e.target.value:e.target.value=Sm.osxCategoryPrefix}),il.addEventListener("blur",function(e){e.preventDefault(),e.target.value?Zr.a.set(Qd.pid,"osxCategoryName",e.target.value).then(ya):Zr.a.get(Qd.pid,"osxCategoryName").then(function(e){il.value=e,Sm.osxCategoryName=e})}),il.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:il.blur();break;case Zeplin.KEY_CODE.ESC:Zr.a.get(Qd.pid,"osxCategoryName").then(function(e){il.value=e,Sm.osxCategoryName=e,il.blur()})}}),il.addEventListener("input",function(e){e.stopPropagation(),/^[a-z](?=[\da-z]*?)[\da-z]*$/i.test(e.target.value)?Sm.osxCategoryName=e.target.value:e.target.value=Sm.osxCategoryName}),window.addEventListener("offline",function(){"screen"===Hs.dataset.selection&&(Js.textContent="Looks like there is a problem with the connection.",Hs.className="offline")});var hp=document.getElementById("screenSuggestionTemplate"),yp=document.getElementById("memberMenuTemplate");tl.addEventListener("click",function(e){e.preventDefault();var t=e.target.closest(".memberActionsButton"),n=t&&t.parentElement;t&&!n.classList.contains("memberMenuOpen")&&(e.stopPropagation(),Bi(n))}),Ts.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ESC:e.target.value=jr.name,e.target.blur()}}),Ts.addEventListener("blur",function(e){e.preventDefault(),e.target.value!==jr.name&&Ri(e.target.value)}),Is.addEventListener("submit",function(e){e.preventDefault(),Ts.blur()});var bp=document.getElementById("slackSettingsMenuTemplate");Ad.addEventListener("click",function(e){if(e.stopPropagation(),zo(),e.target.classList.contains("slackSettingsButton")&&!e.target.classList.contains("disabled")){var t=e.target.closest(".integration"),n=jr.integration.slacks.find(function(e){return e._id===t.dataset.id}),a=document.importNode(bp.content,!0).querySelector(".slackSettingsMenu");a.querySelector("a").href=n.incomingWebHook.configurationURL,a.addEventListener("click",function(e){switch(e.target.dataset.action){case"add":if(Fm)return void Yr.a.ipcRenderer.send("add-to-slack",{id:jr.id,name:jr.name});h(),r(Br,{inNewTab:!1});break;case"preferences":hs.b(t.dataset.id,n.incomingWebHook.channel);break;case"remove":Vi("slacks",t.dataset.id)}}),t.classList.add("slackMenuOpen"),t.appendChild(a)}});var vp=document.getElementById("slackIntegrationTemplate");hu.addEventListener("mouseover",function(e){e.target!==hu&&e.target.closest(".font").classList.remove("highlight")}),hu.addEventListener("submit",function(e){e.preventDefault(),e.target.querySelector(".styleName").blur()}),hu.addEventListener("blur",function(e){if(zr.w.canManageTextStyles(Er)){e.stopPropagation();var t=e.target.closest(".font");t&&(e.target.selectionEnd-e.target.selectionStart&&e.target.setSelectionRange(0,0),Gi(t.dataset.id,e.target))}},!0),hu.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ESC:var t=e.target.closest(".font").dataset.id,n=jr.findTextStyleById(t);e.target.value=n.name,e.target.blur()}}),hu.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".font");t&&(e.target.classList.contains("deleteTextStyle")?Rr.a({title:'Delete "'+t.querySelector(".styleName").value+'"?',message:"Deleted text styles cannot be restored.",done:{name:"DELETE",cb:function(){uo(t.dataset.id)}},cancel:{name:"CANCEL"}}):e.target.classList.contains("deleteTSColor")&&Rr.a({message:'Delete color of "'+t.querySelector(".styleName").value+'"?',done:{name:"DELETE",cb:function(){e.target.parentElement.classList.add("hidden"),go(t.dataset.id,{color:null})}},cancel:{name:"CANCEL"}}))}});var Sp=document.getElementById("textStyleMenuTemplate");hu.addEventListener("contextmenu",function(e){if(zr.w.canManageTextStyles(Er)){zo();var t=e.target.closest(".font");if(t){e.preventDefault();var n=t.querySelector(".styleName").value,a=document.importNode(Sp.content,!0),i=a.querySelector(".textStyleMenu");Array.from(i.querySelectorAll(".actionSubject")).forEach(function(e){e.textContent=n}),i.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var a=e.target.closest(".menuitem");if(a){switch(e.stopPropagation(),a.dataset.action){case"rename":zr.n(t.querySelector(".styleName"));break;case"delete":Rr.a({title:'Delete "'+n+'"?',message:"Deleted text styles cannot be restored.",done:{name:"DELETE",cb:function(){uo(t.dataset.id),po()}},cancel:{name:"CANCEL"}})}setTimeout(function(){po()},80)}}}),t.appendChild(a),nr(i,bc,t,e)}}});var jp=0;Fu.addEventListener("click",function(e){e.stopPropagation(),Uu.focus();var t=yo(qu.dataset.sid);if(e.target.classList.contains("removeTag"))Eo(t,zr.G(e.target.parentElement.dataset.tag),"remove");else{var n=e.target.closest(".tagSuggestion");if(!n)return;Eo(t,zr.G(n.dataset.tag),"add")}}),_u.addEventListener("click",function(e){Uu.focus(),e.stopPropagation()}),_u.addEventListener("keydown",function(e){e.stopPropagation();var t=Ou.querySelectorAll(".tagSuggestion");switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault();var n=Fu.querySelector(".tagSuggestion.selected");n&&Eo(yo(qu.dataset.sid),zr.G(n.dataset.tag),"add"),(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&vo();break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),t.length&&jp<t.length-1&&wo(jp+1);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),t.length&&jp>0&&wo(jp-1);break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),vo()}}),Fu.addEventListener("mousemove",function(e){if(e.stopPropagation(),Ir!==e.clientX||_r!==e.clientY){Uu.focus();var t=e.target.closest(".tagSuggestion");t&&(wo(parseInt(t.dataset.suggestionIndex)),Ir=e.clientX,_r=e.clientY)}}),Pu.addEventListener("click",vo),Uu.addEventListener("input",function(e){ho(jr.tags,yo(qu.dataset.sid).tags,e.target.value)}),xs.addEventListener("contextmenu",function(e){if(zr.w.canManageScreens(Er)&&(zo(),e.target.classList.contains("tag")&&!e.target.classList.contains("untagged"))){e.preventDefault();var t=document.importNode(Mu.content,!0),n=t.querySelector(".tagMenu");n.dataset.tag=zr.G(e.target.dataset.tag);var a,i=zr.I("project-dashboard",{url:{pid:jr.id},query:{tag:[zr.G(e.target.dataset.tag)]}});Ya(i).then(function(e){a=e}),n.querySelector('.menuitem[data-action="create-section"]').classList.toggle("hidden",!Do(zr.G(e.target.dataset.tag))),n.addEventListener("click",function(t){if(t.button===Zeplin.MOUSE_BUTTON.LEFT){var n=t.target.closest(".menuitem");if(n){switch(t.stopPropagation(),n.dataset.action){case"copy-web-link":zr.d({content:a||i,toastContainer:document.querySelector(".projectOverview")});break;case"copy-app-uri":zr.d({content:"zpl://project?pid="+jr.id+"&tag="+encodeURI(zr.G(e.target.dataset.tag)),toastContainer:document.querySelector(".projectOverview")});break;case"create-section":Gt(zr.G(n.parentElement.dataset.tag));break;case"delete":Co(zr.G(n.parentElement.dataset.tag))}setTimeout(function(){Lo()},80)}}}),xs.appendChild(t),nr(n,Yu,xs,e)}}),"PointerEvent"in window?(Ar="pointerdown",Nr="pointermove",Or="pointerup"):"ontouchstart"in document?(Ar="touchstart",Nr="touchmove",Or="touchend"):(Ar="mousedown",Nr="mousemove",Or="mouseup"),zu.addEventListener(Ar,function(e){e.preventDefault(),ko(Yu,"projectInfoWidth",{onResize:hn})}),Zu.addEventListener(Ar,function(e){e.preventDefault(),jm=!0,_n(),zo(),ko(Ku,"versionsSidebarWrapperWidth",{location:"left",onCollapse:function(){Pc.classList.contains("oldVersion")?Ku.classList.add("compact"):Pc.classList.remove("versionsShown")},onExpand:function(){Ku.classList.remove("compact"),Pc.classList.add("versionsShown")}})}),Hu.addEventListener(Ar,function(e){e.preventDefault(),jm=!0,_n(),zo(),ko(Gu,"rightSidebarWrapperWidth")}),Vu.addEventListener(Ar,function(e){e.preventDefault(),ko(bc,"generatorContainerWidth")});var Ep=document.getElementById("dotMenuTemplate");Mc.addEventListener("contextmenu",function(e){if(!Em&&(zo(),_n(),e.target.classList.contains("dot")&&"undefined"!==e.target.dataset.id)){e.preventDefault();var t=document.importNode(Ep.content,!0).querySelector(".dotMenu"),n=e.target,a=am.dots.find(function(e){return e._id===n.dataset.id});t.style.zIndex=wm+1,document.queryCommandSupported("copy")||t.querySelector("button[data-action='copy-link']").remove(),n.classList.contains("open")?t.querySelector("button[data-action='reopen']").remove():t.querySelector("button[data-action='resolve']").remove(),n.classList.add("menuOpen"),n.classList.remove("hover"),t.addEventListener("click",function(e){var t=e.target.closest(".menuitem");if(t){switch(e.stopPropagation(),t.dataset.action){case"reopen":Bo(a._id,"open");break;case"resolve":Bo(a._id,"resolved");break;case"copy-link":zr.d({content:zr.I("project-screen",{url:{pid:jr.id,sid:am._id},query:{did:a._id}}),toastContainer:Uc});break;case"delete":var i;if(n.classList.contains("dotOwner"))i="Delete your note?";else{var o=ve(a.creator,!0);i="Delete "+(o?o.user.username:"Anonymous")+"'s note?"}Rr.a({title:i,message:"Deleted notes cannot be restored.",done:{name:"DELETE",cb:function(){qo(am,n)}},cancel:{name:"CANCEL"}})}setTimeout(function(){To()},80)}}),t.querySelector(".menuitem[data-action='delete']").classList.toggle("hidden",!(e.target.classList.contains("dotOwner")||zr.w.canRemoveNotes(Er))),Zc.appendChild(t),nr(t,Gu,Zc,e)}}),Mc.addEventListener("mousedown",function(e){e.target.classList.contains("dot")&&e.button===Zeplin.MOUSE_BUTTON.LEFT&&"undefined"!==e.target.dataset.id&&Io(e.target)}),Mc.addEventListener("mouseenter",function(e){e.target.classList.contains("dot")&&e.target.classList.add("hover")},!0),Mc.addEventListener("mouseout",function(e){e.target.classList.contains("dot")&&e.target.classList.remove("hover")}),ll.addEventListener("submit",function(){if(zr.w.canManageScreens(Er)){gs.close();var e=gs.formatEmojiString(cl.value.trim(),!0);if(cl.value=e,am&&am.description!==e){var t=am;fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+t._id,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({description:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Hr.a(e.status,t)})}).then(function(){t.description=e}).catch(function(e){Hr.b(e,{dialogCallback:function(){cl.startEditing()}})})}}}),Ic.querySelector(".organizationRules .minRole").textContent=Jm.rook,$u.addEventListener("click",function(e){ed.disabled=!1,sd.classList.remove("copied");var t=zr.w.canChangeProjectAccesibility(Er);if(jr.public){if(e.stopPropagation(),zo(),!t&&!document.queryCommandSupported("copy"))return void r(jr.sceneUrl);var n=document.importNode(Qu.content,!0),a=n.querySelector(".shareSceneMenu");a.querySelector("button[data-action='copy-scene-link'] > span").textContent=document.queryCommandSupported("copy")?"Copy link":"Open in new tab",a.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".menuitem");if(t){switch(e.stopPropagation(),t.dataset.action){case"unshare":Ro(!1);break;case"copy-scene-link":document.queryCommandSupported("copy")?zr.d({content:jr.sceneUrl,toastContainer:Wu}):r(jr.sceneUrl)}setTimeout(function(){Mo()},80)}}}),n.querySelector(".menuitem[data-action='unshare']").classList.toggle("hidden",!t),nd.appendChild(n)}else ed.disabled=!t,ad.classList.add("hidden"),id.classList.remove("hidden"),Ic.showModal()}),ed.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),ed.classList.contains("loading")||(ed.classList.add("loading"),td.disabled=!0,Ro(!0))}),td.addEventListener("click",function(e){ed.classList.contains("loading")&&(e.preventDefault(),e.stopPropagation())}),od.addEventListener("click",function(){zr.A(od)}),rd.addEventListener("click",function(){Ic.close()}),"undefined"!=typeof process&&document.querySelector("#installPanelInfo a").addEventListener("click",function(e){e.preventDefault(),Yr.a.shell.openExternal(e.target.href)});var wp;fd.addEventListener("click",function(e){e.stopPropagation()}),Array.from(document.querySelectorAll(".sidebarMenu")).forEach(function(e){e.addEventListener("mouseenter",function(e){e.target.closest(".sidebarMenuItems")&&Qo(e.target.closest(".mainMenu"))},!0),e.addEventListener("click",function(t){t.button===Zeplin.MOUSE_BUTTON.LEFT&&(t.stopPropagation(),t.target.closest(".mainMenu")||or(document.querySelector(".sidebarOptionsButton[data-menu-id='"+e.id+"']")))})});var Cp,Lp=document.getElementById("invitePopupContainer"),Dp=new MutationObserver(function(e){e.forEach(function(e){if(e.oldValue&&e.oldValue.includes("sticky")||!e.target.classList.contains("sticky"))e.oldValue.includes("sticky")&&!e.target.classList.contains("sticky")&&(Lp.style.right=0);else{var t=Lp.clientWidth-Cp;Lp.style.right=t?t+"px":0}})});CSS.supports("position","sticky")||(Dp.observe(Wu,{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]}),Wu.addEventListener("scroll",function(){Cp=Lp.offsetWidth,Wu.classList.toggle("sticky",Wu.scrollTop>=242+Ad.offsetHeight)}));var xp,kp=60,qp=108,Tp=12,Ip=12,_p=359,Fp=26,Bp=_p-qp;Ed.addEventListener("search",function(e){wd.classList.toggle("searching",!!Ed.value.length),yn({immediate:!1})});var Ap;Ed.addEventListener("input",function(){bn(),wd.classList.toggle("searching",!!Ed.value.length),clearTimeout(Ap),Ap=setTimeout(function(){if(wd.classList.toggle("searching",!!Ed.value.length),!Ed.value)return delete Qd.q,void R(jr.id);var e="q"in Qd;U(zr.I("project-dashboard",{url:{pid:Qd.pid},query:{q:Ed.value}}),{shouldReplace:e})},200)}),Ed.addEventListener("keydown",function(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.preventDefault(),e.stopPropagation(),Ed.value.trim()?(Ed.value="",wd.classList.remove("searching"),R(jr.id)):cr())}),Ed.addEventListener("focus",function(e){e.preventDefault(),Cd.classList.add("focus"),wd.classList.toggle("searching",!!Ed.value.length)}),Ed.addEventListener("blur",cr),Array.from(Rd.querySelectorAll('input[type="checkbox"]')).forEach(function(e){e.addEventListener("change",function(e){var t="lastUpdated"===e.target.name?"name":"lastUpdated";document.querySelector('#sortOptions input[name="'+t+'"]').checked=!1,yn(),e.target.checked&&e.preventDefault()})}),Array.from(document.querySelectorAll("input[name='allAssetsNamingConvention']")).forEach(function(e){e.addEventListener("change",function(e){Ud.querySelector("span").textContent=Gm[e.target.value],Pd.querySelector("span").textContent=Gm[e.target.value],document.querySelector("input[name='assetNamingConvention'][value='"+e.target.value+"']").checked=!0,$a(e.target.value),ur(e.target.value),Zr.a.set(Qd.pid,"assetNamingConvention",e.target.value)})}),Array.from(document.querySelectorAll("input[name='assetNamingConvention']")).forEach(function(e){e.addEventListener("change",function(e){Ud.querySelector("span").textContent=Gm[e.target.value],Pd.querySelector("span").textContent=Gm[e.target.value],document.querySelector("input[name='allAssetsNamingConvention'][value='"+e.target.value+"']").checked=!0,$a(e.target.value),ur(e.target.value);var t=im.snapshot.assets.find(function(e){return e.layerId?e.layerId===Lr.sourceId:e.layerName===Lr.name});if(t){var n=Ke(t.contents);n&&ta(Lr,n,t,e.target.value)}Zr.a.set(Qd.pid,"assetNamingConvention",e.target.value)})});var Np,Op=!1;Um.route(/\/project\/([0-9a-z]+)\/screen\/([0-9a-z]+)/i,function(e){ga("set","location",location.href),ga("set","title","Screen - Zeplin"),ga("send","pageview");var t=e.match[0],n=e.match[1];Qd=Object.assign({pid:t,sid:n},e.query);var a=mr(t);a&&a.then(function(){if(jr){if(zr.J(n,"screen")){if(!am||am._id!==n)return Tt(n)}else Rr.a({title:"Invalid screen link",message:"There might be a typo, please try again."}),R(jr.id,vn());return Promise.resolve()}}).then(function(){if(am){if(N(),!("dots"in am))return;e.query.did&&1===e.query.did.length?(va(V(e.query.did[0]),!0),Wn(e.query.did[0],e.query.cmid)):b(e.query.did)}})}),Um.route(/\/project\/([0-9a-z]+)(?:\/(dashboard|styleguide))?/i,function(e){var t=e.match[0],n=e.match[1]||"dashboard";ga("set","location",location.href),ga("set","title",zr.H(n)+" - Zeplin"),ga("send","pageview"),Qd=Object.assign({pid:t},e.query);var a=mr(t);a&&a.then(function(){jr&&("sid"in e.query?("dashboard"!==sm&&Z(),It().length&&(bn(),yn()),S(e.query.sid)):"dashboard"===n?("dashboard"!==sm&&Z(),"tag"in e.query?Sn(e.query.tag):(bn(),"untagged"in e.query&&xs.childElementCount&&document.querySelector(".tag.untagged").classList.add("selected"),"q"in e.query?(Ed.value=e.query.q||"",wd.classList.toggle("searching",!!Ed.value.length)):(Ed.value="",wd.classList.remove("searching")),yn())):"cid"in e.query?("styleguide"!==sm&&H(),E(e.query.cid)):"tsid"in e.query?("styleguide"!==sm&&H(),C(e.query.tsid)):"styleguide"===n&&"styleguide"!==sm&&H(),N(),gr())})}),Um.start(document.body,function(){es.a.measurePageDefaults(),es.a.measure("page.start"),fr(),window.addEventListener("online",function(){Cookies.get("userToken")&&(f(),"screen"===Hs.dataset.selection&&(Js.textContent="Keep working! Connection is back…",Hs.className="online",document.hidden?document.addEventListener("visibilitychange",function e(){document.removeEventListener("visibilitychange",e),yr()}):yr()),hm=!0,setTimeout(function(){G(Qd.pid).then(function(){"sid"in Qd&&Tt(Qd.sid)})},1e3))}),wl.dataset.selection=document.querySelector(".resourceTab:checked").value,Array.from(document.querySelectorAll(".resourceTab")).forEach(function(e){e.addEventListener("change",function(e){wl.dataset.selection=e.target.value})}),Zr.b.get("tabTutorialSeen").then(function(e){e||(gd.classList.remove("hidden"),gd.addEventListener("click",function(e){e.stopPropagation(),gd.classList.add("hidden"),fd.classList.remove("hidden")}))}),Zr.b.get("versionsTutorialSeen").then(function(e){e||(pd.classList.remove("hidden"),pd.addEventListener("click",function(e){e.stopPropagation(),pd.classList.add("hidden");var t=Mr.a({content:"Ping ping! Versions of screens are listed here.",popover:!0,noControls:!0,hideCallback:function(){Zr.b.set("versionsTutorialSeen",!0)}});document.body.appendChild(t)}))})})},function(e,t,n){"use strict";t.a=function(e){e=e||{};var t=document.importNode(a.content,!0).querySelector(".hideableInfo"),n=t.querySelector(".infoText");switch(e.type){case"html":n.innerHTML=e.content;break;case"text":default:n.textContent=e.content}if(e.buttonText&&(t.querySelector(".infoHideButtonText").textContent=e.buttonText),t.classList.toggle("popover",!!e.popover),t.querySelector(".anchor").classList.add(e.anchor||"bottom"),t.classList.toggle("noControls",!!e.noControls),t.addEventListener("click",function(e){e.stopPropagation()}),e.noControls?document.addEventListener("click",function n(a){document.removeEventListener("click",n),e.hideCallback&&e.hideCallback(),t.remove()}):(e.popover&&document.addEventListener("click",function e(){document.removeEventListener("click",e),t.remove()}),t.querySelector(".infoHideButton").addEventListener("click",function(){e.hideCallback&&e.hideCallback(),t.remove()})),e.bodyCallbacks)for(var i in e.bodyCallbacks)t.querySelector(i).addEventListener("click",e.bodyCallbacks[i]);return t};var a=document.getElementById("hideableInfoTemplate")},function(e,t,n){"use strict";function a(e,t){var n=this,a=e,o=a.querySelector(".formattedText"),r=a.querySelector(".mirror"),s=a.querySelector("textarea"),l=a.querySelector(".counter"),c=s.maxLength,u=s.value;Object.defineProperties(this,{root:{value:a},textarea:{value:s},counter:{value:l},mirror:{value:r},placeholder:{get:function(){return s.placeholder},set:function(e){r.innerHTML=i.g(e)+"&nbsp;",o.dataset.placeholder=i.g(e),s.placeholder=e}},maxLength:{get:function(){return c},set:function(e){c=e,this._setMaxLength()}},readOnly:{get:function(){return s.readOnly},set:function(e){s.readOnly=e}},_originalValue:{value:u,writable:!0},value:{get:function(){return s.value},set:function(e){r.innerHTML=i.g(e||s.placeholder)+"&nbsp;",o.innerHTML=t(e),s.value=e,this._setMaxLength()}}}),-1!==c&&this._setMaxLength(),a.classList.add("zplTextarea"),r.innerHTML="&nbsp;",a.classList.contains("autoedit")&&(a.addEventListener("click",function(e){e.stopPropagation()}),o.addEventListener("click",function(e){e.target.closest("a")||(e.stopPropagation(),n.startEditing())})),a.classList.contains("autosubmit")&&s.addEventListener("blur",function(){document.querySelector("#suggestedEmojisContainer.hidden")&&n.submitEdits()}),s.addEventListener("keydown",function(e){if(!s.readOnly)switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ESC:n.cancelEditing();break;case Zeplin.KEY_CODE.ENTER:(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&n.submitEdits()}}),s.addEventListener("keyup",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:n.checkAutoComplete()}}),s.addEventListener("input",function(e){s.readOnly||(n._setMaxLength(),l.textContent=c-s.value.length,r.innerHTML=i.g(s.value)+"&nbsp;",o.innerHTML=t(s.value),n.checkAutoComplete())}),s.addEventListener("drop",function(){s.readOnly||setTimeout(function(){s.focus()},4)}),s.addEventListener("click",function(e){e.stopPropagation(),n.checkAutoComplete()}),a.querySelector("button").addEventListener("click",function(e){e.stopPropagation(),n.submitEdits()})}t.a=a;var i=n(0);a.prototype._setMaxLength=function(){document.body.classList.contains("safari")&&(this.textarea.maxLength=this.maxLength+(this.value.match(/\n/g)||[]).length)},a.prototype.startEditing=function(){if(!this.readOnly){this._originalValue=this.value,this.counter.textContent=this.maxLength-this.value.length,this.root.classList.add("editing");var e=this;setTimeout(function(){e.textarea.focus(),e.textarea.setSelectionRange(e.value.length,e.value.length)},4)}},a.prototype.submitEdits=function(){this.root.classList.contains("editing")&&(this.textarea.blur(),this.root.classList.remove("editing"),this.root.dispatchEvent(new CustomEvent("submit")))},a.prototype.cancelEditing=function(){this.value=this._originalValue,this.textarea.blur(),this.root.classList.remove("editing"),this.root.dispatchEvent(new CustomEvent("cancel"))},a.prototype.checkAutoComplete=function(){this.root.dispatchEvent(new CustomEvent("autocomplete"))}},function(e,t,n){"use strict";function a(e,t){var n,a;if("unknown"===e)n="px",a="px";else switch(t){case"android":n="dp",a="sp";break;case"ios":case"osx":n="pt",a="pt";break;case"web":default:n="px",a="px"}return{textDimensionSuffix:a,dimensionSuffix:n}}function i(e){var t;switch(e){case"mdpi":case"1x":case"web":case"unknown":default:t=1;break;case"hdpi":t=1.5;break;case"xhdpi":case"2x":t=2;break;case"xxhdpi":case"3x":t=3;break;case"xxxhdpi":case"4x":t=4}return t}function o(e,t){if(e.length){var n=e[0].fontSize/t,a=e[e.length-1].fontSize/t;if(n<=36&&a>=14)e.forEach(function(e){e.scaledFontSize=e.fontSize/t});else{var i,o;n<14?(i=24,o=14):a>36?(i=36,o=24):(i=Math.min(36,n),o=Math.max(14,a));var r=n===a?0:(i-o)/(n-a);e[0].scaledFontSize=Math.round(i);for(var s=1;s<e.length;s++){var l=e[s-1].fontSize/t,c=e[s].fontSize/t;e[s].scaledFontSize=Math.round(e[s-1].scaledFontSize-(l-c)*r)}}}}function r(e,t,n){switch(n){case"ios":case"osx":t=t.replace(/\s/,"");break;case"web":t="-"+t.replace(/\s/,"-").toLowerCase();break;case"android":t="_"+t.replace(/\s/,"_").toLowerCase()}return e+t}function s(e){var t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],n=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];if(e>19){var a=e%10;return n[Math.floor(e/10)]+(a?" "+t[a]:"")}return t[e]}function l(e){var t,n,r,s,l=Object.assign({},e);l.users.sort(c.D.role),l.integration&&l.integration.slacks||(l.integration={slacks:[]}),n="https://scene.zeplin.io/project/"+l._id,s=l.colors.map(function(e){return new u.a(e)}),(t=l.textStyles.map(function(e){return new d.a(e)})).sort(c.h),o(t,i(l.density)),delete l.textStyles,delete l.colors;var m=l.screens.map(function(e){return e._id});l.sections.forEach(function(e){e.screens=e.screens.filter(function(e){return m.includes(e)})}),Object.defineProperties(this,{id:{value:l._id},type:{value:l.type},name:{get:function(){return l.name},set:function(e){l.name=e}},colors:{get:function(){return s}},density:{get:function(){return l.density},set:function(e){l.density=e}},icon:{value:l.icon},integration:{get:function(){return l.integration},set:function(e){l.integration=e}},prefix:{get:function(){return l.prefix},set:function(e){l.prefix=e}},public:{get:function(){return l.public},set:function(e){l.public=e}},allowedVersionCount:{value:3,writable:!0},screens:{get:function(){return l.screens},set:function(e){l.screens=e}},sections:{get:function(){return l.sections},set:function(e){l.sections=e}},status:{get:function(){return l.status},set:function(e){l.status=e}},textStyles:{get:function(){return t}},thumbnail:{get:function(){return l.thumbnail},set:function(e){l.thumbnail=e}},users:{get:function(){return l.users}},url:{value:c.I("project",{url:{pid:l._id}})},shortUrl:{get:function(){return r},set:function(e){r=e}},sceneUrl:{get:function(){return n},set:function(e){n=e}},slackTeamId:{get:function(){if(l.integration.slacks.length)return l.integration.slacks[0].teamId}},tags:{get:function(){var e=[];return new Set(l.screens.reduce(function(e,t){return e.concat(t.tags||[])},[])).forEach(function(t){e.push(t)}),e.sort(c.D.naturally)}},baseDensity:{value:"android"===l.type?"mdpi":"1x"},densityDivisor:{get:function(){return i(l.density)}},dimensionSuffix:{get:function(){return a(l.density,l.type).dimensionSuffix}},textDimensionSuffix:{get:function(){return a(l.density,l.type).textDimensionSuffix}},updated:{get:function(){return l.updated},set:function(e){l.updated=e}}})}t.a=l;var c=n(0),u=n(14),d=n(22);l.prototype.addTextStyle=function(e){this.textStyles.push(new d.a(e)),this.textStyles.sort(c.h),o(this.textStyles,this.densityDivisor)},l.prototype.updateTextStyle=function(e,t){var n=this.textStyles.find(function(t){return t.id===e});n&&(Object.assign(n,t),this.textStyles.sort(c.h),o(this.textStyles,this.densityDivisor))},l.prototype.removeTextStyle=function(e){var t=c.b(this.textStyles,function(t){return t.id===e});return o(this.textStyles,this.densityDivisor),t},l.prototype.findTextStyleById=function(e){return this.textStyles.find(function(t){return t.id===e})},l.prototype.findTextStyleByName=function(e){return this.textStyles.find(function(t){return t.name===e})},l.prototype.findTextStyleEqual=function(e){return this.textStyles.find(function(t){return e.equals(t)})},l.prototype.getTextStyleName=function(){if(!this.textStyles.length)return"Text Style";for(var e="Text Style",t=1;this.findTextStyleByName(e);)e="Text Style "+ ++t;return e},l.prototype.findUser=function(e){return this.users.find(function(t){return t.user._id===e})},l.prototype.findOwner=function(){return this.users.find(function(e){return"owner"===e.role})},l.prototype.addUser=function(e){this.users.push(e),this.users.sort(c.D.role)},l.prototype.changeUserRole=function(e,t){var n=this.findUser(e);n&&(n.role=t,this.users.sort(c.D.role))},l.prototype.removeUser=function(e){return c.b(this.users,function(t){return t.user._id===e})},l.prototype.updateUserInfo=function(e,t){var n=this.findUser(e);n&&(Object.assign(n.user,t),this.users.sort(c.D.role))},l.prototype.changeUserPaymentPlan=function(e,t){var n=this.findUser(e);n&&(n.user.paymentPlan=t)},l.prototype.addColor=function(e){this.colors.push(new u.a(e))},l.prototype.removeColor=function(e){return c.b(this.colors,function(t){return t.id===e})},l.prototype.updateColor=function(e,t){var n=this.colors.find(function(t){return t.id===e});Object.assign(n,t)},l.prototype.findColorById=function(e){return this.colors.find(function(t){return t.id===e})},l.prototype.findColorByName=function(e){return this.colors.find(function(t){return t.name===e})},l.prototype.findColorEqual=function(e){return this.colors.find(function(t){return e.equals(t)})},l.prototype.findColorByHexAndAlpha=function(e){return this.colors.find(function(t){var n=void 0===e.alpha||t.a===e.alpha;return(void 0===e.hex||t.hexBase()===e.hex.toLowerCase())&&n})},l.prototype.checkDuplicateColorHex=function(e,t){var n=this.findColorByHexAndAlpha({hex:e,alpha:t.a});return n&&n.id!==t.id?n:null},l.prototype.checkDuplicateColorAlpha=function(e,t){var n=this.findColorByHexAndAlpha({hex:t.hexBase(),alpha:parseInt(e,10)/100});return n&&n.id!==t.id?n:null},l.prototype.checkDuplicateColorName=function(e,t){var n=this.findColorByName(e);return n&&n.id!==t.id?n:null},l.prototype._checkProjectColors=function(e){for(var t,n=0;n<this.colors.length;n++){var a=this.colors[n];if(a.hexBase()===e.hexBase()){var i=a.name.length,o=parseInt(a.name.substr(i-2),10);t=o&&o===Math.round(100*a.a)?a.name.substr(0,i-2):a.name;break}}return t||(t=e.generateName(this.type)),this._checkProjectColorNames(r(t,Math.round(100*e.a).toString(),this.type))},l.prototype._checkProjectColorNames=function(e){for(var t=e,n=1;this.findColorByName(t);)t=r(e,s(++n),this.type);return t},l.prototype.getColorName=function(e){return e.a<1?this._checkProjectColors(e):this._checkProjectColorNames(e.generateName(this.type))},l.prototype.deleteTag=function(e){return this.screens.reduce(function(t,n){var a;return n.tags&&-1!==(a=n.tags.indexOf(e))?(n.tags.splice(a,1),t.concat({_id:n._id,operation:"remove",tags:[e]})):t},[])},l.prototype.addSection=function(e,t){var n=this;return e.screens.forEach(function(e){var t=n.findScreenSection(e);t&&c.b(t.screens,function(t){return t===e})}),this.sections.splice(t,0,e),e},l.prototype.splitSection=function(e,t,n){var a=this.findSection(e);if(a){var i=this.sections.findIndex(function(t){return e===t._id}),o=a.screens.splice(t,a.screens.length-t);return this.sections.splice(i+1,0,{name:n,screens:o}),this.sections[i+1]}},l.prototype.findSection=function(e){return e?this.sections.find(function(t){return t._id===e}):null},l.prototype.removeSection=function(e){var t=this.findSection(e);if(t){var n=this.sections.findIndex(function(t){return t._id===e});return this.sections[n-1].screens=this.sections[n-1].screens.concat(t.screens),c.b(this.sections,function(t){return t._id===e})}},l.prototype.updateSectionOrder=function(e,t){var n=this,a=[].concat(e).map(function(e){return c.b(n.sections,function(t){return t._id===e})}).filter(function(e){return e});Array.prototype.splice.apply(this.sections,[t,0].concat(a))},l.prototype.isDefaultSection=function(e){return 0===this.sections.findIndex(function(t){return t._id===e})},l.prototype.findScreenSection=function(e){return this.sections.find(function(t){return t.screens.includes(e)})},l.prototype.addScreensToSection=function(e,t,n){var a=this,i=this.findSection(e);i&&(t.forEach(function(e){var t=a.findScreenSection(e);t&&c.b(t.screens,function(t){return t===e})}),Array.prototype.splice.apply(i.screens,[n,0].concat(t)))},l.prototype.addScreen=function(e,t){this.screens.push(e);var n=this.sections[0];void 0===t&&(t=n.screens.length),this.addScreensToSection(n._id,[e._id],t)},l.prototype.findScreen=function(e){return this.screens.find(function(t){return t._id===e})},l.prototype.removeScreen=function(e,t){var n=this.findSection(e);if(n&&c.b(n.screens,function(e){return e===t}))return c.b(this.screens,function(e){return e._id===t})},l.prototype.updateScreenOrder=function(e,t,n){var a=this.findSection(e);a&&(t=[].concat(t).map(function(e){return c.b(a.screens,function(t){return t===e})}).filter(function(e){return e}),Array.prototype.splice.apply(a.screens,[n,0].concat(t)))},l.prototype.addVersion=function(e,t){var n=this.findScreen(e);if(n)return n.updated=(new Date).toISOString(),n.versions.unshift(t),n.totalVersionCount&&n.totalVersionCount++,n.versions.length>this.allowedVersionCount?n.versions.pop():void 0},l.prototype.removeVersion=function(e,t){var n=this.findScreen(e);if(n){var a=c.b(n.versions,function(e){return e._id===t});return n.totalVersionCount&&n.totalVersionCount--,a}},l.prototype.addIntegration=function(e,t){this.integration[e].push(t)},l.prototype.removeIntegration=function(e,t){return c.b(this.integration[e],function(e){return e._id===t})},l.prototype.getColorMapByFormat=function(e){var t={};if(this.colors)return this.colors.forEach(function(n){var a=new u.a(n),i=a.toCSS(e);t[i]=a.name}),t}},function(e,t,n){"use strict";function a(e){var t=Object.assign({},e);t.blur=new r.a(t.blur),t.borders=t.borders.map(function(e){return new s.a(e,t.rect.width,t.rect.height)}),t.fills=t.fills.map(function(e){return new c.a(e,t.rect.width,t.rect.height)}).reverse(),t.shadows=t.shadows.map(function(e){return new d.a(e)}),t.textStyles=(t.textStyles||[]).map(function(e){var t=parseInt(e.range.location,10);return{range:{start:t,end:t+parseInt(e.range.length,10)},font:new u.a(e.style)}}),Object.defineProperties(this,{id:{value:t._id,enumerable:!0},type:{get:function(){return t.type},set:function(e){if(-1===p.indexOf(e))throw new TypeError("Unknown layer type: '"+e+"'. Possible values: "+JSON.stringify(p));t.type=e}},name:{get:function(){return t.name},set:function(e){t.name=e}},exportable:{value:t.exportable},rotation:{get:function(){return t.rotation},set:function(e){t.rotation=e}},opacity:{get:function(){return t.opacity},set:function(e){if(e<0||e>1)throw new RangeError("Invalid opacity value: '"+e+"'. Valid range: [0, 1]");t.opacity=e}},blendMode:{get:function(){return t.blendMode},set:function(e){if(-1===o.a.indexOf(e))throw new TypeError("Unknown blend mode: '"+e+"'. Possible values: "+JSON.stringify(o.a));t.blendMode=e}},borderRadius:{get:function(){return t.borderRadius},set:function(e){if(e<0)throw new RangeError("Invalid radius value: '"+e+"'. Valid range: [0, ∞)");t.borderRadius=e}},blur:{get:function(){return t.blur},set:function(e){t.blur=new r.a(e)}},rect:{get:function(){return t.rect},set:function(e){t.rect=e}},content:{get:function(){return"text"===t.type?t.content||"":""},set:function(e){"text"===t.type&&(t.content=e)}},textStyles:{get:function(){return t.textStyles}},borders:{value:t.borders},fills:{value:t.fills},shadows:{value:t.shadows}})}t.a=a;var i=n(0),o=n(12),r=n(71),s=n(72),l=n(14),c=n(43),u=n(22),d=n(75),m=n(25),g=n(15),p=["text","shape"];a.prototype.hasGradient=function(){return this.fills.some(function(e){return"gradient"===e.type})},a.prototype.hasBlendMode=function(){return this.fills.some(function(e){return e.blendMode&&"normal"!==e.blendMode})},a.prototype.toCSS=function(e,t,n,a,r){var s=this.type,c={selector:o.e(this.name)||".layer"};if(t&&(c.width=o.f(this.rect.width,e),c.height=o.f(this.rect.height,e)),this.exportable&&(c["object-fit"]="contain"),this.rotation&&(c.transform="rotate("+-this.rotation+"deg)"),1!==this.opacity&&(c.opacity=i.y(this.opacity,2)),"normal"!==this.blendMode&&(c["mix-blend-mode"]=this.blendMode),this.borderRadius&&(c["border-radius"]=o.f(this.borderRadius,e)),this.blur.radius){var u=this.blur.toCSS(e);for(var d in u)c[d]=u[d]}var m,g=this.hasGradient(),p=this.hasBlendMode();if(this.fills.length&&(g||p?(c["background-image"]=this.fills.map(function(e){return e.toBackgroundImage(a)}),p&&(c["background-blend-mode"]=this.fills.map(function(e){return e.blendMode}))):m=l.a.blendAll(this.fills.map(function(e){return e.color}))),"text"===s){var f=this.getDefaultTextStyle(),h=f&&this._getLayerFontCSS(f,e,n,a,r);h&&(delete h.selector,Object.assign(c,h))}else m&&(c["background-color"]=m.toCSS(a));if(this.shadows.length){var y="text"===s?"text-shadow":"box-shadow";c[y]=this.shadows.map(function(t){return t.toCSS(s,e,a)[y]})}if(this.borders.length){var b=this.borders[this.borders.length-1].toCSS(s,e,a);if(b)for(var d in b)c[d]=b[d]}return c},a.prototype.toReactStyle=function(e,t,n,a,r){var s=this.type,c={selector:o.e(this.name)||".layer"};if(n&&(c.width=i.y(this.rect.width/t,1),c.height=i.y(this.rect.height/t,1)),this.rotation&&(c.transform="rotate("+-this.rotation+"deg)"),1!==this.opacity&&(c.opacity=i.y(this.opacity,2)),this.borderRadius&&(c.borderRadius=i.y(this.borderRadius/t,1)),"text"===s){var u=this.getDefaultTextStyle(),d=u&&this._getLayerFontReactStyle(u,t,a,r);d&&(delete d.selector,Object.assign(c,d))}else!this.fills.length||this.hasGradient()||this.hasBlendMode()||(c.backgroundColor=l.a.blendAll(this.fills.map(function(e){return e.color})).toCSS(a));return this.shadows.length&&Object.assign(c,this.shadows[this.shadows.length-1].toReactStyle(e,s,t,a)),this.borders.length&&Object.assign(c,this.borders[this.borders.length-1].toReactStyle(s,t,a)),c},a.prototype.toAndroidXMLStyle=function(e,t){var n={layout_width:"wrap_content",layout_height:"wrap_content"},a=new u.a(this.textStyles[0].font),o=e.findTextStyleEqual(a),r="<TextView\n";if(this.shadows.length){var s=this.shadows[this.shadows.length-1].toAndroidXML(e);Object.assign(n,s)}if(o)r+='  style="@style/'+Object(g.a)(o.name,"upperCamelCase")+'"\n';else{var c={densityDivisor:e.densityDivisor,dimensionSuffix:e.textDimensionSuffix,lineSpacingType:t},d=Object(m.a)(a,c);Object.assign(n,d.robotoStyle),delete d.robotoStyle;var p,f;if(this.fills.length){if(!this.hasGradient()){var h=l.a.blendAll(this.fills.map(function(e){return e.color}));f=a.color?h.blend(a.color):h}}else f=a.color;f&&(p=e.findColorEqual(f),n.textColor=p?"@color/"+p.name:f.toHexString(!0)),Object.assign(n,d)}return Object.keys(n).forEach(function(e){n[e]&&(r+="  android:"+e+'="'+n[e]+'"\n')}),r+='  tools:text="'+i.f(this.content)+'"\n/>'},a.prototype.generateTextStyleCSS=function(e,t,n,a,i){var r=[],s=[],l=this.toCSS(e.densityDivisor,!1,t,a,i),c=this;return this.textStyles.forEach(function(u,d){var m,g=u.font;if(!s.some(function(e){return g.equals(e)})){s.push(g),delete(m=c._getLayerFontCSS(g,e.densityDivisor,t,a,i,l)).selector;var p=!1;for(var f in l)o.c(f)&&l[f]===m[f]&&(p=!0,delete m[f]);if(n&&!p){var h=e.findTextStyleEqual(g);if(h&&!o.b(h.name)){var y=h.toCSS(e.densityDivisor,t,a);for(var f in y)delete m[f];m.mixinEntry=o.e(h.name).substr(1)}}Object.keys(m).length&&(r.push(m),m.selector=l.selector+" "+o.e("text-style-"+r.length))}}),r},a.prototype._getLayerFontCSS=function(e,t,n,a,i,o){var r=e.toCSS(t,n,a,i,o);if(this.fills.length)if(delete r.color,this.hasGradient())r["-webkit-background-clip"]="text",r["background-clip"]="text",r["-webkit-text-fill-color"]="transparent",r["background-image"]=this.fills.map(function(e){return e.toBackgroundImage(a)}),e.color&&r["background-image"].push(e.color.toGradient(a));else{var s=l.a.blendAll(this.fills.map(function(e){return e.color}));e.color&&(s=s.blend(e.color)),r.color=s.toCSS(a)}return r},a.prototype._getLayerFontReactStyle=function(e,t,n,a,i){var o=e.toReactStyle("",t,n,a,i);if(this.fills.length&&!this.hasGradient()){delete o.color;var r=l.a.blendAll(this.fills.map(function(e){return e.color}));e.color&&(r=r.blend(e.color)),o.color=r.toCSS(n)}return o},a.prototype.getDefaultTextStyle=function(){if("text"===this.type&&this.textStyles.length){var e,t=[],n=0;return this.textStyles.forEach(function(a){var i=t.find(function(e){return e.font.equals(a.font)}),o=a.range.end-a.range.start;i||(i={font:a.font,totalLength:0},t.push(i)),i.totalLength+=o,i.totalLength>n&&(n=i.totalLength,e=i)}),e&&e.font}}},function(e,t,n){"use strict";function a(e){if(e){var t=Object.assign({},e);Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===o.indexOf(e))throw new TypeError("Unknown blur type: '"+e+"'. Possible values: "+JSON.stringify(o));t.type=e}},radius:{get:function(){return t.radius},set:function(e){if(e<0)throw new RangeError("Invalid radius value: '"+e+"'. Valid range: [0, ∞)");t.radius=e}}})}}t.a=a;var i=n(12),o=["gaussian","background"];a.prototype.toCSS=function(e){var t="blur("+i.f(this.radius,e)+")";return"background"===this.type?{"-webkit-backdrop-filter":t,"backdrop-filter":t}:{"-webkit-filter":t,filter:t}}},function(e,t,n){"use strict";function a(e,t,n){var a=Object.assign({},e);a.fill=new r.a({fillType:a.fillType,color:a.color,gradient:a.gradient,opacity:a.opacity,blendMode:a.blendMode},t,n),delete a.fillType,delete a.color,delete a.gradient,delete a.opacity,delete a.blendMode,Object.defineProperties(this,{position:{get:function(){return a.position},set:function(e){a.position=e}},thickness:{get:function(){return a.thickness},set:function(e){a.thickness=e}},fill:{get:function(){return a.fill},set:function(e){a.fill=e}}})}t.a=a;var i=n(0),o=n(12),r=n(43);a.prototype.toCSS=function(e,t,n){if(e&&"text"===e&&"color"===this.fill.type)return{"-webkit-text-stroke":o.f(this.thickness,t)+" "+this.fill.color.toCSS(n)};switch(this.fill.type){case"color":return{border:"solid "+o.f(this.thickness,t)+" "+this.fill.color.toCSS(n)};case"gradient":return{"border-style":"solid","border-width":o.f(this.thickness,t),"border-image-source":this.fill.gradient.toCSS(n),"border-image-slice":"1"}}},a.prototype.toReactStyle=function(e,t,n){return"text"===e?{}:"gradient"===this.fill.type?{}:{borderStyle:"solid",borderWidth:i.y(this.thickness/t,1),borderColor:this.fill.color.toCSS(n)}}},function(e,t,n){"use strict";function a(e,t,n){var a=Object.assign({},e);if("angle"in a){var i=Math.cos(a.angle*Math.PI/180),o=Math.sin(a.angle*Math.PI/180);a.angle=(360+Math.round(180*Math.atan2(i,o)/Math.PI))%360}else{var l=(a.from.x-a.to.x)*t,c=(a.from.y-a.to.y)*n;a.angle=(360-Math.round(180*Math.atan2(l,c)/Math.PI))%360}a.colorStops=a.colorStops.map(function(e){return new r.a(e)}),Object.defineProperties(this,{type:{get:function(){return a.type},set:function(e){if(-1===s.indexOf(e))throw new TypeError("Unknown gradient type: '"+e+"'. Possible values: "+JSON.stringify(s));a.type=e},enumerable:!0},from:{get:function(){return a.from},set:function(e){a.from=e},enumerable:!0},to:{get:function(){return a.to},set:function(e){a.to=e},enumerable:!0},angle:{get:function(){return a.angle},set:function(e){a.angle=e},enumerable:!0},scale:{get:function(){return a.scale},set:function(e){a.scale=e},enumerable:!0},colorStops:{value:a.colorStops,enumerable:!0}})}function i(e){switch(e){case 0:return"to top";case 90:return"to right";case 180:return"to bottom";case 270:return"to left";default:return e+"deg"}}t.a=a;var o=n(12),r=n(74),s=["linear","radial","angular"];a.prototype.toCSS=function(e){switch(this.type){case"linear":return"linear-gradient("+i(this.angle)+", "+this.colorStops.map(function(t){return t.toCSS(e)}).join(", ")+")";case"radial":var t=this.colorStops.map(function(t){return t.toCSS(e)}).join(", ");return"radial-gradient(circle at "+o.g(this.from.x)+" "+o.g(this.from.y)+", "+t+")";case"angular":return"conic-gradient("+this.colorStops.map(function(t){return t.toCSS(e)}).join(", ")+", "+this.colorStops[0].toCSS(e)+")"}}},function(e,t,n){"use strict";function a(e){var t=Object.assign({},e);t.color=new o.a(t.color),Object.defineProperties(this,{color:{get:function(){return t.color},set:function(e){t.color=new o.a(e)}},position:{get:function(){return t.position},set:function(e){if(e<0||e>1)throw new RangeError("Invalid position value: '"+e+"'. Valid range: [0, 1]");t.position=e}}})}t.a=a;var i=n(12),o=n(14);a.prototype.toCSS=function(e){var t="";return 1!==this.position&&this.position&&(t=" "+i.g(this.position)),this.color.toCSS(e)+t}},function(e,t,n){"use strict";function a(e){var t=Object.assign({},e);t.color=new r.a(t.color),Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===s.indexOf(e))throw new TypeError("Unknown shadow type: '"+e+"'. Possible values: "+JSON.stringify(s));t.type=e}},offsetX:{get:function(){return t.offsetX},set:function(e){t.offsetX=e}},offsetY:{get:function(){return t.offsetY},set:function(e){t.offsetY=e}},blurRadius:{get:function(){return t.blurRadius},set:function(e){t.blurRadius=e}},spread:{get:function(){return t.spread},set:function(e){t.spread=e}},color:{get:function(){return t.color},set:function(e){t.color=new r.a(e)}}})}t.a=a;var i=n(0),o=n(12),r=n(14),s=["outer","inner"];a.prototype.toCSS=function(e,t,n){return e&&"text"===e?{"text-shadow":o.f(this.offsetX,t)+" "+o.f(this.offsetY,t)+" "+o.f(this.blurRadius,t)+" "+this.color.toCSS(n)}:{"box-shadow":("inner"===this.type?"inset ":"")+o.f(this.offsetX,t)+" "+o.f(this.offsetY,t)+" "+o.f(this.blurRadius,t)+" "+o.f(this.spread,t)+" "+this.color.toCSS(n)}},a.prototype.toReactStyle=function(e,t,n,a){return"text"===t?{textShadowColor:this.color.toCSS(a),textShadowOffset:{width:i.y(this.offsetX/n,1),height:i.y(this.offsetY/n,1)},textShadowRadius:i.y(this.blurRadius/n,1)}:"android"===e?{}:{shadowColor:this.color.toCSS(a),shadowOffset:{width:i.y(this.offsetX/n,1),height:i.y(this.offsetY/n,1)},shadowRadius:i.y(this.blurRadius/n,1),shadowOpacity:1}},a.prototype.toAndroidXML=function(e){var t,n=new r.a(this.color),a=e.findColorEqual(n);return t=a?"@color/"+a.name:n.toHexString(!0),{shadowColor:t,shadowDx:this.offsetX,shadowDy:this.offsetY,shadowRadius:this.blurRadius}}},function(e,t){e.exports=CodeMirror},function(e,t){e.exports=Autolinker},function(e,t){e.exports=JSZip},function(e,t,n){"use strict";function a(e){this._isMac=e&&e.mac,this._routes=[],this._history=new i,this._history.attach(function(e){this._handle(e.url)}.bind(this))}function i(){this._history=window.history,this._listeners={},this._listenerCount=0,window.addEventListener("popstate",this._handlePopState.bind(this))}function o(e,t){this._element=e,this._router=t,this._element.addEventListener("click",this._clickHandler.bind(this))}var r=n(0);Object.defineProperties(a.prototype,{isMac:{get:function(){return this._isMac}},history:{get:function(){return this._history}},match:{value:function(e){return e=this._getUrl(e),!!this._findRoute(e)}},route:{value:function(e,t){return this._register({regex:e,handler:t}),this}},start:{value:function(e,t,n){var a=Promise.resolve();return this._hookAppLinks(e),t&&(a=a.then(t)),a=a.then(function(){this._handle(window.location.href)}.bind(this)),n&&a.then(n),this}},_createLink:{value:function(e){new o(e,this)}},_register:{value:function(e){this._routes.push(e)}},_getUrl:{value:function(e){return"string"==typeof e?(e.startsWith("/")&&(e=window.location.origin+e),new URL(e)):e}},_findRoute:{value:function(e){return this._routes.find(function(t){return t.regex.test(e.href)})}},_handle:{value:function(e){e=this._getUrl(e);var t=this._findRoute(e);if(t)return t.handler({url:e,match:e.href.match(t.regex).slice(1),query:Object(r.v)(e.search.substr(1))})}},_searchAppLinks:{value:function(e){var t=this;return e.nodeType!==Node.ELEMENT_NODE?[]:e.hasAttribute("data-link-type")&&"inApp"===e.dataset.linkType?[e]:Array.from(e.childNodes).reduce(function(e,n){return e.concat(t._searchAppLinks(n))},[])}},_hookAppLinks:{value:function(e){var t=this,n=e.querySelectorAll('[data-link-type="inApp"]');Array.from(n).forEach(function(e){t._createLink(e)});var a={attributes:!0,childList:!0,subtree:!0,attributeFilter:["data-link-type"]};new MutationObserver(function(e){e.forEach(function(e){switch(e.type){case"attributes":"inApp"===e.target.dataset.linkType&&t._createLink(e.target);break;case"childList":Array.from(e.addedNodes).forEach(function(e){t._searchAppLinks(e).forEach(function(e){t._createLink(e)})})}})}).observe(e,a)}}}),Object.defineProperties(i.prototype,{actions:{value:{PUSH_STATE:"PUSH_STATE",POP_STATE:"POP_STATE",REPLACE_STATE:"REPLACE_STATE"}},attach:{value:function(e){var t=this._listenerCount;return this._listeners[t]=e,this._listenerCount++,t}},detach:{value:function(e){delete this._listeners[e]}},push:{value:function(e,t){this._history.pushState(t,null,e),this._notifyListeners({action:this.actions.PUSH_STATE,state:t,url:e})}},replace:{value:function(e,t){this._history.replaceState(t,null,e),this._notifyListeners({action:this.actions.REPLACE_STATE,state:t,url:e})}},_notifyListeners:{value:function(e){Object.keys(this._listeners).forEach(function(t){this._listeners[t](e)},this)}},_handlePopState:{value:function(e){this._notifyListeners({action:this.actions.POP_STATE,state:e.state,url:window.location.toString()})}}}),Object.defineProperties(o.prototype,{element:{get:function(){return this._element}},_shouldReplace:{get:function(){return!!this._element.dataset.replace}},_clickHandler:{value:function(e){!this._router.match(this._element.href)||(this._router.isMac?e.metaKey:e.ctrlKey)||(e.preventDefault(),this._shouldReplace?this._router.history.replace(this._element.href):this._router.history.push(this._element.href))}}}),t.a=a},function(e,t,n){"use strict";function a(e,t,n){var a=t.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\\/g,"\\").replace(/(["'])/g,"\\$1"),i="";return"swift"===e?(n&&(i=", attributes: "+n),'let attributedString = NSMutableAttributedString(string: "'+a+'"'+i+")"):"objc"===e?(n&&(i=" attributes:"+n),'NSMutableAttributedString *attributedString = [[NSMutableAttributedString alloc] initWithString:@"'+a+'"'+i+"];"):void 0}function i(e){return"range: NSRange(location: "+e.start+", length: "+(e.end-e.start)+"))"}function o(e){return"range:NSMakeRange("+e.start+", "+(e.end-e.start)+")];"}function r(e,t){var n,a,i;if("osx"===e.type?(n="NSColor",a="calibratedWhite",i="calibratedRed"):"ios"===e.type&&(n="UIColor",a="white",i="red"),t.name)return n+"."+((e.prefix||"")+(e.prefix?b.H(t.name):b.s(t.name)));var o=n+"(";return t.r===t.g&&t.g===t.b?o+=a+": "+b.u(t.r):o+=i+": "+b.u(t.r)+"green: "+b.u(t.g)+"blue: "+b.u(t.b),o+="alpha: "+S.format(t.a)+")"}function s(e,t){var n,a,i;if("osx"===e.type?(n="NSColor",a="colorWithCalibratedWhite",i="colorWithCalibratedRed"):"ios"===e.type&&(n="UIColor",a="colorWithWhite",i="colorWithRed"),t.name)return"["+n+" "+((e.prefix?e.prefix+"_":"")+b.s(t.name)+"Color")+"]";var o="["+n+" ";return t.r===t.g&&t.g===t.b?o+=a+":"+b.t(t.r):o+=i+":"+b.t(t.r)+"green:"+b.t(t.g)+"blue:"+b.t(t.b),o+="alpha:"+S.format(t.a)+"f]"}function l(e,t,n,a){var l;return"swift"===t?l="attributedString.addAttribute(NSForegroundColorAttributeName, value: "+r(e,n)+", "+i(a):"objc"===t&&(l="[attributedString addAttribute:NSForegroundColorAttributeName value:"+s(e,n)+" "+o(a)),l}function c(e,t,n){var a;return"osx"===e.type?a="NSFont":"ios"===e.type&&(a="UIFont"),n.name?a+"."+((e.prefix||"")+Object(v.a)(n.name,e.prefix?"upperCamelCase":"camelCase")+"Font()"):n.generateFontValueForAddAttributeWithSwift({platform:e.type,deploymentTarget:t,densityDivisor:e.densityDivisor,prefix:e.prefix})}function u(e,t,n){var a;return"osx"===e.type?a="NSFont":"ios"===e.type&&(a="UIFont"),n.name?"["+a+" "+((e.prefix?e.prefix+"_":"")+Object(v.a)(n.name,"camelCase")+"Font")+"]":n.generateFontValueForAddAttributeWithObjC({platform:e.type,deploymentTarget:t,densityDivisor:e.densityDivisor,prefix:e.prefix})}function d(e,t,n,a,r){var s;return"swift"===t?s="attributedString.addAttribute(NSFontAttributeName, value: "+c(e,n,a)+", "+i(r):"objc"===t&&(s="[attributedString addAttribute:NSFontAttributeName value:"+u(e,n,a)+" "+o(r)),s}function m(e,t,n){var a;return"swift"===e?a="attributedString.addAttribute(NSKernAttributeName, value: "+j.format(t)+", "+i(n):"objc"===e&&(a="[attributedString addAttribute:NSKernAttributeName value:@("+j.format(t)+") "+o(n)),a}function g(e,t,n){var a=[];return n.font&&a.push("  NSFontAttributeName: "+c(e,t,n.font)),n.color&&a.push("  NSForegroundColorAttributeName: "+r(e,n.color)),(n.letterSpacing||0===n.letterSpacing)&&a.push("  NSKernAttributeName: "+j.format(n.letterSpacing)),"[\n"+a.join(",\n")+"\n]"}function p(e,t,n){var a=[];return n.font&&a.push("  NSFontAttributeName: "+u(e,t,n.font)),n.color&&a.push("  NSForegroundColorAttributeName: "+s(e,n.color)),(n.letterSpacing||0===n.letterSpacing)&&a.push("  NSKernAttributeName: @("+j.format(n.letterSpacing)+")"),"@{\n"+a.join(",\n")+"\n}"}function f(e,t,n,a){var i={font:a,color:a.color,letterSpacing:a.letterSpacing};return"swift"===e?g(t,n,i):"objc"===e?p(t,n,i):void 0}function h(e,t,n,a,r){var s;return"swift"===t?s="attributedString.addAttributes("+g(e,n,a)+", "+i(r):"objc"===t&&(s="[attributedString addAttributes:"+p(e,n,a)+" "+o(r)),s}function y(e,t,n,a){var i={};if(!t.color.equals(n.color)){var o;o=a[t.color.toCSS()]?{name:a[t.color.toCSS()]}:t.color,i.color=o}if(t.fontFace!==n.fontFace||t.fontSize!==n.fontSize){var r=e.findTextStyleEqual(t);i.font=r?{name:r.name}:t}return t.letterSpacing!==n.letterSpacing&&(i.letterSpacing=t.letterSpacing||0),i}var b=n(0),v=n(15),S=new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2}),j=S;t.a=function(e,t,n,i,o,r){var s,c=t.getDefaultTextStyle(),u=e.getColorMapByFormat();r&&(s=f(i,e,o,c));var g=[a(i,t.content,s)];if(n.forEach(function(t){if(-1!==t.groupId){var n=y(e,t.font,c,u);1===Object.keys(n).length?n.color?g.push(l(e,i,n.color,t.range)):n.font?g.push(d(e,i,o,n.font,t.range)):(n.letterSpacing||0===n.letterSpacing)&&g.push(m(i,n.letterSpacing,t.range)):Object.keys(n).length>1&&g.push(h(e,i,o,n,t.range))}}),g.length>1)return{content:g.join("\n"),exportType:i}}},function(e,t,n){"use strict";function a(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&s&&(e.target.classList.contains("assetExportTargetProjectFolder")?(o(l,!0),u.a.ipcRenderer.send("change-asset-download-target",{projectId:l,projectType:c})):e.target.classList.contains("openInExplorer")&&u.a.ipcRenderer.send("open-item",s))}function i(e,t){t?m.forEach(function(e){var n=e.querySelector(".assetExportTargetProjectName span"),a=e.querySelector(".assetExportTargetProjectFolder");s=t.projectFolder,n.title=t.projectName,n.textContent=t.projectName,a.title=t.projectFolder,a.textContent=t.projectFolderPathParts.join("▸"),e.classList.remove("android","custom","hidden"),e.classList.add(t.projectFolderType)}):m.forEach(function(e){e.classList.add("hidden"),e.classList.remove("android","custom")})}function o(e,t){l=e,m.forEach(function(e){t||(e.classList.add("hidden"),e.classList.remove("android","custom"))}),u.a.ipcRenderer.removeAllListeners(e+":asset-download-target"),u.a.ipcRenderer.once(e+":asset-download-target",i)}function r(e,t){d.C("Exported to "+t.projectName,g),"android"===c&&mixpanel.track("Exported assets",{folderType:t.projectFolderType,projectType:c})}t.b=function(e,t){c=t,o(e),u.a.ipcRenderer.send("query-asset-download-target",e)},t.a=function(e){o(e.projectId,!0),u.a.ipcRenderer.removeAllListeners("assets-downloaded"),u.a.ipcRenderer.once("assets-downloaded",r),u.a.ipcRenderer.send("download-assets",e)};var s,l,c,u=n(8),d=n(0),m=Array.from(document.querySelectorAll(".assetExportTargetProject")),g=document.querySelector("main");m.forEach(function(e){e.addEventListener("click",a)})},function(e,t,n){"use strict";function a(e){return e?(f=e,(w=y.a.getSuggestedEmojis(e)).length?(w.forEach(i),v.appendChild(S),!m||o(m)?(E=0,m=w[0]):E=v.querySelector(".suggestedItem[data-emoji='"+m.emoji+"']").dataset.index,v):void(m=null)):(m=null,E=0,void d())}function i(e,t){var n=document.importNode(j.content,!0),a=n.querySelector(".suggestedItem"),i=e.alias.replace(/\s/gi,"_");a.dataset.index=t,a.dataset.emoji=e.emoji,e.customEmoji?(a.querySelector(".emojiImg").src=e.emoji,a.classList.add("customEmoji")):a.querySelector(".emojiChar").textContent=e.emoji,a.querySelector(".emojiAlias").textContent=i,a.querySelector(".emojiAlias").title=i,S.appendChild(n)}function o(e){return!w.some(function(t){return t.emoji===e.emoji})}function r(e){var t=g.selectionStart,n=g.value.substring(0,t),a=n.length-n.split("").reverse().join("").search(/:/)-1,i=g.value.substring(a,t),o=e.alias.replace(/\s/g,"_");g.value=g.value.substring(0,a)+i.replace(f,o+": ")+g.value.substring(t),p.innerHTML=Object(h.g)(g.value)+"&nbsp;";var r=t-f.length+o.length+2;g.focus(),g.setSelectionRange(r,r),d()}function s(e,t,n){return e.replace(C,function(e,a){var i=y.a.searchEmoji(a);if(i){if(n)return"";if(!i.customEmoji)return i.emoji;if(!t)return'<img class="customEmoji" src="'+i.emoji+'" title="'+a+'">'}return e})}function l(e,t){if(g=e,p=t,!v.classList.contains("hidden")){var n=v.querySelector(".suggestedItem.selected");n&&(m=w[n.dataset.index])}var i=e.value.substring(0,e.selectionStart),o=i.lastIndexOf(":"),r=e.value.substring(o,e.selectionStart).match(/^:(.+)/);if(r){var s=r[0].substring(1);if(f===s&&!v.classList.contains("hidden"))return;d();var l=i.substring(0,o).lastIndexOf(":"),c=i.substring(l,o+1).match(C);if(c&&y.a.searchEmoji(c[0].substring(1,c[0].length-1)))return;return a(s)}E=0,m=null,d()}function c(e,t){return s(e,t)}function u(){var e={elements:{textContainer:g,suggestedListContainer:v},cb:{autoComplete:r},index:E,list:w};b.b(e)}function d(){b.a()}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"manageSuggestedEmojis",function(){return l}),n.d(t,"open",function(){return u}),n.d(t,"close",function(){return d}),n.d(t,"formatEmojiString",function(){return c}),n.d(t,"replace",function(){return s});var m,g,p,f,h=n(0),y=n(44),b=n(45),v=document.getElementById("suggestedEmojisContainer"),S=v.querySelector(".suggestedListBox"),j=document.getElementById("suggestedEmojiTemplate"),E=0,w=[],C=/:(\S+?):/g},function(e,t,n){"use strict";t.a=[{emoji:"😀",aliases:["grinning"]},{emoji:"😃",aliases:["smiley"]},{emoji:"😄",aliases:["smile"]},{emoji:"😁",aliases:["grin"]},{emoji:"😆",aliases:["laughing","satisfied"]},{emoji:"😅",aliases:["sweat smile"]},{emoji:"😂",aliases:["joy"]},{emoji:"🤣",aliases:["rofl"]},{emoji:"☺️",aliases:["relaxed"]},{emoji:"😊",aliases:["blush"]},{emoji:"😇",aliases:["innocent"]},{emoji:"🙂",aliases:["slightly smiling face"]},{emoji:"🙃",aliases:["upside down face"]},{emoji:"😉",aliases:["wink"]},{emoji:"😌",aliases:["relieved"]},{emoji:"😍",aliases:["heart eyes"]},{emoji:"😘",aliases:["kissing heart"]},{emoji:"😗",aliases:["kissing"]},{emoji:"😙",aliases:["kissing smiling eyes"]},{emoji:"😚",aliases:["kissing closed eyes"]},{emoji:"😋",aliases:["yum"]},{emoji:"😜",aliases:["stuck out tongue winking eye"]},{emoji:"😝",aliases:["stuck out tongue closed eyes"]},{emoji:"😛",aliases:["stuck out tongue"]},{emoji:"🤑",aliases:["money mouth face"]},{emoji:"🤗",aliases:["hugs"]},{emoji:"🤓",aliases:["nerd face"]},{emoji:"😎",aliases:["sunglasses"]},{emoji:"🤡",aliases:["clown face"]},{emoji:"🤠",aliases:["cowboy hat face"]},{emoji:"😏",aliases:["smirk"]},{emoji:"😒",aliases:["unamused"]},{emoji:"😞",aliases:["disappointed"]},{emoji:"😔",aliases:["pensive"]},{emoji:"😟",aliases:["worried"]},{emoji:"😕",aliases:["confused"]},{emoji:"🙁",aliases:["slightly frowning face"]},{emoji:"☹️",aliases:["frowning face"]},{emoji:"😣",aliases:["persevere"]},{emoji:"😖",aliases:["confounded"]},{emoji:"😫",aliases:["tired face"]},{emoji:"😩",aliases:["weary"]},{emoji:"😤",aliases:["triumph"]},{emoji:"😠",aliases:["angry"]},{emoji:"😡",aliases:["rage","pout"]},{emoji:"😶",aliases:["no mouth"]},{emoji:"😐",aliases:["neutral face"]},{emoji:"😑",aliases:["expressionless"]},{emoji:"😯",aliases:["hushed"]},{emoji:"😦",aliases:["frowning"]},{emoji:"😧",aliases:["anguished"]},{emoji:"😮",aliases:["open mouth"]},{emoji:"😲",aliases:["astonished"]},{emoji:"😵",aliases:["dizzy face"]},{emoji:"😳",aliases:["flushed"]},{emoji:"😱",aliases:["scream"]},{emoji:"😨",aliases:["fearful"]},{emoji:"😰",aliases:["cold sweat"]},{emoji:"😢",aliases:["cry"]},{emoji:"😥",aliases:["disappointed relieved"]},{emoji:"🤤",aliases:["drooling face"]},{emoji:"😭",aliases:["sob"]},{emoji:"😓",aliases:["sweat"]},{emoji:"😪",aliases:["sleepy"]},{emoji:"😴",aliases:["sleeping"]},{emoji:"🙄",aliases:["roll eyes"]},{emoji:"🤔",aliases:["thinking"]},{emoji:"🤥",aliases:["lying face"]},{emoji:"😬",aliases:["grimacing"]},{emoji:"🤐",aliases:["zipper mouth face"]},{emoji:"🤢",aliases:["nauseated face"]},{emoji:"🤧",aliases:["sneezing face"]},{emoji:"😷",aliases:["mask"]},{emoji:"🤒",aliases:["face with thermometer"]},{emoji:"🤕",aliases:["face with head bandage"]},{emoji:"😈",aliases:["smiling imp"]},{emoji:"👿",aliases:["imp"]},{emoji:"👹",aliases:["japanese ogre"]},{emoji:"👺",aliases:["japanese goblin"]},{emoji:"💩",aliases:["hankey","poop","shit"]},{emoji:"👻",aliases:["ghost"]},{emoji:"💀",aliases:["skull"]},{emoji:"☠️",aliases:["skull and crossbones"]},{emoji:"👽",aliases:["alien"]},{emoji:"👾",aliases:["space invader"]},{emoji:"🤖",aliases:["robot"]},{emoji:"🎃",aliases:["jack o lantern"]},{emoji:"😺",aliases:["smiley cat"]},{emoji:"😸",aliases:["smile cat"]},{emoji:"😹",aliases:["joy cat"]},{emoji:"😻",aliases:["heart eyes cat"]},{emoji:"😼",aliases:["smirk cat"]},{emoji:"😽",aliases:["kissing cat"]},{emoji:"🙀",aliases:["scream cat"]},{emoji:"😿",aliases:["crying cat face"]},{emoji:"😾",aliases:["pouting cat"]},{emoji:"👐",aliases:["open hands"]},{emoji:"🙌",aliases:["raised hands"]},{emoji:"👏",aliases:["clap"]},{emoji:"🙏",aliases:["pray"]},{emoji:"🤝",aliases:["handshake"]},{emoji:"👍",aliases:["+1","thumbsup"]},{emoji:"👎",aliases:["-1","thumbsdown"]},{emoji:"👊",aliases:["fist oncoming","facepunch","punch"]},{emoji:"✊",aliases:["fist raised","fist"]},{emoji:"🤛",aliases:["fist left"]},{emoji:"🤜",aliases:["fist right"]},{emoji:"🤞",aliases:["crossed fingers"]},{emoji:"✌️",aliases:["v"]},{emoji:"🤘",aliases:["metal"]},{emoji:"👌",aliases:["ok hand"]},{emoji:"👈",aliases:["point left"]},{emoji:"👉",aliases:["point right"]},{emoji:"👆",aliases:["point up 2"]},{emoji:"👇",aliases:["point down"]},{emoji:"☝️",aliases:["point up"]},{emoji:"✋",aliases:["hand","raised hand"]},{emoji:"🤚",aliases:["raised back of hand"]},{emoji:"🖐",aliases:["raised hand with fingers splayed"]},{emoji:"🖖",aliases:["vulcan salute"]},{emoji:"👋",aliases:["wave"]},{emoji:"🤙",aliases:["call me hand"]},{emoji:"💪",aliases:["muscle"]},{emoji:"🖕",aliases:["middle finger","fu"]},{emoji:"✍️",aliases:["writing hand"]},{emoji:"🤳",aliases:["selfie"]},{emoji:"💅",aliases:["nail care"]},{emoji:"💍",aliases:["ring"]},{emoji:"💄",aliases:["lipstick"]},{emoji:"💋",aliases:["kiss"]},{emoji:"👄",aliases:["lips"]},{emoji:"👅",aliases:["tongue"]},{emoji:"👂",aliases:["ear"]},{emoji:"👃",aliases:["nose"]},{emoji:"👣",aliases:["footprints"]},{emoji:"👁",aliases:["eye"]},{emoji:"👀",aliases:["eyes"]},{emoji:"🗣",aliases:["speaking head"]},{emoji:"👤",aliases:["bust in silhouette"]},{emoji:"👥",aliases:["busts in silhouette"]},{emoji:"👶",aliases:["baby"]},{emoji:"👦",aliases:["boy"]},{emoji:"👧",aliases:["girl"]},{emoji:"👨",aliases:["man"]},{emoji:"👩",aliases:["woman"]},{emoji:"👱‍♀️‍",aliases:["blonde woman"]},{emoji:"👱",aliases:["blonde man","person with blond hair"]},{emoji:"👴",aliases:["older man"]},{emoji:"👵",aliases:["older woman"]},{emoji:"👲",aliases:["man with gua pi mao"]},{emoji:"👳‍♀️",aliases:["woman with turban"]},{emoji:"👳",aliases:["man with turban"]},{emoji:"👮‍♀️",aliases:["policewoman"]},{emoji:"👮",aliases:["policeman","cop"]},{emoji:"👷‍♀️",aliases:["construction worker woman"]},{emoji:"👷",aliases:["construction worker man","construction worker"]},{emoji:"💂‍♀️",aliases:["guardswoman"]},{emoji:"💂",aliases:["guardsman"]},{emoji:"🕵️‍♀️",aliases:["female detective"]},{emoji:"🕵",aliases:["male detective","detective"]},{emoji:"👩‍⚕️",aliases:["woman health worker"]},{emoji:"👨‍⚕️",aliases:["man health worker"]},{emoji:"👩‍🌾",aliases:["woman farmer"]},{emoji:"👨‍🌾",aliases:["man farmer"]},{emoji:"👩‍🍳",aliases:["woman cook"]},{emoji:"👨‍🍳",aliases:["man cook"]},{emoji:"👩‍🎓",aliases:["woman student"]},{emoji:"👨‍🎓",aliases:["man student"]},{emoji:"👩‍🎤",aliases:["woman singer"]},{emoji:"👨‍🎤",aliases:["man singer"]},{emoji:"👩‍🏫",aliases:["woman teacher"]},{emoji:"👨‍🏫",aliases:["man teacher"]},{emoji:"👩‍🏭",aliases:["woman factory worker"]},{emoji:"👨‍🏭",aliases:["man factory worker"]},{emoji:"👩‍💻",aliases:["woman technologist"]},{emoji:"👨‍💻",aliases:["man technologist"]},{emoji:"👩‍💼",aliases:["woman office worker"]},{emoji:"👨‍💼",aliases:["man office worker"]},{emoji:"👩‍🔧",aliases:["woman mechanic"]},{emoji:"👨‍🔧",aliases:["man mechanic"]},{emoji:"👩‍🔬",aliases:["woman scientist"]},{emoji:"👨‍🔬",aliases:["man scientist"]},{emoji:"👩‍🎨",aliases:["woman artist"]},{emoji:"👨‍🎨",aliases:["man artist"]},{emoji:"👩‍🚒",aliases:["woman firefighter"]},{emoji:"👨‍🚒",aliases:["man firefighter"]},{emoji:"👩‍✈️",aliases:["woman pilot"]},{emoji:"👨‍✈️",aliases:["man pilot"]},{emoji:"👩‍🚀",aliases:["woman astronaut"]},{emoji:"👨‍🚀",aliases:["man astronaut"]},{emoji:"👩‍⚖️",aliases:["woman judge"]},{emoji:"👨‍⚖️",aliases:["man judge"]},{emoji:"🤶",aliases:["mrs claus"]},{emoji:"🎅",aliases:["santa"]},{emoji:"👸",aliases:["princess"]},{emoji:"🤴",aliases:["prince"]},{emoji:"👰",aliases:["bride with veil"]},{emoji:"🤵",aliases:["man in tuxedo"]},{emoji:"👼",aliases:["angel"]},{emoji:"🤰",aliases:["pregnant woman"]},{emoji:"🙇‍♀️",aliases:["bowing woman"]},{emoji:"🙇",aliases:["bowing man","bow"]},{emoji:"💁",aliases:["tipping hand woman","information desk person","sassy woman"]},{emoji:"💁‍♂️",aliases:["tipping hand man","sassy man"]},{emoji:"🙅",aliases:["no good woman","no good","ng woman"]},{emoji:"🙅‍♂️",aliases:["no good man","ng man"]},{emoji:"🙆",aliases:["ok woman"]},{emoji:"🙆‍♂️",aliases:["ok man"]},{emoji:"🙋",aliases:["raising hand woman","raising hand"]},{emoji:"🙋‍♂️",aliases:["raising hand man"]},{emoji:"🤦‍♀️",aliases:["woman facepalming"]},{emoji:"🤦‍♂️",aliases:["man facepalming"]},{emoji:"🤷‍♀️",aliases:["woman shrugging"]},{emoji:"🤷‍♂️",aliases:["man shrugging"]},{emoji:"🙎",aliases:["pouting woman","person with pouting face"]},{emoji:"🙎‍♂️",aliases:["pouting man"]},{emoji:"🙍",aliases:["frowning woman","person frowning"]},{emoji:"🙍‍♂️",aliases:["frowning man"]},{emoji:"💇",aliases:["haircut woman","haircut"]},{emoji:"💇‍♂️",aliases:["haircut man"]},{emoji:"💆",aliases:["massage woman","massage"]},{emoji:"💆‍♂️",aliases:["massage man"]},{emoji:"🕴",aliases:["business suit levitating"]},{emoji:"💃",aliases:["dancer"]},{emoji:"🕺",aliases:["man dancing"]},{emoji:"👯",aliases:["dancing women","dancers"]},{emoji:"👯‍♂️",aliases:["dancing men"]},{emoji:"🚶‍♀️",aliases:["walking woman"]},{emoji:"🚶",aliases:["walking man","walking"]},{emoji:"🏃‍♀️",aliases:["running woman"]},{emoji:"🏃",aliases:["running man","runner","running"]},{emoji:"👫",aliases:["couple"]},{emoji:"👭",aliases:["two women holding hands"]},{emoji:"👬",aliases:["two men holding hands"]},{emoji:"💑",aliases:["couple with heart woman man","couple with heart"]},{emoji:"👩‍❤️‍👩",aliases:["couple with heart woman woman"]},{emoji:"👨‍❤️‍👨",aliases:["couple with heart man man"]},{emoji:"💏",aliases:["couplekiss man woman"]},{emoji:"👩‍❤️‍💋‍👩",aliases:["couplekiss woman woman"]},{emoji:"👨‍❤️‍💋‍👨",aliases:["couplekiss man man"]},{emoji:"👪",aliases:["family man woman boy","family"]},{emoji:"👨‍👩‍👧",aliases:["family man woman girl"]},{emoji:"👨‍👩‍👧‍👦",aliases:["family man woman girl boy"]},{emoji:"👨‍👩‍👦‍👦",aliases:["family man woman boy boy"]},{emoji:"👨‍👩‍👧‍👧",aliases:["family man woman girl girl"]},{emoji:"👩‍👩‍👦",aliases:["family woman woman boy"]},{emoji:"👩‍👩‍👧",aliases:["family woman woman girl"]},{emoji:"👩‍👩‍👧‍👦",aliases:["family woman woman girl boy"]},{emoji:"👩‍👩‍👦‍👦",aliases:["family woman woman boy boy"]},{emoji:"👩‍👩‍👧‍👧",aliases:["family woman woman girl girl"]},{emoji:"👨‍👨‍👦",aliases:["family man man boy"]},{emoji:"👨‍👨‍👧",aliases:["family man man girl"]},{emoji:"👨‍👨‍👧‍👦",aliases:["family man man girl boy"]},{emoji:"👨‍👨‍👦‍👦",aliases:["family man man boy boy"]},{emoji:"👨‍👨‍👧‍👧",aliases:["family man man girl girl"]},{emoji:"👩‍👦",aliases:["family woman boy"]},{emoji:"👩‍👧",aliases:["family woman girl"]},{emoji:"👩‍👧‍👦",aliases:["family woman girl boy"]},{emoji:"👩‍👦‍👦",aliases:["family woman boy boy"]},{emoji:"👩‍👧‍👧",aliases:["family woman girl girl"]},{emoji:"👨‍👦",aliases:["family man boy"]},{emoji:"👨‍👧",aliases:["family man girl"]},{emoji:"👨‍👧‍👦",aliases:["family man girl boy"]},{emoji:"👨‍👦‍👦",aliases:["family man boy boy"]},{emoji:"👨‍👧‍👧",aliases:["family man girl girl"]},{emoji:"👚",aliases:["womans clothes"]},{emoji:"👕",aliases:["shirt","tshirt"]},{emoji:"👖",aliases:["jeans"]},{emoji:"👔",aliases:["necktie"]},{emoji:"👗",aliases:["dress"]},{emoji:"👙",aliases:["bikini"]},{emoji:"👘",aliases:["kimono"]},{emoji:"👠",aliases:["high heel"]},{emoji:"👡",aliases:["sandal"]},{emoji:"👢",aliases:["boot"]},{emoji:"👞",aliases:["mans shoe","shoe"]},{emoji:"👟",aliases:["athletic shoe"]},{emoji:"👒",aliases:["womans hat"]},{emoji:"🎩",aliases:["tophat"]},{emoji:"🎓",aliases:["mortar board"]},{emoji:"👑",aliases:["crown"]},{emoji:"⛑",aliases:["rescue worker helmet"]},{emoji:"🎒",aliases:["school satchel"]},{emoji:"👝",aliases:["pouch"]},{emoji:"👛",aliases:["purse"]},{emoji:"👜",aliases:["handbag"]},{emoji:"💼",aliases:["briefcase"]},{emoji:"👓",aliases:["eyeglasses"]},{emoji:"🕶",aliases:["dark sunglasses"]},{emoji:"🌂",aliases:["closed umbrella"]},{emoji:"☂️",aliases:["open umbrella"]},{emoji:"🐶",aliases:["dog"]},{emoji:"🐱",aliases:["cat"]},{emoji:"🐭",aliases:["mouse"]},{emoji:"🐹",aliases:["hamster"]},{emoji:"🐰",aliases:["rabbit"]},{emoji:"🦊",aliases:["fox face"]},{emoji:"🐻",aliases:["bear"]},{emoji:"🐼",aliases:["panda face"]},{emoji:"🐨",aliases:["koala"]},{emoji:"🐯",aliases:["tiger"]},{emoji:"🦁",aliases:["lion"]},{emoji:"🐮",aliases:["cow"]},{emoji:"🐷",aliases:["pig"]},{emoji:"🐽",aliases:["pig nose"]},{emoji:"🐸",aliases:["frog"]},{emoji:"🐵",aliases:["monkey face"]},{emoji:"🙈",aliases:["see no evil"]},{emoji:"🙉",aliases:["hear no evil"]},{emoji:"🙊",aliases:["speak no evil"]},{emoji:"🐒",aliases:["monkey"]},{emoji:"🐔",aliases:["chicken"]},{emoji:"🐧",aliases:["penguin"]},{emoji:"🐦",aliases:["bird"]},{emoji:"🐤",aliases:["baby chick"]},{emoji:"🐣",aliases:["hatching chick"]},{emoji:"🐥",aliases:["hatched chick"]},{emoji:"🦆",aliases:["duck"]},{emoji:"🦅",aliases:["eagle"]},{emoji:"🦉",aliases:["owl"]},{emoji:"🦇",aliases:["bat"]},{emoji:"🐺",aliases:["wolf"]},{emoji:"🐗",aliases:["boar"]},{emoji:"🐴",aliases:["horse"]},{emoji:"🦄",aliases:["unicorn"]},{emoji:"🐝",aliases:["bee","honeybee"]},{emoji:"🐛",aliases:["bug"]},{emoji:"🦋",aliases:["butterfly"]},{emoji:"🐌",aliases:["snail"]},{emoji:"🐚",aliases:["shell"]},{emoji:"🐞",aliases:["beetle"]},{emoji:"🐜",aliases:["ant"]},{emoji:"🕷",aliases:["spider"]},{emoji:"🕸",aliases:["spider web"]},{emoji:"🐢",aliases:["turtle"]},{emoji:"🐍",aliases:["snake"]},{emoji:"🦎",aliases:["lizard"]},{emoji:"🦂",aliases:["scorpion"]},{emoji:"🦀",aliases:["crab"]},{emoji:"🦑",aliases:["squid"]},{emoji:"🐙",aliases:["octopus"]},{emoji:"🦐",aliases:["shrimp"]},{emoji:"🐠",aliases:["tropical fish"]},{emoji:"🐟",aliases:["fish"]},{emoji:"🐡",aliases:["blowfish"]},{emoji:"🐬",aliases:["dolphin","flipper"]},{emoji:"🦈",aliases:["shark"]},{emoji:"🐳",aliases:["whale"]},{emoji:"🐋",aliases:["whale2"]},{emoji:"🐊",aliases:["crocodile"]},{emoji:"🐆",aliases:["leopard"]},{emoji:"🐅",aliases:["tiger2"]},{emoji:"🐃",aliases:["water buffalo"]},{emoji:"🐂",aliases:["ox"]},{emoji:"🐄",aliases:["cow2"]},{emoji:"🦌",aliases:["deer"]},{emoji:"🐪",aliases:["dromedary camel"]},{emoji:"🐫",aliases:["camel"]},{emoji:"🐘",aliases:["elephant"]},{emoji:"🦏",aliases:["rhinoceros"]},{emoji:"🦍",aliases:["gorilla"]},{emoji:"🐎",aliases:["racehorse"]},{emoji:"🐖",aliases:["pig2"]},{emoji:"🐐",aliases:["goat"]},{emoji:"🐏",aliases:["ram"]},{emoji:"🐑",aliases:["sheep"]},{emoji:"🐕",aliases:["dog2"]},{emoji:"🐩",aliases:["poodle"]},{emoji:"🐈",aliases:["cat2"]},{emoji:"🐓",aliases:["rooster"]},{emoji:"🦃",aliases:["turkey"]},{emoji:"🕊",aliases:["dove"]},{emoji:"🐇",aliases:["rabbit2"]},{emoji:"🐁",aliases:["mouse2"]},{emoji:"🐀",aliases:["rat"]},{emoji:"🐿",aliases:["chipmunk"]},{emoji:"🐾",aliases:["feet","paw prints"]},{emoji:"🐉",aliases:["dragon"]},{emoji:"🐲",aliases:["dragon face"]},{emoji:"🌵",aliases:["cactus"]},{emoji:"🎄",aliases:["christmas tree"]},{emoji:"🌲",aliases:["evergreen tree"]},{emoji:"🌳",aliases:["deciduous tree"]},{emoji:"🌴",aliases:["palm tree"]},{emoji:"🌱",aliases:["seedling"]},{emoji:"🌿",aliases:["herb"]},{emoji:"☘️",aliases:["shamrock"]},{emoji:"🍀",aliases:["four leaf clover"]},{emoji:"🎍",aliases:["bamboo"]},{emoji:"🎋",aliases:["tanabata tree"]},{emoji:"🍃",aliases:["leaves"]},{emoji:"🍂",aliases:["fallen leaf"]},{emoji:"🍁",aliases:["maple leaf"]},{emoji:"🍄",aliases:["mushroom"]},{emoji:"🌾",aliases:["ear of rice"]},{emoji:"💐",aliases:["bouquet"]},{emoji:"🌷",aliases:["tulip"]},{emoji:"🌹",aliases:["rose"]},{emoji:"🥀",aliases:["wilted flower"]},{emoji:"🌻",aliases:["sunflower"]},{emoji:"🌼",aliases:["blossom"]},{emoji:"🌸",aliases:["cherry blossom"]},{emoji:"🌺",aliases:["hibiscus"]},{emoji:"🌎",aliases:["earth americas"]},{emoji:"🌍",aliases:["earth africa"]},{emoji:"🌏",aliases:["earth asia"]},{emoji:"🌕",aliases:["full moon"]},{emoji:"🌖",aliases:["waning gibbous moon"]},{emoji:"🌗",aliases:["last quarter moon"]},{emoji:"🌘",aliases:["waning crescent moon"]},{emoji:"🌑",aliases:["new moon"]},{emoji:"🌒",aliases:["waxing crescent moon"]},{emoji:"🌓",aliases:["first quarter moon"]},{emoji:"🌔",aliases:["moon","waxing gibbous moon"]},{emoji:"🌚",aliases:["new moon with face"]},{emoji:"🌝",aliases:["full moon with face"]},{emoji:"🌞",aliases:["sun with face"]},{emoji:"🌛",aliases:["first quarter moon with face"]},{emoji:"🌜",aliases:["last quarter moon with face"]},{emoji:"🌙",aliases:["crescent moon"]},{emoji:"💫",aliases:["dizzy"]},{emoji:"⭐️",aliases:["star"]},{emoji:"🌟",aliases:["star2"]},{emoji:"✨",aliases:["sparkles"]},{emoji:"⚡️",aliases:["zap"]},{emoji:"🔥",aliases:["fire"]},{emoji:"💥",aliases:["boom","collision"]},{emoji:"☄",aliases:["comet"]},{emoji:"☀️",aliases:["sunny"]},{emoji:"🌤",aliases:["sun behind small cloud"]},{emoji:"⛅️",aliases:["partly sunny"]},{emoji:"🌥",aliases:["sun behind large cloud"]},{emoji:"🌦",aliases:["sun behind rain cloud"]},{emoji:"🌈",aliases:["rainbow"]},{emoji:"☁️",aliases:["cloud"]},{emoji:"🌧",aliases:["cloud with rain"]},{emoji:"⛈",aliases:["cloud with lightning and rain"]},{emoji:"🌩",aliases:["cloud with lightning"]},{emoji:"🌨",aliases:["cloud with snow"]},{emoji:"☃️",aliases:["snowman with snow"]},{emoji:"⛄️",aliases:["snowman"]},{emoji:"❄️",aliases:["snowflake"]},{emoji:"🌬",aliases:["wind face"]},{emoji:"💨",aliases:["dash"]},{emoji:"🌪",aliases:["tornado"]},{emoji:"🌫",aliases:["fog"]},{emoji:"🌊",aliases:["ocean"]},{emoji:"💧",aliases:["droplet"]},{emoji:"💦",aliases:["sweat drops"]},{emoji:"☔️",aliases:["umbrella"]},{emoji:"🍏",aliases:["green apple"]},{emoji:"🍎",aliases:["apple"]},{emoji:"🍐",aliases:["pear"]},{emoji:"🍊",aliases:["tangerine","orange","mandarin"]},{emoji:"🍋",aliases:["lemon"]},{emoji:"🍌",aliases:["banana"]},{emoji:"🍉",aliases:["watermelon"]},{emoji:"🍇",aliases:["grapes"]},{emoji:"🍓",aliases:["strawberry"]},{emoji:"🍈",aliases:["melon"]},{emoji:"🍒",aliases:["cherries"]},{emoji:"🍑",aliases:["peach"]},{emoji:"🍍",aliases:["pineapple"]},{emoji:"🥝",aliases:["kiwi fruit"]},{emoji:"🥑",aliases:["avocado"]},{emoji:"🍅",aliases:["tomato"]},{emoji:"🍆",aliases:["eggplant"]},{emoji:"🥒",aliases:["cucumber"]},{emoji:"🥕",aliases:["carrot"]},{emoji:"🌽",aliases:["corn"]},{emoji:"🌶",aliases:["hot pepper"]},{emoji:"🥔",aliases:["potato"]},{emoji:"🍠",aliases:["sweet potato"]},{emoji:"🌰",aliases:["chestnut"]},{emoji:"🥜",aliases:["peanuts"]},{emoji:"🍯",aliases:["honey pot"]},{emoji:"🥐",aliases:["croissant"]},{emoji:"🍞",aliases:["bread"]},{emoji:"🥖",aliases:["baguette bread"]},{emoji:"🧀",aliases:["cheese"]},{emoji:"🥚",aliases:["egg"]},{emoji:"🍳",aliases:["fried egg"]},{emoji:"🥓",aliases:["bacon"]},{emoji:"🥞",aliases:["pancakes"]},{emoji:"🍤",aliases:["fried shrimp"]},{emoji:"🍗",aliases:["poultry leg"]},{emoji:"🍖",aliases:["meat on bone"]},{emoji:"🍕",aliases:["pizza"]},{emoji:"🌭",aliases:["hotdog"]},{emoji:"🍔",aliases:["hamburger"]},{emoji:"🍟",aliases:["fries"]},{emoji:"🥙",aliases:["stuffed flatbread"]},{emoji:"🌮",aliases:["taco"]},{emoji:"🌯",aliases:["burrito"]},{emoji:"🥗",aliases:["green salad"]},{emoji:"🥘",aliases:["shallow pan of food"]},{emoji:"🍝",aliases:["spaghetti"]},{emoji:"🍜",aliases:["ramen"]},{emoji:"🍲",aliases:["stew"]},{emoji:"🍥",aliases:["fish cake"]},{emoji:"🍣",aliases:["sushi"]},{emoji:"🍱",aliases:["bento"]},{emoji:"🍛",aliases:["curry"]},{emoji:"🍚",aliases:["rice"]},{emoji:"🍙",aliases:["rice ball"]},{emoji:"🍘",aliases:["rice cracker"]},{emoji:"🍢",aliases:["oden"]},{emoji:"🍡",aliases:["dango"]},{emoji:"🍧",aliases:["shaved ice"]},{emoji:"🍨",aliases:["ice cream"]},{emoji:"🍦",aliases:["icecream"]},{emoji:"🍰",aliases:["cake"]},{emoji:"🎂",aliases:["birthday"]},{emoji:"🍮",aliases:["custard"]},{emoji:"🍭",aliases:["lollipop"]},{emoji:"🍬",aliases:["candy"]},{emoji:"🍫",aliases:["chocolate bar"]},{emoji:"🍿",aliases:["popcorn"]},{emoji:"🍩",aliases:["doughnut"]},{emoji:"🍪",aliases:["cookie"]},{emoji:"🥛",aliases:["milk glass"]},{emoji:"🍼",aliases:["baby bottle"]},{emoji:"☕️",aliases:["coffee"]},{emoji:"🍵",aliases:["tea"]},{emoji:"🍶",aliases:["sake"]},{emoji:"🍺",aliases:["beer"]},{emoji:"🍻",aliases:["beers"]},{emoji:"🥂",aliases:["clinking glasses"]},{emoji:"🍷",aliases:["wine glass"]},{emoji:"🥃",aliases:["tumbler glass"]},{emoji:"🍸",aliases:["cocktail"]},{emoji:"🍹",aliases:["tropical drink"]},{emoji:"🍾",aliases:["champagne"]},{emoji:"🥄",aliases:["spoon"]},{emoji:"🍴",aliases:["fork and knife"]},{emoji:"🍽",aliases:["plate with cutlery"]},{emoji:"⚽️",aliases:["soccer"]},{emoji:"🏀",aliases:["basketball"]},{emoji:"🏈",aliases:["football"]},{emoji:"⚾️",aliases:["baseball"]},{emoji:"🎾",aliases:["tennis"]},{emoji:"🏐",aliases:["volleyball"]},{emoji:"🏉",aliases:["rugby football"]},{emoji:"🎱",aliases:["8ball"]},{emoji:"🏓",aliases:["ping pong"]},{emoji:"🏸",aliases:["badminton"]},{emoji:"🥅",aliases:["goal net"]},{emoji:"🏒",aliases:["ice hockey"]},{emoji:"🏑",aliases:["field hockey"]},{emoji:"🏏",aliases:["cricket"]},{emoji:"⛳️",aliases:["golf"]},{emoji:"🏹",aliases:["bow and arrow"]},{emoji:"🎣",aliases:["fishing pole and fish"]},{emoji:"🥊",aliases:["boxing glove"]},{emoji:"🥋",aliases:["martial arts uniform"]},{emoji:"⛸",aliases:["ice skate"]},{emoji:"🎿",aliases:["ski"]},{emoji:"⛷",aliases:["skier"]},{emoji:"🏂",aliases:["snowboarder"]},{emoji:"🏋️‍♀️",aliases:["weight lifting woman"]},{emoji:"🏋",aliases:["weight lifting man"]},{emoji:"🤺",aliases:["person fencing"]},{emoji:"🤼‍♀️",aliases:["women wrestling"]},{emoji:"🤼‍♂️",aliases:["men wrestling"]},{emoji:"🤸‍♀️",aliases:["woman cartwheeling"]},{emoji:"🤸‍♂️",aliases:["man cartwheeling"]},{emoji:"⛹️‍♀️",aliases:["basketball woman"]},{emoji:"⛹",aliases:["basketball man"]},{emoji:"🤾‍♀️",aliases:["woman playing handball"]},{emoji:"🤾‍♂️",aliases:["man playing handball"]},{emoji:"🏌️‍♀️",aliases:["golfing woman"]},{emoji:"🏌",aliases:["golfing man"]},{emoji:"🏄‍♀️",aliases:["surfing woman"]},{emoji:"🏄",aliases:["surfing man","surfer"]},{emoji:"🏊‍♀️",aliases:["swimming woman"]},{emoji:"🏊",aliases:["swimming man","swimmer"]},{emoji:"🤽‍♀️",aliases:["woman playing water polo"]},{emoji:"🤽‍♂️",aliases:["man playing water polo"]},{emoji:"🚣‍♀️",aliases:["rowing woman"]},{emoji:"🚣",aliases:["rowing man","rowboat"]},{emoji:"🏇",aliases:["horse racing"]},{emoji:"🚴‍♀️",aliases:["biking woman"]},{emoji:"🚴",aliases:["biking man","bicyclist"]},{emoji:"🚵‍♀️",aliases:["mountain biking woman"]},{emoji:"🚵",aliases:["mountain biking man","mountain bicyclist"]},{emoji:"🎽",aliases:["running shirt with sash"]},{emoji:"🏅",aliases:["medal sports"]},{emoji:"🎖",aliases:["medal military"]},{emoji:"🥇",aliases:["1st place medal"]},{emoji:"🥈",aliases:["2nd place medal"]},{emoji:"🥉",aliases:["3rd place medal"]},{emoji:"🏆",aliases:["trophy"]},{emoji:"🏵",aliases:["rosette"]},{emoji:"🎗",aliases:["reminder ribbon"]},{emoji:"🎫",aliases:["ticket"]},{emoji:"🎟",aliases:["tickets"]},{emoji:"🎪",aliases:["circus tent"]},{emoji:"🤹‍♀️",aliases:["woman juggling"]},{emoji:"🤹‍♂️",aliases:["man juggling"]},{emoji:"🎭",aliases:["performing arts"]},{emoji:"🎨",aliases:["art"]},{emoji:"🎬",aliases:["clapper"]},{emoji:"🎤",aliases:["microphone"]},{emoji:"🎧",aliases:["headphones"]},{emoji:"🎼",aliases:["musical score"]},{emoji:"🎹",aliases:["musical keyboard"]},{emoji:"🥁",aliases:["drum"]},{emoji:"🎷",aliases:["saxophone"]},{emoji:"🎺",aliases:["trumpet"]},{emoji:"🎸",aliases:["guitar"]},{emoji:"🎻",aliases:["violin"]},{emoji:"🎲",aliases:["game die"]},{emoji:"🎯",aliases:["dart"]},{emoji:"🎳",aliases:["bowling"]},{emoji:"🎮",aliases:["video game"]},{emoji:"🎰",aliases:["slot machine"]},{emoji:"🚗",aliases:["car","red car"]},{emoji:"🚕",aliases:["taxi"]},{emoji:"🚙",aliases:["blue car"]},{emoji:"🚌",aliases:["bus"]},{emoji:"🚎",aliases:["trolleybus"]},{emoji:"🏎",aliases:["racing car"]},{emoji:"🚓",aliases:["police car"]},{emoji:"🚑",aliases:["ambulance"]},{emoji:"🚒",aliases:["fire engine"]},{emoji:"🚐",aliases:["minibus"]},{emoji:"🚚",aliases:["truck"]},{emoji:"🚛",aliases:["articulated lorry"]},{emoji:"🚜",aliases:["tractor"]},{emoji:"🛴",aliases:["kick scooter"]},{emoji:"🚲",aliases:["bike"]},{emoji:"🛵",aliases:["motor scooter"]},{emoji:"🏍",aliases:["motorcycle"]},{emoji:"🚨",aliases:["rotating light"]},{emoji:"🚔",aliases:["oncoming police car"]},{emoji:"🚍",aliases:["oncoming bus"]},{emoji:"🚘",aliases:["oncoming automobile"]},{emoji:"🚖",aliases:["oncoming taxi"]},{emoji:"🚡",aliases:["aerial tramway"]},{emoji:"🚠",aliases:["mountain cableway"]},{emoji:"🚟",aliases:["suspension railway"]},{emoji:"🚃",aliases:["railway car"]},{emoji:"🚋",aliases:["train"]},{emoji:"🚞",aliases:["mountain railway"]},{emoji:"🚝",aliases:["monorail"]},{emoji:"🚄",aliases:["bullettrain side"]},{emoji:"🚅",aliases:["bullettrain front"]},{emoji:"🚈",aliases:["light rail"]},{emoji:"🚂",aliases:["steam locomotive"]},{emoji:"🚆",aliases:["train2"]},{emoji:"🚇",aliases:["metro"]},{emoji:"🚊",aliases:["tram"]},{emoji:"🚉",aliases:["station"]},{emoji:"🚁",aliases:["helicopter"]},{emoji:"🛩",aliases:["small airplane"]},{emoji:"✈️",aliases:["airplane"]},{emoji:"🛫",aliases:["flight departure"]},{emoji:"🛬",aliases:["flight arrival"]},{emoji:"🚀",aliases:["rocket"]},{emoji:"🛰",aliases:["artificial satellite"]},{emoji:"💺",aliases:["seat"]},{emoji:"🛶",aliases:["canoe"]},{emoji:"⛵️",aliases:["boat","sailboat"]},{emoji:"🛥",aliases:["motor boat"]},{emoji:"🚤",aliases:["speedboat"]},{emoji:"🛳",aliases:["passenger ship"]},{emoji:"⛴",aliases:["ferry"]},{emoji:"🚢",aliases:["ship"]},{emoji:"⚓️",aliases:["anchor"]},{emoji:"🚧",aliases:["construction"]},{emoji:"⛽️",aliases:["fuelpump"]},{emoji:"🚏",aliases:["busstop"]},{emoji:"🚦",aliases:["vertical traffic light"]},{emoji:"🚥",aliases:["traffic light"]},{emoji:"🗺",aliases:["world map"]},{emoji:"🗿",aliases:["moyai"]},{emoji:"🗽",aliases:["statue of liberty"]},{emoji:"⛲️",aliases:["fountain"]},{emoji:"🗼",aliases:["tokyo tower"]},{emoji:"🏰",aliases:["european castle"]},{emoji:"🏯",aliases:["japanese castle"]},{emoji:"🏟",aliases:["stadium"]},{emoji:"🎡",aliases:["ferris wheel"]},{emoji:"🎢",aliases:["roller coaster"]},{emoji:"🎠",aliases:["carousel horse"]},{emoji:"⛱",aliases:["parasol on ground"]},{emoji:"🏖",aliases:["beach umbrella"]},{emoji:"🏝",aliases:["desert island"]},{emoji:"⛰",aliases:["mountain"]},{emoji:"🏔",aliases:["mountain snow"]},{emoji:"🗻",aliases:["mount fuji"]},{emoji:"🌋",aliases:["volcano"]},{emoji:"🏜",aliases:["desert"]},{emoji:"🏕",aliases:["camping"]},{emoji:"⛺️",aliases:["tent"]},{emoji:"🛤",aliases:["railway track"]},{emoji:"🛣",aliases:["motorway"]},{emoji:"🏗",aliases:["building construction"]},{emoji:"🏭",aliases:["factory"]},{emoji:"🏠",aliases:["house"]},{emoji:"🏡",aliases:["house with garden"]},{emoji:"🏘",aliases:["houses"]},{emoji:"🏚",aliases:["derelict house"]},{emoji:"🏢",aliases:["office"]},{emoji:"🏬",aliases:["department store"]},{emoji:"🏣",aliases:["post office"]},{emoji:"🏤",aliases:["european post office"]},{emoji:"🏥",aliases:["hospital"]},{emoji:"🏦",aliases:["bank"]},{emoji:"🏨",aliases:["hotel"]},{emoji:"🏪",aliases:["convenience store"]},{emoji:"🏫",aliases:["school"]},{emoji:"🏩",aliases:["love hotel"]},{emoji:"💒",aliases:["wedding"]},{emoji:"🏛",aliases:["classical building"]},{emoji:"⛪️",aliases:["church"]},{emoji:"🕌",aliases:["mosque"]},{emoji:"🕍",aliases:["synagogue"]},{emoji:"🕋",aliases:["kaaba"]},{emoji:"⛩",aliases:["shinto shrine"]},{emoji:"🗾",aliases:["japan"]},{emoji:"🎑",aliases:["rice scene"]},{emoji:"🏞",aliases:["national park"]},{emoji:"🌅",aliases:["sunrise"]},{emoji:"🌄",aliases:["sunrise over mountains"]},{emoji:"🌠",aliases:["stars"]},{emoji:"🎇",aliases:["sparkler"]},{emoji:"🎆",aliases:["fireworks"]},{emoji:"🌇",aliases:["city sunrise"]},{emoji:"🌆",aliases:["city sunset"]},{emoji:"🏙",aliases:["cityscape"]},{emoji:"🌃",aliases:["night with stars"]},{emoji:"🌌",aliases:["milky way"]},{emoji:"🌉",aliases:["bridge at night"]},{emoji:"🌁",aliases:["foggy"]},{emoji:"⌚️",aliases:["watch"]},{emoji:"📱",aliases:["iphone"]},{emoji:"📲",aliases:["calling"]},{emoji:"💻",aliases:["computer"]},{emoji:"⌨️",aliases:["keyboard"]},{emoji:"🖥",aliases:["desktop computer"]},{emoji:"🖨",aliases:["printer"]},{emoji:"🖱",aliases:["computer mouse"]},{emoji:"🖲",aliases:["trackball"]},{emoji:"🕹",aliases:["joystick"]},{emoji:"🗜",aliases:["clamp"]},{emoji:"💽",aliases:["minidisc"]},{emoji:"💾",aliases:["floppy disk"]},{emoji:"💿",aliases:["cd"]},{emoji:"📀",aliases:["dvd"]},{emoji:"📼",aliases:["vhs"]},{emoji:"📷",aliases:["camera"]},{emoji:"📸",aliases:["camera flash"]},{emoji:"📹",aliases:["video camera"]},{emoji:"🎥",aliases:["movie camera"]},{emoji:"📽",aliases:["film projector"]},{emoji:"🎞",aliases:["film strip"]},{emoji:"📞",aliases:["telephone receiver"]},{emoji:"☎️",aliases:["phone","telephone"]},{emoji:"📟",aliases:["pager"]},{emoji:"📠",aliases:["fax"]},{emoji:"📺",aliases:["tv"]},{emoji:"📻",aliases:["radio"]},{emoji:"🎙",aliases:["studio microphone"]},{emoji:"🎚",aliases:["level slider"]},{emoji:"🎛",aliases:["control knobs"]},{emoji:"⏱",aliases:["stopwatch"]},{emoji:"⏲",aliases:["timer clock"]},{emoji:"⏰",aliases:["alarm clock"]},{emoji:"🕰",aliases:["mantelpiece clock"]},{emoji:"⌛️",aliases:["hourglass"]},{emoji:"⏳",aliases:["hourglass flowing sand"]},{emoji:"📡",aliases:["satellite"]},{emoji:"🔋",aliases:["battery"]},{emoji:"🔌",aliases:["electric plug"]},{emoji:"💡",aliases:["bulb"]},{emoji:"🔦",aliases:["flashlight"]},{emoji:"🕯",aliases:["candle"]},{emoji:"🗑",aliases:["wastebasket"]},{emoji:"🛢",aliases:["oil drum"]},{emoji:"💸",aliases:["money with wings"]},{emoji:"💵",aliases:["dollar"]},{emoji:"💴",aliases:["yen"]},{emoji:"💶",aliases:["euro"]},{emoji:"💷",aliases:["pound"]},{emoji:"💰",aliases:["moneybag"]},{emoji:"💳",aliases:["credit card"]},{emoji:"💎",aliases:["gem"]},{emoji:"⚖️",aliases:["balance scale"]},{emoji:"🔧",aliases:["wrench"]},{emoji:"🔨",aliases:["hammer"]},{emoji:"⚒",aliases:["hammer and pick"]},{emoji:"🛠",aliases:["hammer and wrench"]},{emoji:"⛏",aliases:["pick"]},{emoji:"🔩",aliases:["nut and bolt"]},{emoji:"⚙️",aliases:["gear"]},{emoji:"⛓",aliases:["chains"]},{emoji:"🔫",aliases:["gun"]},{emoji:"💣",aliases:["bomb"]},{emoji:"🔪",aliases:["hocho","knife"]},{emoji:"🗡",aliases:["dagger"]},{emoji:"⚔️",aliases:["crossed swords"]},{emoji:"🛡",aliases:["shield"]},{emoji:"🚬",aliases:["smoking"]},{emoji:"⚰️",aliases:["coffin"]},{emoji:"⚱️",aliases:["funeral urn"]},{emoji:"🏺",aliases:["amphora"]},{emoji:"🔮",aliases:["crystal ball"]},{emoji:"📿",aliases:["prayer beads"]},{emoji:"💈",aliases:["barber"]},{emoji:"⚗️",aliases:["alembic"]},{emoji:"🔭",aliases:["telescope"]},{emoji:"🔬",aliases:["microscope"]},{emoji:"🕳",aliases:["hole"]},{emoji:"💊",aliases:["pill"]},{emoji:"💉",aliases:["syringe"]},{emoji:"🌡",aliases:["thermometer"]},{emoji:"🚽",aliases:["toilet"]},{emoji:"🚰",aliases:["potable water"]},{emoji:"🚿",aliases:["shower"]},{emoji:"🛁",aliases:["bathtub"]},{emoji:"🛀",aliases:["bath"]},{emoji:"🛎",aliases:["bellhop bell"]},{emoji:"🔑",aliases:["key"]},{emoji:"🗝",aliases:["old key"]},{emoji:"🚪",aliases:["door"]},{emoji:"🛋",aliases:["couch and lamp"]},{emoji:"🛏",aliases:["bed"]},{emoji:"🛌",aliases:["sleeping bed"]},{emoji:"🖼",aliases:["framed picture"]},{emoji:"🛍",aliases:["shopping"]},{emoji:"🛒",aliases:["shopping cart"]},{emoji:"🎁",aliases:["gift"]},{emoji:"🎈",aliases:["balloon"]},{emoji:"🎏",aliases:["flags"]},{emoji:"🎀",aliases:["ribbon"]},{emoji:"🎊",aliases:["confetti ball"]},{emoji:"🎉",aliases:["tada"]},{emoji:"🎎",aliases:["dolls"]},{emoji:"🏮",aliases:["izakaya lantern","lantern"]},{emoji:"🎐",aliases:["wind chime"]},{emoji:"✉️",aliases:["email","envelope"]},{emoji:"📩",aliases:["envelope with arrow"]},{emoji:"📨",aliases:["incoming envelope"]},{emoji:"📧",aliases:["e-mail"]},{emoji:"💌",aliases:["love letter"]},{emoji:"📥",aliases:["inbox tray"]},{emoji:"📤",aliases:["outbox tray"]},{emoji:"📦",aliases:["package"]},{emoji:"🏷",aliases:["label"]},{emoji:"📪",aliases:["mailbox closed"]},{emoji:"📫",aliases:["mailbox"]},{emoji:"📬",aliases:["mailbox with mail"]},{emoji:"📭",aliases:["mailbox with no mail"]},{emoji:"📮",aliases:["postbox"]},{emoji:"📯",aliases:["postal horn"]},{emoji:"📜",aliases:["scroll"]},{emoji:"📃",aliases:["page with curl"]},{emoji:"📄",aliases:["page facing up"]},{emoji:"📑",aliases:["bookmark tabs"]},{emoji:"📊",aliases:["bar chart"]},{emoji:"📈",aliases:["chart with upwards trend"]},{emoji:"📉",aliases:["chart with downwards trend"]},{emoji:"🗒",aliases:["spiral notepad"]},{emoji:"🗓",aliases:["spiral calendar"]},{emoji:"📆",aliases:["calendar"]},{emoji:"📅",aliases:["date"]},{emoji:"📇",aliases:["card index"]},{emoji:"🗃",aliases:["card file box"]},{emoji:"🗳",aliases:["ballot box"]},{emoji:"🗄",aliases:["file cabinet"]},{emoji:"📋",aliases:["clipboard"]},{emoji:"📁",aliases:["file folder"]},{emoji:"📂",aliases:["open file folder"]},{emoji:"🗂",aliases:["card index dividers"]},{emoji:"🗞",aliases:["newspaper roll"]},{emoji:"📰",aliases:["newspaper"]},{emoji:"📓",aliases:["notebook"]},{emoji:"📔",aliases:["notebook with decorative cover"]},{emoji:"📒",aliases:["ledger"]},{emoji:"📕",aliases:["closed book"]},{emoji:"📗",aliases:["green book"]},{emoji:"📘",aliases:["blue book"]},{emoji:"📙",aliases:["orange book"]},{emoji:"📚",aliases:["books"]},{emoji:"📖",aliases:["book","open book"]},{emoji:"🔖",aliases:["bookmark"]},{emoji:"🔗",aliases:["link"]},{emoji:"📎",aliases:["paperclip"]},{emoji:"🖇",aliases:["paperclips"]},{emoji:"📐",aliases:["triangular ruler"]},{emoji:"📏",aliases:["straight ruler"]},{emoji:"📌",aliases:["pushpin"]},{emoji:"📍",aliases:["round pushpin"]},{emoji:"✂️",aliases:["scissors"]},{emoji:"🖊",aliases:["pen"]},{emoji:"🖋",aliases:["fountain pen"]},{emoji:"✒️",aliases:["black nib"]},{emoji:"🖌",aliases:["paintbrush"]},{emoji:"🖍",aliases:["crayon"]},{emoji:"📝",aliases:["memo","pencil"]},{emoji:"✏️",aliases:["pencil2"]},{emoji:"🔍",aliases:["mag"]},{emoji:"🔎",aliases:["mag right"]},{emoji:"🔏",aliases:["lock with ink pen"]},{emoji:"🔐",aliases:["closed lock with key"]},{emoji:"🔒",aliases:["lock"]},{emoji:"🔓",aliases:["unlock"]},{emoji:"❤️",aliases:["heart"]},{emoji:"💛",aliases:["yellow heart"]},{emoji:"💚",aliases:["green heart"]},{emoji:"💙",aliases:["blue heart"]},{emoji:"💜",aliases:["purple heart"]},{emoji:"🖤",aliases:["black heart"]},{emoji:"💔",aliases:["broken heart"]},{emoji:"❣️",aliases:["heavy heart exclamation"]},{emoji:"💕",aliases:["two hearts"]},{emoji:"💞",aliases:["revolving hearts"]},{emoji:"💓",aliases:["heartbeat"]},{emoji:"💗",aliases:["heartpulse"]},{emoji:"💖",aliases:["sparkling heart"]},{emoji:"💘",aliases:["cupid"]},{emoji:"💝",aliases:["gift heart"]},{emoji:"💟",aliases:["heart decoration"]},{emoji:"☮️",aliases:["peace symbol"]},{emoji:"✝️",aliases:["latin cross"]},{emoji:"☪️",aliases:["star and crescent"]},{emoji:"🕉",aliases:["om"]},{emoji:"☸️",aliases:["wheel of dharma"]},{emoji:"✡️",aliases:["star of david"]},{emoji:"🔯",aliases:["six pointed star"]},{emoji:"🕎",aliases:["menorah"]},{emoji:"☯️",aliases:["yin yang"]},{emoji:"☦️",aliases:["orthodox cross"]},{emoji:"🛐",aliases:["place of worship"]},{emoji:"⛎",aliases:["ophiuchus"]},{emoji:"♈️",aliases:["aries"]},{emoji:"♉️",aliases:["taurus"]},{emoji:"♊️",aliases:["gemini"]},{emoji:"♋️",aliases:["cancer"]},{emoji:"♌️",aliases:["leo"]},{emoji:"♍️",aliases:["virgo"]},{emoji:"♎️",aliases:["libra"]},{emoji:"♏️",aliases:["scorpius"]},{emoji:"♐️",aliases:["sagittarius"]},{emoji:"♑️",aliases:["capricorn"]},{emoji:"♒️",aliases:["aquarius"]},{emoji:"♓️",aliases:["pisces"]},{emoji:"🆔",aliases:["id"]},{emoji:"⚛️",aliases:["atom symbol"]},{emoji:"🉑",aliases:["accept"]},{emoji:"☢️",aliases:["radioactive"]},{emoji:"☣️",aliases:["biohazard"]},{emoji:"📴",aliases:["mobile phone off"]},{emoji:"📳",aliases:["vibration mode"]},{emoji:"🈶",aliases:["u6709"]},{emoji:"🈚️",aliases:["u7121"]},{emoji:"🈸",aliases:["u7533"]},{emoji:"🈺",aliases:["u55b6"]},{emoji:"🈷️",aliases:["u6708"]},{emoji:"✴️",aliases:["eight pointed black star"]},{emoji:"🆚",aliases:["vs"]},{emoji:"💮",aliases:["white flower"]},{emoji:"🉐",aliases:["ideograph advantage"]},{emoji:"㊙️",aliases:["secret"]},{emoji:"㊗️",aliases:["congratulations"]},{emoji:"🈴",aliases:["u5408"]},{emoji:"🈵",aliases:["u6e80"]},{emoji:"🈹",aliases:["u5272"]},{emoji:"🈲",aliases:["u7981"]},{emoji:"🅰️",aliases:["a"]},{emoji:"🅱️",aliases:["b"]},{emoji:"🆎",aliases:["ab"]},{emoji:"🆑",aliases:["cl"]},{emoji:"🅾️",aliases:["o2"]},{emoji:"🆘",aliases:["sos"]},{emoji:"❌",aliases:["x"]},{emoji:"⭕️",aliases:["o"]},{emoji:"🛑",aliases:["stop sign"]},{emoji:"⛔️",aliases:["no entry"]},{emoji:"📛",aliases:["name badge"]},{emoji:"🚫",aliases:["no entry sign"]},{emoji:"💯",aliases:["100"]},{emoji:"💢",aliases:["anger"]},{emoji:"♨️",aliases:["hotsprings"]},{emoji:"🚷",aliases:["no pedestrians"]},{emoji:"🚯",aliases:["do not litter"]},{emoji:"🚳",aliases:["no bicycles"]},{emoji:"🚱",aliases:["non-potable water"]},{emoji:"🔞",aliases:["underage"]},{emoji:"📵",aliases:["no mobile phones"]},{emoji:"🚭",aliases:["no smoking"]},{emoji:"❗️",aliases:["exclamation","heavy exclamation mark"]},{emoji:"❕",aliases:["grey exclamation"]},{emoji:"❓",aliases:["question"]},{emoji:"❔",aliases:["grey question"]},{emoji:"‼️",aliases:["bangbang"]},{emoji:"⁉️",aliases:["interrobang"]},{emoji:"🔅",aliases:["low brightness"]},{emoji:"🔆",aliases:["high brightness"]},{emoji:"〽️",aliases:["part alternation mark"]},{emoji:"⚠️",aliases:["warning"]},{emoji:"🚸",aliases:["children crossing"]},{emoji:"🔱",aliases:["trident"]},{emoji:"⚜️",aliases:["fleur de lis"]},{emoji:"🔰",aliases:["beginner"]},{emoji:"♻️",aliases:["recycle"]},{emoji:"✅",aliases:["white check mark"]},{emoji:"🈯️",aliases:["u6307"]},{emoji:"💹",aliases:["chart"]},{emoji:"❇️",aliases:["sparkle"]},{emoji:"✳️",aliases:["eight spoked asterisk"]},{emoji:"❎",aliases:["negative squared cross mark"]},{emoji:"🌐",aliases:["globe with meridians"]},{emoji:"💠",aliases:["diamond shape with a dot inside"]},{emoji:"Ⓜ️",aliases:["m"]},{emoji:"🌀",aliases:["cyclone"]},{emoji:"💤",aliases:["zzz"]},{emoji:"🏧",aliases:["atm"]},{emoji:"🚾",aliases:["wc"]},{emoji:"♿️",aliases:["wheelchair"]},{emoji:"🅿️",aliases:["parking"]},{emoji:"🈳",aliases:["u7a7a"]},{emoji:"🈂️",aliases:["sa"]},{emoji:"🛂",aliases:["passport control"]},{emoji:"🛃",aliases:["customs"]},{emoji:"🛄",aliases:["baggage claim"]},{emoji:"🛅",aliases:["left luggage"]},{emoji:"🚹",aliases:["mens"]},{emoji:"🚺",aliases:["womens"]},{emoji:"🚼",aliases:["baby symbol"]},{emoji:"🚻",aliases:["restroom"]},{emoji:"🚮",aliases:["put litter in its place"]},{emoji:"🎦",aliases:["cinema"]},{emoji:"📶",aliases:["signal strength"]},{emoji:"🈁",aliases:["koko"]},{emoji:"🔣",aliases:["symbols"]},{emoji:"ℹ️",aliases:["information source"]},{emoji:"🔤",aliases:["abc"]},{emoji:"🔡",aliases:["abcd"]},{emoji:"🔠",aliases:["capital abcd"]},{emoji:"🆖",aliases:["ng"]},{emoji:"🆗",aliases:["ok"]},{emoji:"🆙",aliases:["up"]},{emoji:"🆒",aliases:["cool"]},{emoji:"🆕",aliases:["new"]},{emoji:"🆓",aliases:["free"]},{emoji:"0️⃣",aliases:["zero"]},{emoji:"1️⃣",aliases:["one"]},{emoji:"2️⃣",aliases:["two"]},{emoji:"3️⃣",aliases:["three"]},{emoji:"4️⃣",aliases:["four"]},{emoji:"5️⃣",aliases:["five"]},{emoji:"6️⃣",aliases:["six"]},{emoji:"7️⃣",aliases:["seven"]},{emoji:"8️⃣",aliases:["eight"]},{emoji:"9️⃣",aliases:["nine"]},{emoji:"🔟",aliases:["keycap ten"]},{emoji:"🔢",aliases:["1234"]},{emoji:"#️⃣",aliases:["hash"]},{emoji:"*️⃣",aliases:["asterisk"]},{emoji:"▶️",aliases:["arrow forward"]},{emoji:"⏸",aliases:["pause button"]},{emoji:"⏯",aliases:["play or pause button"]},{emoji:"⏹",aliases:["stop button"]},{emoji:"⏺",aliases:["record button"]},{emoji:"⏭",aliases:["next track button"]},{emoji:"⏮",aliases:["previous track button"]},{emoji:"⏩",aliases:["fast forward"]},{emoji:"⏪",aliases:["rewind"]},{emoji:"⏫",aliases:["arrow double up"]},{emoji:"⏬",aliases:["arrow double down"]},{emoji:"◀️",aliases:["arrow backward"]},{emoji:"🔼",aliases:["arrow up small"]},{emoji:"🔽",aliases:["arrow down small"]},{emoji:"➡️",aliases:["arrow right"]},{emoji:"⬅️",aliases:["arrow left"]},{emoji:"⬆️",aliases:["arrow up"]},{emoji:"⬇️",aliases:["arrow down"]},{emoji:"↗️",aliases:["arrow upper right"]},{emoji:"↘️",aliases:["arrow lower right"]},{emoji:"↙️",aliases:["arrow lower left"]},{emoji:"↖️",aliases:["arrow upper left"]},{emoji:"↕️",aliases:["arrow up down"]},{emoji:"↔️",aliases:["left right arrow"]},{emoji:"↪️",aliases:["arrow right hook"]},{emoji:"↩️",aliases:["leftwards arrow with hook"]},{emoji:"⤴️",aliases:["arrow heading up"]},{emoji:"⤵️",aliases:["arrow heading down"]},{emoji:"🔀",aliases:["twisted rightwards arrows"]},{emoji:"🔁",aliases:["repeat"]},{emoji:"🔂",aliases:["repeat one"]},{emoji:"🔄",aliases:["arrows counterclockwise"]},{emoji:"🔃",aliases:["arrows clockwise"]},{emoji:"🎵",aliases:["musical note"]},{emoji:"🎶",aliases:["notes"]},{emoji:"➕",aliases:["heavy plus sign"]},{emoji:"➖",aliases:["heavy minus sign"]},{emoji:"➗",aliases:["heavy division sign"]},{emoji:"✖️",aliases:["heavy multiplication x"]},{emoji:"💲",aliases:["heavy dollar sign"]},{emoji:"💱",aliases:["currency exchange"]},{emoji:"™️",aliases:["tm"]},{emoji:"©️",aliases:["copyright"]},{emoji:"®️",aliases:["registered"]},{emoji:"〰️",aliases:["wavy dash"]},{emoji:"➰",aliases:["curly loop"]},{emoji:"➿",aliases:["loop"]},{emoji:"🔚",aliases:["end"]},{emoji:"🔙",aliases:["back"]},{emoji:"🔛",aliases:["on"]},{emoji:"🔝",aliases:["top"]},{emoji:"🔜",aliases:["soon"]},{emoji:"✔️",aliases:["heavy check mark"]},{emoji:"☑️",aliases:["ballot box with check"]},{emoji:"🔘",aliases:["radio button"]},{emoji:"⚪️",aliases:["white circle"]},{emoji:"⚫️",aliases:["black circle"]},{emoji:"🔴",aliases:["red circle"]},{emoji:"🔵",aliases:["large blue circle"]},{emoji:"🔺",aliases:["small red triangle"]},{emoji:"🔻",aliases:["small red triangle down"]},{emoji:"🔸",aliases:["small orange diamond"]},{emoji:"🔹",aliases:["small blue diamond"]},{emoji:"🔶",aliases:["large orange diamond"]},{emoji:"🔷",aliases:["large blue diamond"]},{emoji:"🔳",aliases:["white square button"]},{emoji:"🔲",aliases:["black square button"]},{emoji:"▪️",aliases:["black small square"]},{emoji:"▫️",aliases:["white small square"]},{emoji:"◾️",aliases:["black medium small square"]},{emoji:"◽️",aliases:["white medium small square"]},{emoji:"◼️",aliases:["black medium square"]},{emoji:"◻️",aliases:["white medium square"]},{emoji:"⬛️",aliases:["black large square"]},{emoji:"⬜️",aliases:["white large square"]},{emoji:"🔈",aliases:["speaker"]},{emoji:"🔇",aliases:["mute"]},{emoji:"🔉",aliases:["sound"]},{emoji:"🔊",aliases:["loud sound"]},{emoji:"🔔",aliases:["bell"]},{emoji:"🔕",aliases:["no bell"]},{emoji:"📣",aliases:["mega"]},{emoji:"📢",aliases:["loudspeaker"]},{emoji:"👁‍🗨",aliases:["eye speech bubble"]},{emoji:"💬",aliases:["speech balloon"]},{emoji:"💭",aliases:["thought balloon"]},{emoji:"🗯",aliases:["right anger bubble"]},{emoji:"♠️",aliases:["spades"]},{emoji:"♣️",aliases:["clubs"]},{emoji:"♥️",aliases:["hearts"]},{emoji:"♦️",aliases:["diamonds"]},{emoji:"🃏",aliases:["black joker"]},{emoji:"🎴",aliases:["flower playing cards"]},{emoji:"🀄️",aliases:["mahjong"]},{emoji:"🕐",aliases:["clock1"]},{emoji:"🕑",aliases:["clock2"]},{emoji:"🕒",aliases:["clock3"]},{emoji:"🕓",aliases:["clock4"]},{emoji:"🕔",aliases:["clock5"]},{emoji:"🕕",aliases:["clock6"]},{emoji:"🕖",aliases:["clock7"]},{emoji:"🕗",aliases:["clock8"]},{emoji:"🕘",aliases:["clock9"]},{emoji:"🕙",aliases:["clock10"]},{emoji:"🕚",aliases:["clock11"]},{emoji:"🕛",aliases:["clock12"]},{emoji:"🕜",aliases:["clock130"]},{emoji:"🕝",aliases:["clock230"]},{emoji:"🕞",aliases:["clock330"]},{emoji:"🕟",aliases:["clock430"]},{emoji:"🕠",aliases:["clock530"]},{emoji:"🕡",aliases:["clock630"]},{emoji:"🕢",aliases:["clock730"]},{emoji:"🕣",aliases:["clock830"]},{emoji:"🕤",aliases:["clock930"]},{emoji:"🕥",aliases:["clock1030"]},{emoji:"🕦",aliases:["clock1130"]},{emoji:"🕧",aliases:["clock1230"]},{emoji:"🏳️",aliases:["white flag"]},{emoji:"🏴",aliases:["black flag"]},{emoji:"🏁",aliases:["checkered flag"]},{emoji:"🚩",aliases:["triangular flag on post"]},{emoji:"🏳️‍🌈",aliases:["rainbow flag"]},{emoji:"🇦🇫",aliases:["afghanistan"]},{emoji:"🇦🇽",aliases:["aland islands"]},{emoji:"🇦🇱",aliases:["albania"]},{emoji:"🇩🇿",aliases:["algeria"]},{emoji:"🇦🇸",aliases:["american samoa"]},{emoji:"🇦🇩",aliases:["andorra"]},{emoji:"🇦🇴",aliases:["angola"]},{emoji:"🇦🇮",aliases:["anguilla"]},{emoji:"🇦🇶",aliases:["antarctica"]},{emoji:"🇦🇬",aliases:["antigua barbuda"]},{emoji:"🇦🇷",aliases:["argentina"]},{emoji:"🇦🇲",aliases:["armenia"]},{emoji:"🇦🇼",aliases:["aruba"]},{emoji:"🇦🇺",aliases:["australia"]},{emoji:"🇦🇹",aliases:["austria"]},{emoji:"🇦🇿",aliases:["azerbaijan"]},{emoji:"🇧🇸",aliases:["bahamas"]},{emoji:"🇧🇭",aliases:["bahrain"]},{emoji:"🇧🇩",aliases:["bangladesh"]},{emoji:"🇧🇧",aliases:["barbados"]},{emoji:"🇧🇾",aliases:["belarus"]},{emoji:"🇧🇪",aliases:["belgium"]},{emoji:"🇧🇿",aliases:["belize"]},{emoji:"🇧🇯",aliases:["benin"]},{emoji:"🇧🇲",aliases:["bermuda"]},{emoji:"🇧🇹",aliases:["bhutan"]},{emoji:"🇧🇴",aliases:["bolivia"]},{emoji:"🇧🇶",aliases:["caribbean netherlands"]},{emoji:"🇧🇦",aliases:["bosnia herzegovina"]},{emoji:"🇧🇼",aliases:["botswana"]},{emoji:"🇧🇷",aliases:["brazil"]},{emoji:"🇮🇴",aliases:["british indian ocean territory"]},{emoji:"🇻🇬",aliases:["british virgin islands"]},{emoji:"🇧🇳",aliases:["brunei"]},{emoji:"🇧🇬",aliases:["bulgaria"]},{emoji:"🇧🇫",aliases:["burkina faso"]},{emoji:"🇧🇮",aliases:["burundi"]},{emoji:"🇨🇻",aliases:["cape verde"]},{emoji:"🇰🇭",aliases:["cambodia"]},{emoji:"🇨🇲",aliases:["cameroon"]},{emoji:"🇨🇦",aliases:["canada"]},{emoji:"🇮🇨",aliases:["canary islands"]},{emoji:"🇰🇾",aliases:["cayman islands"]},{emoji:"🇨🇫",aliases:["central african republic"]},{emoji:"🇹🇩",aliases:["chad"]},{emoji:"🇨🇱",aliases:["chile"]},{emoji:"🇨🇳",aliases:["cn"]},{emoji:"🇨🇽",aliases:["christmas island"]},{emoji:"🇨🇨",aliases:["cocos islands"]},{emoji:"🇨🇴",aliases:["colombia"]},{emoji:"🇰🇲",aliases:["comoros"]},{emoji:"🇨🇬",aliases:["congo brazzaville"]},{emoji:"🇨🇩",aliases:["congo kinshasa"]},{emoji:"🇨🇰",aliases:["cook islands"]},{emoji:"🇨🇷",aliases:["costa rica"]},{emoji:"🇨🇮",aliases:["cote divoire"]},{emoji:"🇭🇷",aliases:["croatia"]},{emoji:"🇨🇺",aliases:["cuba"]},{emoji:"🇨🇼",aliases:["curacao"]},{emoji:"🇨🇾",aliases:["cyprus"]},{emoji:"🇨🇿",aliases:["czech republic"]},{emoji:"🇩🇰",aliases:["denmark"]},{emoji:"🇩🇯",aliases:["djibouti"]},{emoji:"🇩🇲",aliases:["dominica"]},{emoji:"🇩🇴",aliases:["dominican republic"]},{emoji:"🇪🇨",aliases:["ecuador"]},{emoji:"🇪🇬",aliases:["egypt"]},{emoji:"🇸🇻",aliases:["el salvador"]},{emoji:"🇬🇶",aliases:["equatorial guinea"]},{emoji:"🇪🇷",aliases:["eritrea"]},{emoji:"🇪🇪",aliases:["estonia"]},{emoji:"🇪🇹",aliases:["ethiopia"]},{emoji:"🇪🇺",aliases:["eu","european union"]},{emoji:"🇫🇰",aliases:["falkland islands"]},{emoji:"🇫🇴",aliases:["faroe islands"]},{emoji:"🇫🇯",aliases:["fiji"]},{emoji:"🇫🇮",aliases:["finland"]},{emoji:"🇫🇷",aliases:["fr"]},{emoji:"🇬🇫",aliases:["french guiana"]},{emoji:"🇵🇫",aliases:["french polynesia"]},{emoji:"🇹🇫",aliases:["french southern territories"]},{emoji:"🇬🇦",aliases:["gabon"]},{emoji:"🇬🇲",aliases:["gambia"]},{emoji:"🇬🇪",aliases:["georgia"]},{emoji:"🇩🇪",aliases:["de"]},{emoji:"🇬🇭",aliases:["ghana"]},{emoji:"🇬🇮",aliases:["gibraltar"]},{emoji:"🇬🇷",aliases:["greece"]},{emoji:"🇬🇱",aliases:["greenland"]},{emoji:"🇬🇩",aliases:["grenada"]},{emoji:"🇬🇵",aliases:["guadeloupe"]},{emoji:"🇬🇺",aliases:["guam"]},{emoji:"🇬🇹",aliases:["guatemala"]},{emoji:"🇬🇬",aliases:["guernsey"]},{emoji:"🇬🇳",aliases:["guinea"]},{emoji:"🇬🇼",aliases:["guinea bissau"]},{emoji:"🇬🇾",aliases:["guyana"]},{emoji:"🇭🇹",aliases:["haiti"]},{emoji:"🇭🇳",aliases:["honduras"]},{emoji:"🇭🇰",aliases:["hong kong"]},{emoji:"🇭🇺",aliases:["hungary"]},{emoji:"🇮🇸",aliases:["iceland"]},{emoji:"🇮🇳",aliases:["india"]},{emoji:"🇮🇩",aliases:["indonesia"]},{emoji:"🇮🇷",aliases:["iran"]},{emoji:"🇮🇶",aliases:["iraq"]},{emoji:"🇮🇪",aliases:["ireland"]},{emoji:"🇮🇲",aliases:["isle of man"]},{emoji:"🇮🇱",aliases:["israel"]},{emoji:"🇮🇹",aliases:["it"]},{emoji:"🇯🇲",aliases:["jamaica"]},{emoji:"🇯🇵",aliases:["jp"]},{emoji:"🎌",aliases:["crossed flags"]},{emoji:"🇯🇪",aliases:["jersey"]},{emoji:"🇯🇴",aliases:["jordan"]},{emoji:"🇰🇿",aliases:["kazakhstan"]},{emoji:"🇰🇪",aliases:["kenya"]},{emoji:"🇰🇮",aliases:["kiribati"]},{emoji:"🇽🇰",aliases:["kosovo"]},{emoji:"🇰🇼",aliases:["kuwait"]},{emoji:"🇰🇬",aliases:["kyrgyzstan"]},{emoji:"🇱🇦",aliases:["laos"]},{emoji:"🇱🇻",aliases:["latvia"]},{emoji:"🇱🇧",aliases:["lebanon"]},{emoji:"🇱🇸",aliases:["lesotho"]},{emoji:"🇱🇷",aliases:["liberia"]},{emoji:"🇱🇾",aliases:["libya"]},{emoji:"🇱🇮",aliases:["liechtenstein"]},{emoji:"🇱🇹",aliases:["lithuania"]},{emoji:"🇱🇺",aliases:["luxembourg"]},{emoji:"🇲🇴",aliases:["macau"]},{emoji:"🇲🇰",aliases:["macedonia"]},{emoji:"🇲🇬",aliases:["madagascar"]},{emoji:"🇲🇼",aliases:["malawi"]},{emoji:"🇲🇾",aliases:["malaysia"]},{emoji:"🇲🇻",aliases:["maldives"]},{emoji:"🇲🇱",aliases:["mali"]},{emoji:"🇲🇹",aliases:["malta"]},{emoji:"🇲🇭",aliases:["marshall islands"]},{emoji:"🇲🇶",aliases:["martinique"]},{emoji:"🇲🇷",aliases:["mauritania"]},{emoji:"🇲🇺",aliases:["mauritius"]},{emoji:"🇾🇹",aliases:["mayotte"]},{emoji:"🇲🇽",aliases:["mexico"]},{emoji:"🇫🇲",aliases:["micronesia"]},{emoji:"🇲🇩",aliases:["moldova"]},{emoji:"🇲🇨",aliases:["monaco"]},{emoji:"🇲🇳",aliases:["mongolia"]},{emoji:"🇲🇪",aliases:["montenegro"]},{emoji:"🇲🇸",aliases:["montserrat"]},{emoji:"🇲🇦",aliases:["morocco"]},{emoji:"🇲🇿",aliases:["mozambique"]},{emoji:"🇲🇲",aliases:["myanmar"]},{emoji:"🇳🇦",aliases:["namibia"]},{emoji:"🇳🇷",aliases:["nauru"]},{emoji:"🇳🇵",aliases:["nepal"]},{emoji:"🇳🇱",aliases:["netherlands"]},{emoji:"🇳🇨",aliases:["new caledonia"]},{emoji:"🇳🇿",aliases:["new zealand"]},{emoji:"🇳🇮",aliases:["nicaragua"]},{emoji:"🇳🇪",aliases:["niger"]},{emoji:"🇳🇬",aliases:["nigeria"]},{emoji:"🇳🇺",aliases:["niue"]},{emoji:"🇳🇫",aliases:["norfolk island"]},{emoji:"🇲🇵",aliases:["northern mariana islands"]},{emoji:"🇰🇵",aliases:["north korea"]},{emoji:"🇳🇴",aliases:["norway"]},{emoji:"🇴🇲",aliases:["oman"]},{emoji:"🇵🇰",aliases:["pakistan"]},{emoji:"🇵🇼",aliases:["palau"]},{emoji:"🇵🇸",aliases:["palestinian territories"]},{emoji:"🇵🇦",aliases:["panama"]},{emoji:"🇵🇬",aliases:["papua new guinea"]},{emoji:"🇵🇾",aliases:["paraguay"]},{emoji:"🇵🇪",aliases:["peru"]},{emoji:"🇵🇭",aliases:["philippines"]},{emoji:"🇵🇳",aliases:["pitcairn islands"]},{emoji:"🇵🇱",aliases:["poland"]},{emoji:"🇵🇹",aliases:["portugal"]},{emoji:"🇵🇷",aliases:["puerto rico"]},{emoji:"🇶🇦",aliases:["qatar"]},{emoji:"🇷🇪",aliases:["reunion"]},{emoji:"🇷🇴",aliases:["romania"]},{emoji:"🇷🇺",aliases:["ru"]},{emoji:"🇷🇼",aliases:["rwanda"]},{emoji:"🇧🇱",aliases:["st barthelemy"]},{emoji:"🇸🇭",aliases:["st helena"]},{emoji:"🇰🇳",aliases:["st kitts nevis"]},{emoji:"🇱🇨",aliases:["st lucia"]},{emoji:"🇵🇲",aliases:["st pierre miquelon"]},{emoji:"🇻🇨",aliases:["st vincent grenadines"]},{emoji:"🇼🇸",aliases:["samoa"]},{emoji:"🇸🇲",aliases:["san marino"]},{emoji:"🇸🇹",aliases:["sao tome principe"]},{emoji:"🇸🇦",aliases:["saudi arabia"]},{emoji:"🇸🇳",aliases:["senegal"]},{emoji:"🇷🇸",aliases:["serbia"]},{emoji:"🇸🇨",aliases:["seychelles"]},{emoji:"🇸🇱",aliases:["sierra leone"]},{emoji:"🇸🇬",aliases:["singapore"]},{emoji:"🇸🇽",aliases:["sint maarten"]},{emoji:"🇸🇰",aliases:["slovakia"]},{emoji:"🇸🇮",aliases:["slovenia"]},{emoji:"🇸🇧",aliases:["solomon islands"]},{emoji:"🇸🇴",aliases:["somalia"]},{emoji:"🇿🇦",aliases:["south africa"]},{emoji:"🇬🇸",aliases:["south georgia south sandwich islands"]},{emoji:"🇰🇷",aliases:["kr"]},{emoji:"🇸🇸",aliases:["south sudan"]},{emoji:"🇪🇸",aliases:["es"]},{emoji:"🇱🇰",aliases:["sri lanka"]},{emoji:"🇸🇩",aliases:["sudan"]},{emoji:"🇸🇷",aliases:["suriname"]},{emoji:"🇸🇿",aliases:["swaziland"]},{emoji:"🇸🇪",aliases:["sweden"]},{emoji:"🇨🇭",aliases:["switzerland"]},{emoji:"🇸🇾",aliases:["syria"]},{emoji:"🇹🇼",aliases:["taiwan"]},{emoji:"🇹🇯",aliases:["tajikistan"]},{emoji:"🇹🇿",aliases:["tanzania"]},{emoji:"🇹🇭",aliases:["thailand"]},{emoji:"🇹🇱",aliases:["timor leste"]},{emoji:"🇹🇬",aliases:["togo"]},{emoji:"🇹🇰",aliases:["tokelau"]},{emoji:"🇹🇴",aliases:["tonga"]},{emoji:"🇹🇹",aliases:["trinidad tobago"]},{emoji:"🇹🇳",aliases:["tunisia"]},{emoji:"🇹🇷",aliases:["tr"]},{emoji:"🇹🇲",aliases:["turkmenistan"]},{emoji:"🇹🇨",aliases:["turks caicos islands"]},{emoji:"🇹🇻",aliases:["tuvalu"]},{emoji:"🇺🇬",aliases:["uganda"]},{emoji:"🇺🇦",aliases:["ukraine"]},{emoji:"🇦🇪",aliases:["united arab emirates"]},{emoji:"🇬🇧",aliases:["gb","uk"]},{emoji:"🇺🇸",aliases:["us"]},{emoji:"🇻🇮",aliases:["us virgin islands"]},{emoji:"🇺🇾",aliases:["uruguay"]},{emoji:"🇺🇿",aliases:["uzbekistan"]},{emoji:"🇻🇺",aliases:["vanuatu"]},{emoji:"🇻🇦",aliases:["vatican city"]},{emoji:"🇻🇪",aliases:["venezuela"]},{emoji:"🇻🇳",aliases:["vietnam"]},{emoji:"🇼🇫",aliases:["wallis futuna"]},{emoji:"🇪🇭",aliases:["western sahara"]},{emoji:"🇾🇪",aliases:["yemen"]},{emoji:"🇿🇲",aliases:["zambia"]},{emoji:"🇿🇼",aliases:["zimbabwe"]}]},function(e,t,n){"use strict";function a(){var e=[{user:{username:"everyone",_id:"everyone"},icon:p.icon.type,projectName:p.name}].concat(p.users);if(e.length>1)return""===w?(j=e.filter(function(e){var t=e.user;return t._id!==Zeplin.user._id&&"invited"!==t.status}),E=1,g=j[1]):j=e.filter(function(e){var t=e.user;return t._id!==Zeplin.user._id&&"invited"!==t.status&&t.username.startsWith(w)}),j.length?(j.forEach(i),b.appendChild(v),!g||o(g)?(E=0,g=j[0]):E=b.querySelector(".suggestedItem[data-id='"+g.user._id+"']").dataset.index,b):void u();u()}function i(e,t){var n=document.importNode(S.content,!0),a=n.querySelector(".suggestedItem"),i=n.querySelector(".suggestedUserName"),o=n.querySelector(".everyoneInfo"),r=n.querySelector(".suggestedUserImage"),s=n.querySelector(".projectIcon");a.dataset.id=e.user._id,a.dataset.index=t,i.textContent=e.user.username||e.user.email,i.title=e.user.username||e.user.email,"everyone"===e.user._id?(o.textContent="Notify everyone in "+e.projectName,s.dataset.type=e.icon,r.parentElement.classList.add("hidden")):(o.textContent="",h.B(r,e.user)),v.appendChild(n)}function o(e){return!j.some(function(t){return t.user._id===e.user._id})}function r(e){var t=d.value.substring(0,d.selectionStart),n=d.value.substring(d.selectionStart),a=e.user.username,i=t.substr(0,t.lastIndexOf("@"))+"@"+a+" ";d.value=i+n,m.innerHTML=h.g(d.value)+"&nbsp;",d.focus(),d.setSelectionRange(i.length+1,i.length+1),u()}function s(e,t,n){if(d=e,m=t,p=n,!b.classList.contains("hidden")){var i=b.querySelector(".suggestedItem.selected");i&&(g=j[i.dataset.index])}var o,r=h.i(d.value.substring(0,d.selectionStart),!0);return o=h.i(d.value.substr(d.selectionStart)),o=o>-1?d.selectionStart+o:0,u(),w=null,"everyone"===(w=o?d.value.substring(r+1,o):d.value.substring(r+1))&&(w=""),a()}function l(){w&&y.b(f)}function c(){f={elements:{textContainer:d,suggestedListContainer:b},cb:{autoComplete:r},index:E,list:j},y.b(f)}function u(){y.a()}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"manageSuggestedUsers",function(){return s}),n.d(t,"checkStatus",function(){return l}),n.d(t,"open",function(){return c}),n.d(t,"close",function(){return u});var d,m,g,p,f,h=n(0),y=n(45),b=document.getElementById("suggestedUsersContainer"),v=b.querySelector(".suggestedListBox"),S=document.getElementById("suggestedUsersTemplate"),j=[],E=0,w=null},function(e,t,n){"use strict";function a(e,t){b.classList.add("hidden");var n=document.elementFromPoint(e,t);return b.classList.remove("hidden"),n}function i(){requestAnimationFrame(function(){f&&s(u.root)})}function o(e,t,n){y=e,l(t,n),y.classList.add("target"),f=!0,c=!1,d=u.root.scrollHeight,u.root.addEventListener("scroll",i),u.onGrab&&u.onGrab(y,b)}function r(e){return["input","textarea"].includes(e.tagName.toLowerCase())||e.isContentEditable}function s(e){var t=S.x,n=S.y;S.x=e.scrollLeft,S.y=e.scrollTop,v.x+=t-S.x,v.y+=n-S.y}function l(e,t){var n=y.getBoundingClientRect(),a=u.root.getBoundingClientRect();S.x=u.root.scrollLeft,S.y=u.root.scrollTop,v.x=e-(n.left+S.x-a.left),v.y=t-(n.top+S.y-a.top),(b=y.cloneNode(!0)).style.top=t-v.y+"px",b.style.left=e-v.x+"px",b.classList.add("mirror"),u.root.appendChild(b)}var c,u,d,m={root:document.body,allowX:!0,allowY:!0,grabDelay:300},g={},p=0,f=!1,h=!1,y=null,b=null,v={x:0,y:0},S={x:0,y:0};document.addEventListener("click",function(e){h&&(e.preventDefault(),e.stopImmediatePropagation())},!0),document.addEventListener("mousedown",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT&&!r(e.target)){var t=e.target.closest("[data-drag-id] > *");t&&((u=g[parseInt(t.parentNode.dataset.dragId,10)]).canGrab&&!u.canGrab(t,e.target)||(clearTimeout(c),c=setTimeout(o,u.grabDelay,t,e.clientX,e.clientY)))}}),document.addEventListener("mouseup",function(e){if(h=!1,c)clearTimeout(c),c=!1;else if(f){e.stopPropagation(),h=!0,f=!1,u.root.removeEventListener("scroll",i);var t=Promise.resolve();if(u.onDrop){var n,o,r=a(e.clientX,e.clientY);r&&(n=r.closest('[data-drag-id="'+u.dragId+'"] > *:not(.mirror)'),o=r.closest('[data-drag-id="'+u.dragId+'"]')||r.closest('[data-drop-target-for="'+u.dragId+'"]')),t=u.onDrop(y.parentNode,y,o,n,b)||t}t.then(function(){y.classList.remove("target"),b&&(b.remove(),b=null),y=null,u=null})}}),document.addEventListener("mousemove",function(e){if(f){var t=b.getBoundingClientRect(),n=u.root.getBoundingClientRect();u.allowY&&(e.clientY>window.innerHeight-t.height/10&&u.root.scrollTop+u.root.offsetHeight+t.height/10<d?u.root.scrollTop+=t.height/10:e.clientY<n.top+t.height/10&&u.root.scrollTop>0&&(u.root.scrollTop-=t.height/10))}}),document.addEventListener("mousemove",function(e){if(f){u.allowY&&(b.style.top=e.clientY-v.y+"px"),u.allowX&&(b.style.left=e.clientX-v.x+"px");var t,n,i=a(e.clientX,e.clientY);i&&(t=i.closest('[data-drag-id="'+u.dragId+'"] > *:not(.mirror)'),n=i.closest('[data-drag-id="'+u.dragId+'"]')||i.closest('[data-drop-target-for="'+u.dragId+'"]')),u.onMove(y.parentNode,y,n,t,b)}}),t.a={enable:function(e){[].concat(e).forEach(function(e){(e=Object.assign({},m,e)).containers=[].concat(e.containers).map(function(e){return e.dataset.dragId=p,e}),e.dropTargets=(e.dropTargets||[]).map(function(e){return e.dataset.dropTargetFor=p,e}),e.dragId=p,g[p]=e,p++})},disable:function(e){delete g[e]}}},function(e,t,n){"use strict";function a(e,t){return fetch(Zeplin.urls.baseURL+"/projects/"+e+"/integrations/slacks/"+t+"/events",{method:"GET",headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw v.a(e.status,t)})}).then(function(e){return e.events}).catch(function(e){v.b(e)})}function i(e,t,n){return fetch(Zeplin.urls.baseURL+"/projects/"+e+"/integrations/slacks/"+t+"/events/"+n,{method:"POST",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw v.a(e.status,t)})}).catch(function(e){v.b(e)})}function o(e,t,n){return fetch(Zeplin.urls.baseURL+"/projects/"+e+"/integrations/slacks/"+t+"/events/"+n,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw v.a(e.status,t)})}).catch(function(e){v.b(e)})}function r(e){var t=e.target.closest(".integrationPreference"),n=e.target;t.classList.add("loading"),e.target.disabled=!0;var a=n.name;(n.checked?u(a,h,y).then(function(){T[y][a]=Array.from(k[a].events)}):d(a,h,y).then(function(){delete T[y][a]})).then(function(){e.target.disabled=!1,t.classList.remove("loading")}).catch(function(n){e.target.disabled=!1,e.target.checked=!e.target.checked,t.classList.remove("loading"),v.b(n)})}function s(e,t){T={};var n=t.map(function(t){return a(e,t)});return Promise.all(n).then(function(e){e.forEach(function(e,n){var a=t[n];T[a]=e.reduce(function(e,t){return e[q[t]]?e[q[t]].push(t):e[q[t]]=[t],e},{})})})}function l(e,t){document.querySelector(".integrationPreferences input[type='checkbox'][name='"+e+"']").checked=t}function c(e){Array.from(document.querySelectorAll(".integrationPreferences input[type='checkbox']")).forEach(function(e){e.checked=!1}),Object.keys(T[e]).forEach(function(t){T[e][t].length===k[t].events.length&&l(t,!0)})}function u(e,t,n){return k[e].events.reduce(function(e,a){return e.then(function(){return i(t,n,a)})},Promise.resolve())}function d(e,t,n){return k[e].events.reduce(function(e,a){return e.then(function(){return o(t,n,a)})},Promise.resolve())}function m(){E.classList.add("hidden")}function g(e){b&&j.c.unsubscribe(b),b="private-project@"+e;var t=j.c.channel(b)||j.c.subscribe(b);t.bind("AddIntegrationEvent",function(e){if(e.params.pid===h&&"slacks"===e.params.intype&&T[e.params.inid]){var t=q[e.params.event];T[e.params.inid][t]?-1===T[e.params.inid][t].indexOf(e.params.event)&&T[e.params.inid][t].push(e.params.event):T[e.params.inid][t]=[e.params.event],E.classList.contains("hidden")||T[e.params.inid][t].length===k[t].events.length&&l(t,!0)}}),t.bind("DeleteIntegrationEvent",function(e){var t=q[e.params.event];e.params.pid===h&&"slacks"===e.params.intype&&T[e.params.inid]&&T[e.params.inid][t]&&T[e.params.inid][t].indexOf(e.params.event)>-1&&(S.b(T[e.params.inid][t],function(t){return t===e.params.event}),E.classList.contains("hidden")||l(t,!1))})}function p(e,t){h=e,s(e,t).then(function(){g(e)})}function f(e,t){y=e,E.classList.remove("hidden"),x.textContent=t,x.title=t,c(e),D.scrollTop=1,D.scrollTop=0}n.d(t,"a",function(){return p}),n.d(t,"b",function(){return f});var h,y,b,v=n(1),S=n(0),j=n(7),E=document.querySelector(".integrationPreferencesContainer"),w=document.querySelector(".integrationPreferencesDialog"),C=document.querySelector(".integrationPreferencesDone"),L=document.getElementById("slackIntegrationPreferenceTemplate"),D=document.querySelector(".integrationPreferences"),x=document.querySelector(".integrationPreferencesHeader span"),k={screens:{name:"Screens",info:"Screen added",events:["screen.created"]},versions:{name:"Screen versions",info:"Version added to screen",events:["version.created"]},colors:{name:"Colors",info:"Color added, removed or updated on Styleguide",events:["color.created","color.updated","color.deleted"]},textStyles:{name:"Text styles",info:"Text style added, removed or updated on Styleguide",events:["textstyle.created","textstyle.updated","textstyle.deleted"]},notes:{name:"Notes",info:"Note added",events:["dot.created"]},replies:{name:"Replies",info:"Replied to note",events:["dot.comment.created"]},members:{name:"Members",info:"Member invited",events:["project.user.invited"]},projectStatus:{name:"Project status",info:"Project archived or activated",events:["project.archived","project.activated"]}},q=Object.keys(k).reduce(function(e,t){return k[t].events.reduce(function(e,n){return e[n]=t,e},e)},{}),T={};Object.keys(k).forEach(function(e){var t=k[e],n=document.importNode(L.content,!0),a=n.querySelector(".integrationPreferenceGroupName"),i=n.querySelector(".integrationPreferenceGroupInfo"),o=n.querySelector("input[type='checkbox']");a.textContent=t.name,a.title=t.name,i.textContent=t.info,i.title=t.info,o.name=e,D.appendChild(n)}),E.addEventListener("click",function(e){e.stopPropagation(),m()}),w.addEventListener("click",function(e){e.stopPropagation()}),C.addEventListener("click",function(){m()}),Array.from(document.querySelectorAll(".integrationPreferences input[type='checkbox']")).forEach(function(e){e.addEventListener("change",r)})},function(e,t,n){"use strict";function a(){return c?Promise.resolve(c):fetch(Zeplin.urls.baseURL+"/organizations",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return c=t.organizations;throw Object(f.a)(e.status,t)})})}function i(e,t){return e in b?Promise.resolve(b[e]):fetch(Zeplin.urls.baseURL+"/organizations/"+e+"/members/"+t+"/profile",{headers:Zeplin.headers}).then(function(t){return t.json().then(function(n){if(t.ok)return b[e]=n,b[e];throw Object(f.a)(t.status,n)})})}function o(e){var t=e||"user";return t in v?Promise.resolve(v[t]):fetch(Zeplin.urls.baseURL+(e?"/organizations/"+e:"/v2")+"/projects",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(n){if(e.ok)return v[t]=n.projects,v[t];throw Object(f.a)(e.status,n)})})}function r(e,t,n,a,i){return fetch(Zeplin.urls.baseURL+(e&&"user"!==e?"/organizations/"+e:"")+"/projects",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({name:i||"Untitled",type:t,density:a,icon:{type:n}})}).then(function(e){return e.json().then(function(t){if(e.ok)return v={},{pid:t._id,density:a};throw Object(f.a)(e.status,t)})})}function s(e,t){return fetch(Zeplin.urls.baseURL+"/projects/"+e+"/density",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({density:t})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Object(f.a)(e.status,t)});v={}})}function l(e,t,n){return fetch(Zeplin.urls.baseURL+"/projects/"+e+"/screens/projects/"+t,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({screens:n})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Object(f.a)(e.status,t)})})}var c,u=n(18),d=n.n(u),m=n(88),g=n(2),p=n(0),f=n(1),h=n(90),y=(n.n(h),Object.freeze({android:"Android",ios:"iOS",osx:"macOS",web:"Web"})),b={},v={};class S extends d.a.Component{constructor(){super(),this.closePopup=this.closePopup.bind(this),this.escHandler=this.escHandler.bind(this),this.selectHandler=this.selectHandler.bind(this),this.checkDensityAndMoveScreen=this.checkDensityAndMoveScreen.bind(this),this.moveHandler=this.moveHandler.bind(this),this.state={loading:!0,spinnerIndex:-1}}stopPropagation(e){e.stopPropagation()}getInteractiveItemAtIndex(e){return this.state.listItems.filter(function(e){return"header"!==e.type})[e]}closePopup(){this.props.onClose&&this.props.onClose(),d.a.render(null,document.body,this.base)}escHandler(e){e.keyCode===Zeplin.KEY_CODE.ESC&&this.closePopup()}moveHandler(){mixpanel.track("Moved screens to project"),this.props.onMove&&this.props.onMove()}handleErrorBySuggestingUpgrade(e){this.setState({spinnerIndex:-1}),Object(f.b)(e,{clientErrorHandler:{402:function(){g.a({title:"Please upgrade your plan first",message:"Looks like you reached your project limit, upgrade now to create more!",cancel:{name:"CANCEL"},done:{name:"SEE PLANS",cb:function(){document.getElementById("planChooserOverlay").classList.remove("hidden"),mixpanel.track("Opened pricing popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-pricing-popup"),ga("send","pageview","/pricing-popup")}}})},default:f.b}})}selectHandler(e){var t=this,n=t.getInteractiveItemAtIndex(e),a="create"===n.type?"a new project":'"'+n.name+'"';g.a({message:'Move selected screen from "'+t.props.sourceProject.name+'" to '+a+"?",done:{name:"MOVE",cb:function(){t.setState({spinnerIndex:e});var a;switch(n.type){case"create":a=r(n.oid,t.props.projectType,p.k(),t.props.density);break;case"project":a=Promise.resolve(n)}a.then(t.checkDensityAndMoveScreen).then(t.moveHandler).catch(t.handleErrorBySuggestingUpgrade).then(t.closePopup,t.closePopup)}},cancel:{name:"KEEP"}})}filterSortEligibleProjects(e){var t=this;return e.filter(function(e){var n,a=e._id!==t.props.sourceProject.id&&e.type===t.props.projectType&&("unknown"===e.density||e.density===t.props.density),i="active"===e.status;if(p.q(e)){var o=e.users.find(function(e){return e.user._id===Zeplin.user._id});n=o&&p.w.canManageScreens(o)}else{var r=e.users.find(function(e){return"owner"===e.role});n=r.user._id===Zeplin.user._id||"free"!==r.user.paymentPlan}return a&&i&&n}).sort(p.D.name)}getEligiblePersonalProjects(){var e=this;return"user"!==(this.props.oid||"user")?Promise.resolve(null):o().then(function(t){return e.filterSortEligibleProjects(t)})}getEligibleOrganizationsWithProjects(){var e=this,t=this.props.oid||"user";return a().then(function(e){return e.filter(function(e){return"active"===e.status&&("user"===t||t===e._id)})}).then(function(e){return Promise.all(e.map(function(e){return i(e._id,Zeplin.user._id)})).then(function(t){return e.filter(function(e,n){return p.w.canMoveScreens(t[n])}).sort(p.D.name)})}).then(function(t){return Promise.all(t.map(function(e){return o(e._id)})).then(function(n){return n.map(function(n,a){var i=e.filterSortEligibleProjects(n);return[t[a],i]})})})}checkDensityAndMoveScreen(e){var t=this,n=e.pid;return("unknown"===e.density?s(n,t.props.density):Promise.resolve()).then(function(){return l(t.props.sourceProject.id,n,t.props.sids)})}positionPopup(){var e=this.base.getBoundingClientRect(),t=Math.max(108,this.props.top-e.height/2);t=Math.min(t,window.innerHeight-24-e.height);var n=Math.min(this.props.left,window.innerWidth-36-e.width);this.base.style.top=t+"px",this.base.style.left=n+"px"}componentDidMount(){this.positionPopup(),document.addEventListener("click",this.closePopup),document.addEventListener("keydown",this.escHandler);var e=this;Promise.all([this.getEligiblePersonalProjects(),this.getEligibleOrganizationsWithProjects()]).then(function(t){var n=t[0],a=t[1],i=[];n&&(i.push({type:"header",content:"Personal Projects"},{type:"create",oid:"user"}),i=i.concat(n.map(function(e){return{type:"project",pid:e._id,name:e.name,density:e.density}}))),i=i.concat(a.reduce(function(e,t){var n=t[0],a=t[1];return e.push({type:"header",content:n.name+"'s Projects"},{type:"create",oid:n._id}),e.concat(a.map(function(e){return{type:"project",pid:e._id,name:e.name,density:e.density}}))},[])),e.setState({listItems:i,loading:!1})}).catch(function(t){e.setState({listItems:[],loading:!1}),Object(f.b)(t)})}componentWillUnmount(){document.removeEventListener("click",this.closePopup),document.removeEventListener("keydown",this.escHandler)}componentDidUpdate(){this.positionPopup()}static createEmptyState(){return d.a.h("div",{class:"projectListEmpty"},d.a.h("h3",null,d.a.h("div",null)),d.a.h("div",{class:"dummyListItems"}))}render(e,t){var n;return n=t.loading?S.createEmptyState():d.a.h(m.a,{projectType:y[e.projectType],density:e.density,items:t.listItems,spinnerIndex:t.spinnerIndex,onSelect:this.selectHandler}),d.a.h("div",{class:"moveScreenPopup",onClick:this.stopPropagation,onContextMenu:this.stopPropagation},d.a.h("p",null,"To keep asset sizes and measurements consistent, only ",d.a.h("strong",null,y[e.projectType])," projects with ",d.a.h("strong",null,e.density)," density are listed. Select one or create a new one to move the screen:"),n)}}t.a=S},function(e,t,n){"use strict";var a=n(18),i=n.n(a),o=n(0),r=n(89),s=(n.n(r),i.a.h("svg",{class:"spinner",width:"12",height:"12",viewBox:"0 0 12 12"},i.a.h("g",{"fill-rule":"evenodd"},i.a.h("path",{d:"M4.328 3.606c-.398.035-.75-.256-.784-.657L3.354.785c-.034-.398.258-.748.658-.783.398-.035.75.257.784.657l.19 2.163c.034.398-.257.748-.658.783z"}),i.a.h("path",{d:"M3.125 5.49c-.257.306-.71.348-1.02.09L.444 4.183c-.306-.257-.348-.71-.09-1.02.258-.305.712-.347 1.02-.088L3.036 4.47c.306.258.348.712.09 1.02z",opacity:".3"}),i.a.h("path",{d:"M3.606 7.672c.035.398-.256.75-.657.784l-2.164.19c-.398.034-.748-.258-.783-.658-.035-.398.257-.75.657-.784l2.163-.19c.398-.034.748.257.783.658z",opacity:".4"}),i.a.h("path",{d:"M5.49 8.875c.306.257.348.71.09 1.02l-1.396 1.662c-.257.306-.71.348-1.02.09-.305-.258-.347-.712-.088-1.02L4.47 8.964c.258-.306.712-.348 1.02-.09z",opacity:".5"}),i.a.h("path",{d:"M7.672 8.394c.398-.035.75.256.784.657l.19 2.164c.034.398-.258.748-.658.783-.398.035-.75-.257-.784-.657l-.19-2.163c-.034-.398.257-.748.658-.783z",opacity:".6"}),i.a.h("path",{d:"M8.875 6.51c.257-.306.71-.348 1.02-.09l1.662 1.396c.306.257.348.71.09 1.02-.258.305-.712.347-1.02.088L8.964 7.53c-.306-.258-.348-.712-.09-1.02z",opacity:".7"}),i.a.h("path",{d:"M8.394 4.328c-.035-.398.256-.75.657-.784l2.164-.19c.398-.034.748.258.783.658.035.398-.257.75-.657.784l-2.163.19c-.398.034-.748-.257-.783-.658z",opacity:".85"}),i.a.h("path",{d:"M6.51 3.125c-.306-.257-.348-.71-.09-1.02L7.817.444c.257-.306.71-.348 1.02-.09.305.258.347.712.088 1.02L7.53 3.036c-.258.306-.712.348-1.02.09z",opacity:".95"}))));class l extends i.a.Component{constructor(e){super(),this.mouseEnterHandler=this.mouseEnterHandler.bind(this),this.mouseMoveHandler=this.mouseMoveHandler.bind(this),this.clickHandler=this.clickHandler.bind(this),this.keydownHandler=this.keydownHandler.bind(this),this.itemCount=l.getInteractiveItemCount(e.items),this.state={selectedIndex:0}}static getInteractiveItemCount(e){return e.filter(function(e){return"header"!==e.type}).length}mouseEnterHandler(e){this.lastX=e.clientX,this.lastY=e.clientY}mouseMoveHandler(e){if(e.stopPropagation(),this.lastX!==e.clientX||this.lastY!==e.clientY){var t=e.target.closest("[data-index]");if(t){var n=parseInt(t.dataset.index,10);n!==this.state.selectedIndex&&this.setState({selectedIndex:n}),this.lastX=e.clientX,this.lastY=e.clientY}}}clickHandler(e){e.stopPropagation(),this.props.onSelect&&this.props.onSelect(this.state.selectedIndex)}keydownHandler(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:this.props.onSelect&&this.props.onSelect(this.state.selectedIndex);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),this.setState({selectedIndex:Math.max(0,this.state.selectedIndex-1)});break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),this.setState({selectedIndex:Math.min(this.state.selectedIndex+1,this.itemCount-1)})}}componentDidMount(){document.addEventListener("keydown",this.keydownHandler)}componentWillReceiveProps(e){this.itemCount=l.getInteractiveItemCount(e.items)}componentDidUpdate(){o.z(this.base.querySelector("[data-index='"+this.state.selectedIndex+"']"))}componentWillUnmount(){document.removeEventListener("keydown",this.keydownHandler)}createHeader(e){return i.a.h("h3",{key:e},i.a.h("span",null,e)," ",i.a.h("span",null,"(",this.props.projectType,", ",this.props.density,")"))}createProjectButton(e,t){var n=["newProjectButton"];return t===this.state.selectedIndex&&n.push("selected"),i.a.h("div",{key:e,class:n.join(" "),"data-index":t,"data-oid":e},i.a.h("svg",{class:"plus",width:"24",height:"24"},i.a.h("g",{fill:"none","fill-rule":"evenodd"},i.a.h("circle",{cx:"12",cy:"12",r:"12"}),i.a.h("path",{d:"M13 7.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5V11H7.5a.5.5 0 0 0-.5.5v1c0 .3.2.5.5.5H11v3.5c0 .3.2.5.5.5h1a.5.5 0 0 0 .5-.5V13h3.5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H13V7.5z"}))),i.a.h("div",null,i.a.h("div",null,"New project"),i.a.h("div",null,"Create a new project and transfer screens")),t===this.props.spinnerIndex&&s)}createProjectItem(e,t,n,a){var o=["project"];return n&&o.push("odd"),a===this.state.selectedIndex&&o.push("selected"),i.a.h("div",{key:e,class:o.join(" "),title:t,"data-index":a},i.a.h("span",null,t),a===this.props.spinnerIndex&&s)}render(e,t){var n=this,a=0,o=!1,r=e.items.map(function(e){switch(e.type){case"header":return n.createHeader(e.content);case"create":return o=!1,n.createProjectButton(e.oid,a++);case"project":return o=!o,n.createProjectItem(e.pid,e.name,o,a++);default:return null}});return i.a.h("div",{class:"projectList",onMouseEnter:this.mouseEnterHandler,onMouseMove:this.mouseMoveHandler,onClick:this.clickHandler},r)}}t.a=l},function(e,t){},function(e,t){}]);
//# sourceMappingURL=maps/project.js.map
